{"remainingRequest":"C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\src\\components\\Pages\\EngagementDetail\\AddForm\\AddForm.ts?vue&type=script&lang=ts","dependencies":[{"path":"C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\src\\components\\Pages\\EngagementDetail\\AddForm\\AddForm.ts","mtime":1645056584000},{"path":"C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645212043389},{"path":"C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\node_modules\\babel-loader\\lib\\index.js","mtime":1645212137641},{"path":"C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\node_modules\\ts-loader\\index.js","mtime":1645212132056}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgKi8KCi8qIGVzbGludC1kaXNhYmxlIHZ1ZS9uby1kdXBlLWtleXMgKi8KCi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi8KaW1wb3J0IEhlbHBlciBmcm9tICdAL2dsb2JhbEZ1bmN0aW9ucy9IZWxwZXInOwppbXBvcnQgU2VydmljZUVuZ2FnZW1lbnQgZnJvbSAnQC9zZXJ2aWNlL1NlcnZpY2VFbmdhZ2VtZW50L1NlcnZpY2VFbmdhZ2VtZW50JzsKaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgb25CZWZvcmVNb3VudCwgZGVmaW5lQXN5bmNDb21wb25lbnQgfSBmcm9tICd2dWUnOwpjb25zdCBBZGRJbm5lckZvcm0gPSBkZWZpbmVBc3luY0NvbXBvbmVudCgoKSA9PiBpbXBvcnQoJ0AvY29tcG9uZW50cy9QYWdlcy9FbmdhZ2VtZW50RGV0YWlsL0FkZEZvcm0vQWRkSW5uZXJGb3JtLnZ1ZScpKTsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnQWRkRm9ybScsCiAgZW1pdDogWydjbG9zZS1mb3JtJ10sCiAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICBwcm9wczogewogICAgaXNPcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmFsdXQ6IGZhbHNlCiAgICB9LAogICAgZm9ybURhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IFtdCiAgICB9LAogICAgaW5mbzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IHt9CiAgICB9LAogICAgaXNBZGRGb3JtOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBsaXN0UGFnZVBhcmFtOiB7CiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgc2hvd0FkZEljb246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGlzQWRkQnV0dG9uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBlbWFpbEZvcm06IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IFtdCiAgICB9LAogICAgaXNSZW1vdGU6IHsKICAgICAgZGVmYXVsdDogW10KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgICdpbm5lci1mb3JtJzogQWRkSW5uZXJGb3JtCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGVOYW1lOiAnJywKICAgICAgaW5mb1BvcHVwOiBmYWxzZSwKICAgICAgaW5mb0ljb246IHRydWUsCiAgICAgIGNsb3Nlc3VjY2VzczogZmFsc2UsCiAgICAgIHNob3dmb3JtczogdHJ1ZQogICAgfTsKICB9LAoKICBzZXR1cChwcm9wcywgewogICAgZW1pdAogIH0pIHsKICAgIGNvbnN0IG9wZW5Gb3JtID0gcmVmKHByb3BzLmlzT3Blbik7CiAgICBjb25zdCBkYXRhID0gcmVmKHByb3BzLmZvcm1EYXRhKTsKICAgIGNvbnN0IHN1Ym1pdHRlZCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBwb3N0RGF0YSA9IHJlZih7fSk7CiAgICBjb25zdCBpbmZvID0gcmVmKHByb3BzLmluZm8pOwogICAgY29uc3QgbG9hZGVyID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IHZhbGlkYXRpb25SZXMgPSByZWYoe30pOwogICAgY29uc3QgZm9ybWF0dGVyID0gcmVmKHsKICAgICAgZGF0ZTogJ1lZWVktTU0tREQnLAogICAgICBtb250aDogJ01NTScKICAgIH0pOwogICAgY29uc3Qgc2VsZWN0ZWRGaWxlID0gcmVmKFtdKTsKICAgIGNvbnN0IGlzU3VibWl0Rm9ybWRhdGEgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZW5kRGF0ZSA9IHJlZihbXSk7CiAgICBjb25zdCBzaG93RXJyb3IgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZXJyb3JNc2cgPSByZWYoJycpOwogICAgY29uc3QgaXNGcm9tY29zdCA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBpc0FkZEZvcm0gPSByZWYocHJvcHMuaXNBZGRGb3JtKTsKICAgIGNvbnN0IHRvdGFsUGFnZXMgPSByZWYoMCk7CiAgICBjb25zdCBsaXN0ID0gcmVmKFtdKTsKICAgIGNvbnN0IGxpc3RQYWdlTG9hZGVyID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGRpc2FibGVkU2Nyb2xsID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IHNlYXJjaEJ5VGV4dCA9IHJlZignJyk7CiAgICBjb25zdCBjaGVja2VkRGF0YSA9IHJlZihbXSk7CiAgICBjb25zdCBpc1ZhbGlkRW1haWwgPSByZWYoZmFsc2UpOwogICAgY29uc3QgY3VycmVudFBhZ2UgPSByZWYoMSk7CiAgICBjb25zdCBpc0Zvcm1FbmFibGUgPSByZWYoZmFsc2UpOwogICAgY29uc3QgemlwTG9hZGVyID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGlzQ2xvbmVFbXAgPSByZWYoZmFsc2UpOwogICAgY29uc3QgaXNDbG9uZUZ1bGxOYW1lID0gcmVmKCcnKTsKICAgIGNvbnN0IGJvdHRvbUxvYWRlciA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBjYXRlcmVyRm9ybU1zZyA9IHJlZignJyk7CiAgICBjb25zdCB2YWxpZFBob25lID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IG1hc3Rlckxpc3QgPSByZWYoMCk7CiAgICBjb25zdCBtYXN0ZXJMaXN0UGFyYW0gPSByZWYoJycpOwogICAgY29uc3QgaW1nRXJyb3IgPSByZWYoMSk7CiAgICBjb25zdCBpc1JlbW90ZSA9IHJlZihwcm9wcy5pc1JlbW90ZSk7CiAgICBjb25zdCB1cGRhdGVIY3BFbWFpbElkID0gcmVmKCcnKTsKICAgIGNvbnN0IGhjcEVtYWlsVXBkYXRlRm9ybSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBpc0Nsb25lRW1wSWQgPSByZWYoW10pOwogICAgY29uc3QgYXR0RGVncmVlID0gcmVmKFtdKTsKICAgIGNvbnN0IGF0dFN0YXRlcyA9IHJlZihbXSk7CiAgICBjb25zdCBhdHRTcGVhY2lsaXRpZXMgPSByZWYoW10pOwogICAgY29uc3QgY2FsbEZpcnN0VGltZSA9IHJlZih0cnVlKTsKICAgIGNvbnN0IHZhbGlkTnBpID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IHZhbGlkWmlwID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGZ1enp5UmVxdWlyZWQgPSByZWYoZmFsc2UpOwogICAgY29uc3QgZnV6enlNc2cgPSByZWYoJycpOwogICAgY29uc3QgZnV6enlEYXRhID0gcmVmKHt9KTsKICAgIGNvbnN0IGZ1enp5VHlwZSA9IHJlZignJyk7CiAgICBjb25zdCBmdXp6eUxvYWRlciA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBmdXp6eURhdGFJZCA9IHJlZignJyk7CiAgICBjb25zdCBpc1Njcm9sbGVkID0gcmVmKHRydWUpOwogICAgY29uc3Qgc2hvd0lubmVyRm9ybSA9IHJlZihmYWxzZSk7CiAgICBjb25zdCBpbm5lckZvcm1EYXRhID0gcmVmKFtdKTsgLy8gRGlzYmxlZCBEYXRlCgogICAgY29uc3QgZERhdGUgPSBkYXRlID0+IHsKICAgICAgaWYgKGluZm8udmFsdWUuZnJvbSA9PT0gJ3Rhc2snKSB7CiAgICAgICAgcmV0dXJuIGRhdGUgPCBuZXcgRGF0ZSgpOwogICAgICB9CiAgICB9OyAvLyBEaXNibGVkIERhdGUKCgogICAgY29uc3Qgc2V0RW5kRGF0ZSA9IGRhdGUgPT4gewogICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZGF0YS52YWx1ZS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICBjb25zdCBlbGVtZW50ID0gZGF0YS52YWx1ZVtpbmRleF07CgogICAgICAgIGlmIChpbmZvLnZhbHVlLmZyb20gPT09ICd0YXNrJyAmJiBlbGVtZW50LnBhcmFtID09PSAnc3RhcnRfZGF0ZScpIHsKICAgICAgICAgIGVuZERhdGUudmFsdWUgPSBlbGVtZW50LnZhbHVlOwogICAgICAgIH0gZWxzZSBpZiAoaW5mby52YWx1ZS5mcm9tID09PSAnZWRpdHRhc2snICYmIGVsZW1lbnQucGFyYW0gPT09ICdkdWVfZGF0ZScpIHsKICAgICAgICAgIGVuZERhdGUudmFsdWUgPSBlbGVtZW50LnZhbHVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGVuZERhdGUudmFsdWUgIT09ICcnKSB7CiAgICAgICAgcmV0dXJuIGRhdGUgPCBuZXcgRGF0ZShlbmREYXRlLnZhbHVlKTsKICAgICAgfSBlbHNlIGlmIChpbmZvLnZhbHVlLnRpdGxlID09PSAnQWRkIFRhc2snKSB7CiAgICAgICAgcmV0dXJuIGRhdGUgPCBuZXcgRGF0ZSgpOwogICAgICB9CiAgICB9OwoKICAgIGNvbnNvbGUubG9nKCdmb3JtREFUYScsIHByb3BzLmZvcm1EYXRhKTsgLy8gR2V0IExpc3QgZGF0YSBmb3IgQWRkIGxpc3QgcGFnZQoKICAgIGNvbnN0IGdldExpc3REYXRhID0gYXN5bmMgKHBhZ2UgPSAnJykgPT4gewogICAgICAvLyBsaXN0UGFnZUxvYWRlci52YWx1ZSA9IHRydWU7CiAgICAgIGNvbnNvbGUubG9nKCdnZXRMaXN0RGF0YScpOwoKICAgICAgdHJ5IHsKICAgICAgICBsZXQgcGFnaW5hdGlvbiA9ICcnOwoKICAgICAgICBpZiAocGFnZSA9PT0gJycpIHsKICAgICAgICAgIHBhZ2UgPSAxOwogICAgICAgIH0KCiAgICAgICAgaWYgKGluZm8udmFsdWUubGlzdHBhZ2VwYXJhbSkgewogICAgICAgICAgaWYgKHNlYXJjaEJ5VGV4dC52YWx1ZSAhPT0gJycpIHsKICAgICAgICAgICAgcGFnaW5hdGlvbiA9ICc/cGFnZT0nICsgY3VycmVudFBhZ2UudmFsdWUgKyAnJmxpbWl0PScgKyAyNSArICcmc2VhcmNoPScgKyBzZWFyY2hCeVRleHQudmFsdWUgKyBpbmZvLnZhbHVlLmxpc3RwYWdlcGFyYW0gKyAnJm1lZXRpbmdfaWQ9JyArIGluZm8udmFsdWUubWVldGluZzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBhZ2luYXRpb24gPSAnP3BhZ2U9JyArIGN1cnJlbnRQYWdlLnZhbHVlICsgJyZsaW1pdD0nICsgMjUgKyBpbmZvLnZhbHVlLmxpc3RwYWdlcGFyYW0gKyAnJm1lZXRpbmdfaWQ9JyArIGluZm8udmFsdWUubWVldGluZzsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGluZm8udmFsdWUuZnJvbSA9PT0gJ2VtcCcpIHsKICAgICAgICAgIG1hc3Rlckxpc3RQYXJhbS52YWx1ZSA9ICdFbXBsb3llZSc7CgogICAgICAgICAgaWYgKHNlYXJjaEJ5VGV4dC52YWx1ZSAhPT0gJycpIHsKICAgICAgICAgICAgcGFnaW5hdGlvbiA9ICc/cGFnZT0nICsgY3VycmVudFBhZ2UudmFsdWUgKyAnJmxpbWl0PScgKyAyNSArICcmc2VhcmNoPScgKyBzZWFyY2hCeVRleHQudmFsdWUgKyAnJm1hc3Rlcj0nICsgbWFzdGVyTGlzdC52YWx1ZSArICcmbWVldGluZ19pZD0nICsgaW5mby52YWx1ZS5tZWV0aW5nOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFnaW5hdGlvbiA9ICc/cGFnZT0nICsgY3VycmVudFBhZ2UudmFsdWUgKyAnJmxpbWl0PScgKyAyNSArICcmbWVldGluZ19pZD0nICsgaW5mby52YWx1ZS5tZWV0aW5nICsgJyZtYXN0ZXI9JyArIG1hc3Rlckxpc3QudmFsdWU7CiAgICAgICAgICB9IC8vCgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoc2VhcmNoQnlUZXh0LnZhbHVlICE9PSAnJykgewogICAgICAgICAgICBwYWdpbmF0aW9uID0gJz9wYWdlPScgKyBjdXJyZW50UGFnZS52YWx1ZSArICcmbGltaXQ9JyArIDI1ICsgJyZzZWFyY2g9JyArIHNlYXJjaEJ5VGV4dC52YWx1ZSArICcmbWVldGluZ19pZD0nICsgaW5mby52YWx1ZS5tZWV0aW5nOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcGFnaW5hdGlvbiA9ICc/cGFnZT0nICsgY3VycmVudFBhZ2UudmFsdWUgKyAnJmxpbWl0PScgKyAyNSArICcmbWVldGluZ19pZD0nICsgaW5mby52YWx1ZS5tZWV0aW5nOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgbGV0IHBhcmFtOwoKICAgICAgICBpZiAoaW5mby52YWx1ZS5mcm9tID09PSAnaGNwJykgewogICAgICAgICAgbWFzdGVyTGlzdFBhcmFtLnZhbHVlID0gIkhDUCdzIjsKICAgICAgICAgIHBhcmFtID0gaW5mby52YWx1ZS5saXN0UGFnZUVuZFBvaW50OwogICAgICAgICAgaW5mby52YWx1ZS5saXN0cGFnZXBhcmFtLnBhZ2UgPSBjdXJyZW50UGFnZS52YWx1ZTsKICAgICAgICAgIGluZm8udmFsdWUubGlzdHBhZ2VwYXJhbS5hbGxfaGNwID0gbWFzdGVyTGlzdC52YWx1ZTsKCiAgICAgICAgICBpZiAoc2VhcmNoQnlUZXh0LnZhbHVlICE9PSAnJykgewogICAgICAgICAgICBpbmZvLnZhbHVlLmxpc3RwYWdlcGFyYW0uc2VhcmNoID0gc2VhcmNoQnlUZXh0LnZhbHVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGVsZXRlIGluZm8udmFsdWUubGlzdHBhZ2VwYXJhbS5zZWFyY2g7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuY29tbW9uRW5nUG9pbnQoaW5mby52YWx1ZS5saXN0UGFnZU1ldGhvZCwgcGFyYW0sIGluZm8udmFsdWUubGlzdHBhZ2VwYXJhbSk7CgogICAgICAgICAgaWYgKHJlcy5yZXN1bHQgJiYgcmVzLnJlc3VsdC5sZW5ndGggIT09IDApIHsKICAgICAgICAgICAgcmVzLnJlc3VsdCA9IHJlcy5yZXN1bHQuZmlsdGVyKGEgPT4gYS5maXJzdE5hbWUgIT09ICcnKTsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zb2xlLmxvZygncmVzLnJlc3VsdCcsIHJlcy5yZXN1bHQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwYXJhbSA9IGluZm8udmFsdWUubGlzdFBhZ2VFbmRQb2ludCArIHBhZ2luYXRpb247CiAgICAgICAgICB2YXIgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuY29tbW9uRW5nUG9pbnQoaW5mby52YWx1ZS5saXN0UGFnZU1ldGhvZCwgcGFyYW0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlcy5pc19zdWNjZXNzKSB7CiAgICAgICAgICBsZXQgbGlzdEFycmF5ID0gW107CiAgICAgICAgICBsaXN0QXJyYXkgPSByZXMucmVzdWx0OwogICAgICAgICAgbGlzdC52YWx1ZSA9IFsuLi5saXN0LnZhbHVlLCAuLi5saXN0QXJyYXldOwogICAgICAgICAgbGlzdC52YWx1ZS5zb3J0KCk7CiAgICAgICAgICB0b3RhbFBhZ2VzLnZhbHVlID0gcmVzLnRvdGFsX3BhZ2U7CiAgICAgICAgICBpc1Njcm9sbGVkLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdsaXN0LnZhbHVlJywgbGlzdC52YWx1ZS5sZW5ndGgpOwogICAgICAgIH0gZWxzZSB7Ly8gbGlzdC52YWx1ZSA9IFtdOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlJywgcmVzKTsKICAgICAgICBjb25zb2xlLmxvZygndG90YWxQYWdlcy52YWx1ZScsIHRvdGFsUGFnZXMudmFsdWUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGxpc3QudmFsdWUgPSBbXTsKICAgICAgfQoKICAgICAgYm90dG9tTG9hZGVyLnZhbHVlID0gZmFsc2U7IC8vIGxpc3RQYWdlTG9hZGVyLnZhbHVlID0gZmFsc2U7CiAgICB9OwoKICAgIGNvbnN0IGhhbmRsZVNjcm9sbCA9IGFzeW5jIGVsID0+IHsKICAgICAgaWYgKGVsLnNyY0VsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgZWwuc3JjRWxlbWVudC5zY3JvbGxUb3AgPj0gZWwuc3JjRWxlbWVudC5zY3JvbGxIZWlnaHQgLSAxMCkgewogICAgICAgIGNvbnNvbGUubG9nKHRvdGFsUGFnZXMudmFsdWUsICchPSAnLCBsaXN0LnZhbHVlLmxlbmd0aCk7CiAgICAgICAgY29uc29sZS5sb2coJ2xpc3QudmFsdWUubGVuZ3RoICcsIGxpc3QudmFsdWUubGVuZ3RoKTsKICAgICAgICBjb25zb2xlLmxvZygndG90YWxQYWdlcy52YWx1ZSAnLCB0b3RhbFBhZ2VzLnZhbHVlKTsKICAgICAgICBjb25zb2xlLmxvZygnaXNTY3JvbGxlZC52YWx1ZSAnLCBpc1Njcm9sbGVkLnZhbHVlKTsgLy8gaXNTY3JvbGxlZC52YWx1ZSA9IHRydWU7CgogICAgICAgIGlmICh0b3RhbFBhZ2VzLnZhbHVlICYmIHRvdGFsUGFnZXMudmFsdWUgIT09IGxpc3QudmFsdWUubGVuZ3RoICYmIGlzU2Nyb2xsZWQudmFsdWUgPT09IHRydWUpIHsKICAgICAgICAgIGlzU2Nyb2xsZWQudmFsdWUgPSBmYWxzZTsKICAgICAgICAgIGJvdHRvbUxvYWRlci52YWx1ZSA9IHRydWU7CiAgICAgICAgICBjdXJyZW50UGFnZS52YWx1ZSArPSAxOwogICAgICAgICAgYXdhaXQgZ2V0TGlzdERhdGEoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgZ2V0Q2hlY2tlZERhdGEgPSBhc3luYyAocm93LCBpc2NoZWNrZWQsIGV2ZW50KSA9PiB7CiAgICAgIC8vIHRoaXMuaW5mby5mcm9tID09ICJjb3N0IgogICAgICBpZiAoaW5mby52YWx1ZS5mcm9tID09PSAnY2F0ZXJlcicpIHsKICAgICAgICBpZiAoaXNjaGVja2VkKSB7CiAgICAgICAgICBzZWxlY3RPbmx5KHJvdy5pZCk7CiAgICAgICAgICBjaGVja2VkRGF0YS52YWx1ZSA9IHJvdy5pZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hlY2tlZERhdGEudmFsdWUgPSBbXTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaW5mby52YWx1ZS5mcm9tID09PSAnaGNwJykgewogICAgICAgIGlmIChpc2NoZWNrZWQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCctLUlzUmVtb3RlLS0nLCBpc1JlbW90ZS52YWx1ZSk7CgogICAgICAgICAgaWYgKGlzUmVtb3RlLnZhbHVlID09PSAxKSB7CiAgICAgICAgICAgIHNob3dJbm5lckZvcm0udmFsdWUgPSB0cnVlOyAvLyBpc0FkZEZvcm0udmFsdWUgPSB0cnVlOwoKICAgICAgICAgICAgaXNGb3JtRW5hYmxlLnZhbHVlID0gdHJ1ZTsKICAgICAgICAgICAgaW5uZXJGb3JtRGF0YS52YWx1ZSA9IHByb3BzLmVtYWlsRm9ybTsKCiAgICAgICAgICAgIGlmIChpbm5lckZvcm1EYXRhLnZhbHVlICYmIGlubmVyRm9ybURhdGEudmFsdWUubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGlubmVyRm9ybURhdGEudmFsdWUubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5uZXJGb3JtRGF0YS52YWx1ZVtpbmRleF07CgogICAgICAgICAgICAgICAgaWYgKHJvdy5lbWFpbCAmJiBlbGVtZW50LnBhcmFtID09PSAnZW1haWwnKSB7CiAgICAgICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSByb3cuZW1haWw7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJvdy50ZWxlcGhvbmUgJiYgZWxlbWVudC5wYXJhbSA9PT0gJ3RlbGVwaG9uZScpIHsKICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IHJvdy50ZWxlcGhvbmU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IC8vIGRhdGEudmFsdWUgPSBwcm9wcy5lbWFpbEZvcm07CgoKICAgICAgICAgICAgdXBkYXRlSGNwRW1haWxJZC52YWx1ZSA9IHJvdy5pZDsKICAgICAgICAgICAgY2hlY2tlZERhdGEudmFsdWUucHVzaChyb3cuaWQpOwogICAgICAgICAgICBoY3BFbWFpbFVwZGF0ZUZvcm0udmFsdWUgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaW5mby52YWx1ZS5lbmRQb2ludCA9IGluZm8udmFsdWUubGlzdFBhZ2VBZGRFbmRQb2ludDsKICAgICAgICAgICAgY2hlY2tlZERhdGEudmFsdWUucHVzaChyb3cuaWQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjaGVja2VkRGF0YS52YWx1ZS5zcGxpY2UoY2hlY2tlZERhdGEudmFsdWUuaW5kZXhPZihyb3cuaWQpLCAxKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzY2hlY2tlZCkgewogICAgICAgICAgLy8gQ2hlY2sgY2xvbmUgRW1wbG95ZWUKICAgICAgICAgIGlmIChpbmZvLnZhbHVlLmZyb20gPT09ICdlbXAnICYmIHJvdy5lbmdhZ2VtZW50X2FjY2VzcyA9PT0gJ1llcycgJiYgcm93LmlzQ2xvbmVkID09PSAwICYmIG1hc3Rlckxpc3QudmFsdWUgPT09IDEpIHsKICAgICAgICAgICAgaXNDbG9uZUVtcC52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgIGlzQ2xvbmVGdWxsTmFtZS52YWx1ZSA9IHJvdy5mdWxsX25hbWU7CiAgICAgICAgICB9CgogICAgICAgICAgY2hlY2tlZERhdGEudmFsdWUucHVzaChyb3cuaWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjaGVja2VkRGF0YS52YWx1ZS5zcGxpY2UoY2hlY2tlZERhdGEudmFsdWUuaW5kZXhPZihyb3cuaWQpLCAxKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKGNoZWNrZWREYXRhLnZhbHVlKTsKICAgIH07CgogICAgY29uc3Qgc2VsZWN0T25seSA9IGFzeW5jIGlkID0+IHsKICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QudmFsdWUubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgY29uc3QgZWxlbWVudCA9IGxpc3QudmFsdWVbaW5kZXhdOwogICAgICAgIGNvbnN0IHVuc2VsZWN0ZWRJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpOwoKICAgICAgICBpZiAodW5zZWxlY3RlZElkKSB7CiAgICAgICAgICB1bnNlbGVjdGVkSWQuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgY29uc3QgZ2V0SWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7CiAgICAgIGdldElkLmNoZWNrZWQgPSB0cnVlOwogICAgfTsgLy8gT24gQmVmb3JlIG1vdW50IEZ1bmN0aW9uCgoKICAgIG9uQmVmb3JlTW91bnQoYXN5bmMgKCkgPT4gewogICAgICBjb25zb2xlLmxvZygnaXNBZGRGb3JtLnZhbHVlJywgaXNBZGRGb3JtLnZhbHVlKTsKCiAgICAgIGlmICghaXNBZGRGb3JtLnZhbHVlKSB7CiAgICAgICAgbGlzdFBhZ2VMb2FkZXIudmFsdWUgPSB0cnVlOwogICAgICAgIGF3YWl0IGdldExpc3REYXRhKCk7CiAgICAgICAgbGlzdFBhZ2VMb2FkZXIudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfSk7CgogICAgY29uc3QgZ290b0Zvcm0gPSBhc3luYyAoKSA9PiB7CiAgICAgIGNoZWNrZWREYXRhLnZhbHVlID0gW107CgogICAgICBpZiAoZGF0YS52YWx1ZSAmJiBkYXRhLnZhbHVlLmxlbmd0aCAhPT0gMCkgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkYXRhLnZhbHVlLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRhdGEudmFsdWVbaW5kZXhdOwogICAgICAgICAgZWxlbWVudC52YWx1ZSA9ICcnOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaXNGb3JtRW5hYmxlLnZhbHVlID0gdHJ1ZTsKICAgICAgaXNBZGRGb3JtLnZhbHVlID0gIWlzQWRkRm9ybS52YWx1ZTsKCiAgICAgIGlmIChpbmZvLnZhbHVlLmZyb20gPT09ICdoY3AnICYmIGNhbGxGaXJzdFRpbWUudmFsdWUgPT09IHRydWUpIHsKICAgICAgICBjYWxsRmlyc3RUaW1lLnZhbHVlID0gZmFsc2U7CiAgICAgICAgYXdhaXQgZ2V0SW5mb0ZvckF0dGVuZGVlKCk7CiAgICAgIH0KICAgIH07IC8vIEdldCBEZWdyZWUsIFNwZWNpYWxpdHksU3RhdGUgb2YgTGljZW5zZQoKCiAgICBjb25zdCBnZXRJbmZvRm9yQXR0ZW5kZWUgPSBhc3luYyAoKSA9PiB7CiAgICAgIC8vIENvbW1vbiBGb3JtYXQgRHJvcGRvd24gbGlzdAogICAgICBhdHREZWdyZWUudmFsdWUgPSBhd2FpdCBTZXJ2aWNlRW5nYWdlbWVudC5nZXREZWdyZWUoKTsKICAgICAgYXR0RGVncmVlLnZhbHVlID0gYXdhaXQgSGVscGVyLmNvbW1vbkZvcm1hdEZvckRyb3Bkb3duKGF0dERlZ3JlZS52YWx1ZS5kYXRhLCAnbmFtZScpOwogICAgICBhdHRTcGVhY2lsaXRpZXMudmFsdWUgPSBhd2FpdCBTZXJ2aWNlRW5nYWdlbWVudC5nZXRTcGVjaWFsaXRpZXMoKTsKICAgICAgYXR0U3BlYWNpbGl0aWVzLnZhbHVlID0gYXdhaXQgSGVscGVyLmNvbW1vbkZvcm1hdEZvckRyb3Bkb3duKGF0dFNwZWFjaWxpdGllcy52YWx1ZS5kYXRhLCAnbmFtZScpOwogICAgICBhdHRTdGF0ZXMudmFsdWUgPSBhd2FpdCBTZXJ2aWNlRW5nYWdlbWVudC5nZXRTdGF0cygpOwogICAgICBhdHRTdGF0ZXMudmFsdWUgPSBhd2FpdCBIZWxwZXIuY29tbW9uRm9ybWF0Rm9yRHJvcGRvd24oYXR0U3RhdGVzLnZhbHVlLmRhdGEsICduYW1lJyk7CgogICAgICBpZiAoZGF0YS52YWx1ZSAmJiBkYXRhLnZhbHVlLmxlbmd0aCAhPT0gMCkgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBkYXRhLnZhbHVlLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRhdGEudmFsdWVbaW5kZXhdOwoKICAgICAgICAgIGlmIChlbGVtZW50LmxhYmVsID09PSAnRGVncmVlJykgewogICAgICAgICAgICBlbGVtZW50LmRyb3Bkb3dudmFsdWUgPSBhdHREZWdyZWUudmFsdWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGVsZW1lbnQubGFiZWwgPT09ICdTcGVjaWFsdHknKSB7CiAgICAgICAgICAgIGVsZW1lbnQuZHJvcGRvd252YWx1ZSA9IGF0dFNwZWFjaWxpdGllcy52YWx1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZWxlbWVudC5sYWJlbCA9PT0gJ1N0YXRlIG9mIExpY2Vuc2UnKSB7CiAgICAgICAgICAgIGVsZW1lbnQuZHJvcGRvd252YWx1ZSA9IGF0dFN0YXRlcy52YWx1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CgogICAgY29uc3QgYmFja3RvTGlzdCA9IGFzeW5jICgpID0+IHsKICAgICAgaXNGb3JtRW5hYmxlLnZhbHVlID0gZmFsc2U7CiAgICAgIGlzQWRkRm9ybS52YWx1ZSA9ICFpc0FkZEZvcm0udmFsdWU7CiAgICB9OyAvLyBDbGVhciBTZWFyY2gKCgogICAgY29uc3QgY2xlYXJTZWFyY2ggPSBhc3luYyAoKSA9PiB7CiAgICAgIHNlYXJjaEJ5VGV4dC52YWx1ZSA9ICcnOwogICAgICBjdXJyZW50UGFnZS52YWx1ZSA9IDE7CiAgICAgIGxpc3QudmFsdWUgPSBbXTsKICAgICAgbGlzdFBhZ2VMb2FkZXIudmFsdWUgPSB0cnVlOwogICAgICBhd2FpdCBnZXRMaXN0RGF0YSgpOwogICAgICBsaXN0UGFnZUxvYWRlci52YWx1ZSA9IGZhbHNlOwogICAgfTsKCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCBhc3luYyBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgJiYgc2VhcmNoQnlUZXh0LnZhbHVlICE9PSAnJykgewogICAgICAgIGxpc3QudmFsdWUgPSBbXTsKICAgICAgICBjdXJyZW50UGFnZS52YWx1ZSA9IDE7CiAgICAgICAgbGlzdFBhZ2VMb2FkZXIudmFsdWUgPSB0cnVlOwogICAgICAgIGF3YWl0IGdldExpc3REYXRhKCk7CiAgICAgICAgbGlzdFBhZ2VMb2FkZXIudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gewogICAgICBvcGVuRm9ybSwKICAgICAgZGF0YSwKICAgICAgc3VibWl0dGVkLAogICAgICBwb3N0RGF0YSwKICAgICAgaW5mbywKICAgICAgZm9ybWF0dGVyLAogICAgICBkRGF0ZSwKICAgICAgbG9hZGVyLAogICAgICB2YWxpZGF0aW9uUmVzLAogICAgICBzZWxlY3RlZEZpbGUsCiAgICAgIGlzU3VibWl0Rm9ybWRhdGEsCiAgICAgIHNldEVuZERhdGUsCiAgICAgIGVuZERhdGUsCiAgICAgIHNob3dFcnJvciwKICAgICAgZXJyb3JNc2csCiAgICAgIGlzRnJvbWNvc3QsCiAgICAgIGlzQWRkRm9ybSwKICAgICAgZ2V0TGlzdERhdGEsCiAgICAgIHRvdGFsUGFnZXMsCiAgICAgIGxpc3QsCiAgICAgIGxpc3RQYWdlTG9hZGVyLAogICAgICBoYW5kbGVTY3JvbGwsCiAgICAgIGRpc2FibGVkU2Nyb2xsLAogICAgICBnb3RvRm9ybSwKICAgICAgc2VhcmNoQnlUZXh0LAogICAgICBjbGVhclNlYXJjaCwKICAgICAgZ2V0Q2hlY2tlZERhdGEsCiAgICAgIGNoZWNrZWREYXRhLAogICAgICBpc1ZhbGlkRW1haWwsCiAgICAgIGN1cnJlbnRQYWdlLAogICAgICBpc0Zvcm1FbmFibGUsCiAgICAgIGJhY2t0b0xpc3QsCiAgICAgIHppcExvYWRlciwKICAgICAgc2VsZWN0T25seSwKICAgICAgaXNDbG9uZUVtcCwKICAgICAgaXNDbG9uZUZ1bGxOYW1lLAogICAgICBib3R0b21Mb2FkZXIsCiAgICAgIGNhdGVyZXJGb3JtTXNnLAogICAgICB2YWxpZFBob25lLAogICAgICBtYXN0ZXJMaXN0LAogICAgICBtYXN0ZXJMaXN0UGFyYW0sCiAgICAgIGltZ0Vycm9yLAogICAgICBpc1JlbW90ZSwKICAgICAgdXBkYXRlSGNwRW1haWxJZCwKICAgICAgaGNwRW1haWxVcGRhdGVGb3JtLAogICAgICBpc0Nsb25lRW1wSWQsCiAgICAgIGdldEluZm9Gb3JBdHRlbmRlZSwKICAgICAgYXR0RGVncmVlLAogICAgICBhdHRTdGF0ZXMsCiAgICAgIGF0dFNwZWFjaWxpdGllcywKICAgICAgY2FsbEZpcnN0VGltZSwKICAgICAgdmFsaWROcGksCiAgICAgIHZhbGlkWmlwLAogICAgICBmdXp6eVJlcXVpcmVkLAogICAgICBmdXp6eU1zZywKICAgICAgZnV6enlEYXRhLAogICAgICBmdXp6eVR5cGUsCiAgICAgIGZ1enp5TG9hZGVyLAogICAgICBmdXp6eURhdGFJZCwKICAgICAgaXNTY3JvbGxlZCwKICAgICAgc2hvd0lubmVyRm9ybSwKICAgICAgaW5uZXJGb3JtRGF0YQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvLyBBbHQgSW1nIEhhbmRsaW5nCiAgICBlcnJvckltZyhkYXRhKSB7CiAgICAgIGRhdGEuZXJyb3JJbWcgPSB0cnVlOwogICAgICB0aGlzLmltZ0Vycm9yICs9IDE7CiAgICB9LAoKICAgIHNob3dkZXRhaWwoKSB7CiAgICAgIHRoaXMuc2hvd2Zvcm1zID0gZmFsc2U7CiAgICB9LAoKICAgIC8vIENsb3NlIENsb25lIEVNUAogICAgY2xvc2VFbXAoaXNmcm9tKSB7CiAgICAgIHRoaXMuaXNDbG9uZUVtcCA9IGZhbHNlOwoKICAgICAgaWYgKGlzZnJvbSAhPT0gJ3llcycpIHsKICAgICAgICB0aGlzLmNoZWNrZWREYXRhLnNwbGljZSgtMSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc3QgZW1wSWQgPSB0aGlzLmNoZWNrZWREYXRhW3RoaXMuY2hlY2tlZERhdGEubGVuZ3RoIC0gMV07CiAgICAgICAgY29uc29sZS5sb2coJ2VtcElkJywgZW1wSWQpOwogICAgICAgIHRoaXMuY2xvbmVFbXAoZW1wSWQpOwogICAgICB9CiAgICB9LAoKICAgIHNob3dJbmZvKHJvdykgewogICAgICByb3cuc2hvd0luZm8gPSB0cnVlOwogICAgfSwKCiAgICBjbG9zZUluZm9Qb3B1cChyb3cpIHsKICAgICAgZGVsZXRlIHJvdy5zaG93SW5mbzsKICAgIH0sCgogICAgY2xvc2VGb3JtKHZhbHVlID0gJycsIGZyb20gPSAnJykgewogICAgICBjb25zb2xlLmxvZygnY2xvZSBmb3JtJywgdmFsdWUpOwoKICAgICAgaWYgKGZyb20gIT09ICcnKSB7CiAgICAgICAgdGhpcy5pc0Zyb21jb3N0ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlLmFwaVN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmxvYWRlciA9IGZhbHNlOwogICAgICAgICAgdGhpcy5lcnJvck1zZyA9IHZhbHVlLmVycm9yLm1lc3NhZ2U7CiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSAmJiB2YWx1ZS5kYXRhICYmIHZhbHVlLmRhdGEuYXBpU3RhdHVzID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5zaG93RXJyb3IgPSB0cnVlOwogICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmVycm9yTXNnID0gdmFsdWUuZGF0YS5lcnJvci5tZXNzYWdlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm9wZW5Gb3JtID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmNhbGxGaXJzdFRpbWUgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlLWZvcm0nLCB2YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2FsbEZpcnN0VGltZSA9IGZhbHNlOwogICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlLWZvcm0nLCB2YWx1ZSk7CiAgICAgIH0KICAgIH0sCgogICAgY2xvc2VFbWFpbEZvcm0oZXZlbnQpIHsKICAgICAgdGhpcy5zaG93SW5uZXJGb3JtID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKCdjbG9zZUVtYWlsRm9ybScsIGV2ZW50KTsKCiAgICAgIGlmIChldmVudCkgewogICAgICAgIGlmIChldmVudC5hcGlTdGF0dXMpIHsKICAgICAgICAgIHRoaXMuY2F0ZXJlckZvcm1Nc2cgPSBldmVudC5tZXNzYWdlID8gZXZlbnQubWVzc2FnZSA6ICcnOwogICAgICAgICAgdGhpcy5saXN0LmZvckVhY2gobGlzdHZhbHVlID0+IHsKICAgICAgICAgICAgaWYgKGxpc3R2YWx1ZS5pZCA9PT0gZXZlbnQuZGF0YS5pZCkgewogICAgICAgICAgICAgIGxpc3R2YWx1ZS5lbWFpbCA9IGV2ZW50LmRhdGEuZW1haWw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuY2F0ZXJlckZvcm1Nc2cnLCB0aGlzLmNhdGVyZXJGb3JtTXNnKTsKICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAgICAgICB0aGlzLmNhdGVyZXJGb3JtTXNnID0gJyc7CiAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jbG9zZUZvcm0oZXZlbnQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5pbm5lckZvcm1EYXRhLmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaW5uZXJGb3JtRGF0YVtpbmRleF07CiAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJyc7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmNoZWNrZWREYXRhLnNwbGljZSh0aGlzLmNoZWNrZWREYXRhLmluZGV4T2YodGhpcy51cGRhdGVIY3BFbWFpbElkKSwgMSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3VibWl0dGVkID0gZmFsc2U7CiAgICB9LAoKICAgIG9uQ2hhbmdlVmFsdWUoZmllbGQpIHsKICAgICAgY29uc29sZS5sb2coJ2ZpZWxkLnR5cGVfZm9yJywgZmllbGQpOwogICAgICBsZXQgZXhwZW5zaXZlVHlwZUlkID0gJyc7CiAgICAgIGxldCBwYXllZU9iaiA9ICcnOwoKICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnY29zdCcgfHwgdGhpcy5pbmZvLmZyb20gPT09ICdjYW5jZWwnKSB7CiAgICAgICAgICB2YXIgZ2V0Um93ID0gZmllbGQuZHJvcGRvd252YWx1ZS5maW5kKGEgPT4gYS5pZCA9PT0gZmllbGQudmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuZGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmRhdGFbaW5kZXhdOyAvLyBDb3N0IFNlY3Rpb24gRXhwZW5zaXZlIHR5cGUgZHJvcGRvd24gaGFuZGxlCgogICAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnY29zdCcgJiYgZmllbGQucGFyYW0gPT09ICdleHBlbnNlX3R5cGVfaWQnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRSb3cnLCBnZXRSb3cpOyAvLyBDb3N0IHNlY3Rpb24gRXN0aW1hdGVkIEFNVCBoYW5kbGUKCiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmFtID09PSAnZXN0aW1hdGVkX2Nvc3QnICYmIGdldFJvdykgewogICAgICAgICAgICAgIGlmIChnZXRSb3cucGxhbm5lZF9jb3N0ICE9PSAwKSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gZ2V0Um93LnBsYW5uZWRfY29zdC50b1N0cmluZygpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gZ2V0Um93LmVzdGltYXRlZF9jb3N0LnRvU3RyaW5nKCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlbGVtZW50LmRlbHRlRXN0aW1hdGVkID0gZ2V0Um93LmVzdGltYXRlZF9jb3N0LnRvU3RyaW5nKCk7IC8vIGVsZW1lbnRbJ2VzdGltYXRlZHZhbHVlJ10gPSAgZ2V0Um93LmVzdGltYXRlZF9jb3N0LnRvU3RyaW5nKCkKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09ICd0eXBlX2ZvcicgJiYgZ2V0Um93KSB7CiAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IGdldFJvdy50eXBlX2ZvcjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09ICdleHBlbnNlX3R5cGVfaWQnKSB7CiAgICAgICAgICAgICAgZXhwZW5zaXZlVHlwZUlkID0gZWxlbWVudC52YWx1ZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09ICdwYXllZScpIHsKICAgICAgICAgICAgICBwYXllZU9iaiA9IGVsZW1lbnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmFtID09PSAnY2hlY2tfbnVtYmVyJyAmJiBnZXRSb3cgJiYgZ2V0Um93LmlzX2NoZXF1ZV9lbmFibGVkID09PSAxKSB7CiAgICAgICAgICAgICAgZWxlbWVudC5oaWRkZW4gPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50LnBhcmFtID09PSAnY2hlY2tfbnVtYmVyJyAmJiBnZXRSb3cgJiYgZ2V0Um93LmlzX2NoZXF1ZV9lbmFibGVkID09PSAwKSB7CiAgICAgICAgICAgICAgZWxlbWVudC5oaWRkZW4gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIENhbmNlbCBSZWFzb24KCgogICAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnY2FuY2VsJyAmJiBlbGVtZW50LnBhcmFtID09PSAnY2FuY2VsX3JlYXNvbicpIHsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMuaW5mby5mcm9tJyxnZXRSb3cpOwogICAgICAgICAgICBpZiAoZ2V0Um93LmlzX3RleHQgPT09IDEpIHsKICAgICAgICAgICAgICBlbGVtZW50LmhpZGRlbiA9IGZhbHNlOwogICAgICAgICAgICAgIGVsZW1lbnQucmVxdWlyZWQgPSB0cnVlOwogICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSAnJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBlbGVtZW50LmhpZGRlbiA9IHRydWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmRhdGEnLCB0aGlzLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0gLy8gQ2FsbCBQYXllZQoKCiAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnY29zdCcgJiYgZmllbGQucGFyYW0gPT09ICdleHBlbnNlX3R5cGVfaWQnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXhwZW5zaXZlVHlwZUlkJywgZXhwZW5zaXZlVHlwZUlkKTsKICAgICAgICAgIHRoaXMucGF5ZWVOYW1lKGV4cGVuc2l2ZVR5cGVJZCwgdGhpcy5pbmZvLm1lZXRpbmcsIHBheWVlT2JqKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmRhdGEnLCB0aGlzLmRhdGEpOwogICAgfSwKCiAgICBhc3luYyBzdWJtaXRGb3JtKCkgewogICAgICBpZiAodGhpcy5pc0FkZEZvcm0gPT09IHRydWUpIHsKICAgICAgICB0aGlzLnN1Ym1pdEZvcm1EYXRhKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zdWJtaXRMaXN0RGF0YSgpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIHN1Ym1pdEZvcm1EYXRhKCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIHRoaXMudmFsaWRhdGlvblJlcyA9IFtdOwogICAgICBjb25zdCBwb3N0Rm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgbGV0IGhlYWRlclJlcXVlc3QgPSAnJzsgLy8gQUREIHBhcmFtIHRvIFBvc3QgRGF0YQoKICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuZGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5kYXRhW2luZGV4XTsgLy8gaGFuZGxlIEZvcm1EYXRhCgogICAgICAgIGlmICh0aGlzLmlzU3VibWl0Rm9ybWRhdGEgJiYgdGhpcy5pbmZvLmZyb20gIT09ICdjb3N0JykgewogICAgICAgICAgaGVhZGVyUmVxdWVzdCA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJzsKCiAgICAgICAgICBpZiAoZWxlbWVudC50eXBlICE9PSAnZmlsZXVwbG9hZCcpIHsKICAgICAgICAgICAgcG9zdEZvcm1EYXRhLmFwcGVuZChlbGVtZW50LnBhcmFtLCBlbGVtZW50LnZhbHVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc3RGb3JtRGF0YS5hcHBlbmQoZWxlbWVudC5wYXJhbSwgdGhpcy5zZWxlY3RlZEZpbGUpOwogICAgICAgICAgfSAvLyBFZGl0IGRvY3VtZW50IGhhbmRsZQoKCiAgICAgICAgICBpZiAodGhpcy5pbmZvLmZyb20gPT09ICdlZGl0ZG9jdW1lbnQnICYmIGVsZW1lbnQudHlwZSA9PT0gJ2ZpbGV1cGxvYWQnKSB7CiAgICAgICAgICAgIHBvc3RGb3JtRGF0YS5hcHBlbmQoJ2RvY3VtZW50X2ZpbGUnLCBlbGVtZW50LmZpbGUpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoZWFkZXJSZXF1ZXN0ID0gJ2FwcGxpY2F0aW9uL2pzb24nOwoKICAgICAgICAgIGlmICghZWxlbWVudC5oaWRkZW4gJiYgZWxlbWVudC50eXBlICE9PSAnZmlsZXVwbG9hZCcpIHsKICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2RhdGVwaWNrZXInICYmIGVsZW1lbnQudmFsdWUgIT09ICcnKSB7CiAgICAgICAgICAgICAgdGhpcy5wb3N0RGF0YVtlbGVtZW50LnBhcmFtXSA9IG1vbWVudChlbGVtZW50LnZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5pbmZvLmZyb20gPT09ICdoY3AnICYmIGVsZW1lbnQucGFyYW0gPT09ICdkZWdyZWUnKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3REYXRhLmRlZ3JlZSA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5wb3N0RGF0YS5kZWdyZWUucHVzaChlbGVtZW50LnZhbHVlKTsKICAgICAgICAgICAgICAgIHRoaXMucG9zdERhdGEudHlwZSA9ICdoY3AnOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3REYXRhW2VsZW1lbnQucGFyYW1dID0gZWxlbWVudC52YWx1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gLy8gQ2hlY2sgdmFsaWRhdGlvbiBmb3IgUmVxdWlyZWQgZmllbGQKCgogICAgICAgICAgICBpZiAodGhpcy5pbmZvLmZyb20gPT09ICdjb3N0JykgewogICAgICAgICAgICAgIHRoaXMucG9zdERhdGEuc3Vuc2hpbmVfZXZlbnQgPSAnQTE5LTAwMDQnOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWx0ZUVzdGltYXRlZCcsIGVsZW1lbnQpOwoKICAgICAgICAgICAgICBpZiAodGhpcy5pbmZvLmN1cnJlbnRUYWIgIT09IDEpIHsKICAgICAgICAgICAgICAgIHRoaXMucG9zdERhdGEuZXN0aW1hdGVkX2Nvc3QgPSBlbGVtZW50LmRlbHRlRXN0aW1hdGVkOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSAvLyAnc3Vuc2hpbmVfZXZlbnQnOiAnQTE5LTAwMDQnLAoKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodGhpcy5pbmZvLmZyb20gPT09ICdlZGl0ZG9jdW1lbnQnICYmIGVsZW1lbnQudHlwZSA9PT0gJ2ZpbGV1cGxvYWQnKSB7CiAgICAgICAgICAgIHRoaXMucG9zdERhdGEuZG9jdW1lbnRfZmlsZSA9IGVsZW1lbnQuZmlsZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlbGVtZW50LnJlcXVpcmVkID09PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLnZhbGlkYXRpb25SZXNbZWxlbWVudC5wYXJhbV0gPSBlbGVtZW50LnZhbHVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMuaW5mby5mcm9tICE9PSAnY2F0ZXJlcicpIHsKICAgICAgICBwb3N0Rm9ybURhdGEuYXBwZW5kKCdtZWV0aW5nJywgdGhpcy5pbmZvLm1lZXRpbmcpOwogICAgICB9IC8vIEZpbHRlciBFbXB0eSB2YWx1ZSBmb3IgdmFsaWRhdGlvbgoKCiAgICAgIGNvbnNvbGUubG9nKCdwb3N0ZGF0YScsIHRoaXMucG9zdERhdGEpOwogICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gT2JqZWN0LnZhbHVlcyh0aGlzLnZhbGlkYXRpb25SZXMpLmZpbHRlcihvID0+IG8gPT09ICcnKTsgLy8gQ2hlY2sgdmFsaWRhdGlvbiBGdW5jdGlvbgoKICAgICAgY29uc29sZS5sb2codmFsaWRhdGlvblJlc3VsdCk7CiAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnZhbGlkYXRpb25SZXMnLCB0aGlzLnZhbGlkYXRpb25SZXMpOwogICAgICBjb25zb2xlLmxvZygnZm9ybWRhdGEnLCB0aGlzLmRhdGEpOwoKICAgICAgaWYgKHZhbGlkYXRpb25SZXN1bHQubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3ZhbGlkYXRvaW9uIGVycm9yJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gQ2hlY2sgRW1haWwgdmFsaWRhdGlvbgogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmlzVmFsaWRFbWFpbCcsIHRoaXMuaXNWYWxpZEVtYWlsKTsKICAgICAgICBjb25zb2xlLmxvZygndGhpcy52YWxpZFBob25lJywgdGhpcy52YWxpZFBob25lKTsKCiAgICAgICAgaWYgKHRoaXMuaXNWYWxpZEVtYWlsIHx8IHRoaXMudmFsaWRQaG9uZSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygndGhpcy5pbmZvLmZyb20nLCB0aGlzLmluZm8pOwoKICAgICAgICBpZiAodGhpcy5pbmZvLmZyb20gIT09ICdjYXRlcmVyJyAmJiB0aGlzLmluZm8uZnJvbSAhPT0gJ2NhbmNlbCcpIHsKICAgICAgICAgIHRoaXMucG9zdERhdGEubWVldGluZyA9IHRoaXMuaW5mby5tZWV0aW5nOwogICAgICAgIH0gLy8gQ3VzdG9taXNlIGZvcm0gc2VjdGlvbgogICAgICAgIC8vIEhhbmRsZSBmb3IgTm90ZXMgdGFiCgoKICAgICAgICB0aGlzLmxvYWRlciA9IHRydWU7CgogICAgICAgIGlmICh0aGlzLmluZm8uZW5kUG9pbnQgPT09ICcvbm90ZXMnKSB7CiAgICAgICAgICB0aGlzLnBvc3REYXRhLnVwZGF0ZWRfZnJvbSA9ICd3ZWInOwogICAgICAgIH0gLy8gQ29zdCB0YWJsIHNlY3Rpb24KCgogICAgICAgIGlmICh0aGlzLmluZm8gJiYgdGhpcy5pbmZvLmZyb20gPT09ICdjb3N0JykgewogICAgICAgICAgdGhpcy5wb3N0RGF0YS5zdGF0dXMgPSB0aGlzLmluZm8uc3RhdHVzOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuaW5mby5mcm9tJywgdGhpcy5pbmZvLmZyb20pOwogICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnBvc3REYXRhJywgdGhpcy5wb3N0RGF0YSk7CiAgICAgICAgbGV0IHJlczsKCiAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnY2FuY2VsJykgewogICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2UtZm9ybScsIHRoaXMucG9zdERhdGEpOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5pbmZvLmZyb20gPT09ICdoY3AnICYmICF0aGlzLmhjcEVtYWlsVXBkYXRlRm9ybSkgewogICAgICAgICAgdGhpcy5wb3N0RGF0YS5icmFuZCA9IHRoaXMuaW5mby5icmFuZDsKICAgICAgICAgIHRoaXMucG9zdERhdGEucHJvZHVjdCA9IHRoaXMuaW5mby5wcm9kdWN0OwogICAgICAgIH0gLy8gVXBkYXRlIEhDUCBFTUFJTCBGb3JtIENvbmRpdGlvbgoKCiAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnaGNwJyAmJiB0aGlzLmhjcEVtYWlsVXBkYXRlRm9ybSkgewogICAgICAgICAgY29uc3QgcG9zdERhdGEgPSB7fTsgLy8gcG9zdERhdGFbdGhpcy5pbmZvLmFkZFBhcmFtXSA9IHRoaXMuY2hlY2tlZERhdGE7CgogICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuZGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZGF0YVtpbmRleF07CgogICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJhbSA9PT0gJ3RlbGVwaG9uZScpIHsKICAgICAgICAgICAgICBwYXJzZUludChlbGVtZW50LnZhbHVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09ICdkZWdyZWUnKSB7CiAgICAgICAgICAgICAgcG9zdERhdGEuZGVncmVlID0gW107CiAgICAgICAgICAgICAgcG9zdERhdGEuZGVncmVlLnB1c2goZWxlbWVudC52YWx1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHBvc3REYXRhW2VsZW1lbnQucGFyYW1dID0gZWxlbWVudC52YWx1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBwb3N0RGF0YS5pZCA9IHRoaXMudXBkYXRlSGNwRW1haWxJZDsKICAgICAgICAgIHBvc3REYXRhLmZvcmNlX3VwZGF0ZSA9IDE7CiAgICAgICAgICBwb3N0RGF0YS5wcm9maWxlX3VwZGF0ZSA9IDE7CiAgICAgICAgICBwb3N0RGF0YS5icmFuZCA9IHRoaXMuaW5mby5icmFuZDsKICAgICAgICAgIHBvc3REYXRhLnByb2R1Y3QgPSB0aGlzLmluZm8ucHJvZHVjdDsKICAgICAgICAgIHBvc3REYXRhLnR5cGUgPSAnaGNwJzsKICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLmluZm8nLCB0aGlzLmluZm8pOwogICAgICAgICAgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuYWRkRm9ybSh0aGlzLmluZm8sIHBvc3REYXRhLCBoZWFkZXJSZXF1ZXN0KTsKICAgICAgICAgIHRoaXMuYmFja3RvTGlzdCgpOwogICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuY2F0ZXJlckZvcm1Nc2cgPSByZXMubWVzc2FnZSA/IHJlcy5tZXNzYWdlIDogJyc7CiAgICAgICAgICB0aGlzLmNoZWNrZWREYXRhLnB1c2gocmVzLmRhdGEgJiYgcmVzLmRhdGEuaWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5pc1N1Ym1pdEZvcm1kYXRhICYmIHRoaXMuaW5mby5mcm9tICE9PSAnY29zdCcpIHsKICAgICAgICAgICAgLy8gdmFyIGZyb21EYXRhID0gewogICAgICAgICAgICAvLyAgIGhjcCA6CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuYWRkRm9ybSh0aGlzLmluZm8sIHBvc3RGb3JtRGF0YSwgaGVhZGVyUmVxdWVzdCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdWJtaXRmb3JtJywgdGhpcy5pbmZvLmZyb20pOwogICAgICAgICAgICB0aGlzLmNsb3NlRm9ybShyZXMpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuYWRkRm9ybSh0aGlzLmluZm8sIHRoaXMucG9zdERhdGEsIGhlYWRlclJlcXVlc3QpOwoKICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRGaWxlICYmIHRoaXMuc2VsZWN0ZWRGaWxlLmxlbmd0aCAhPT0gMCAmJiB0aGlzLmluZm8uZnJvbSA9PT0gJ2Nvc3QnKSB7CiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jb3N0UmVjZWlwdChyZXMpOwogICAgICAgICAgICB9IGVsc2UgaWYgKCh0aGlzLmluZm8uZnJvbSA9PT0gJ2NhdGVyZXInIHx8IHRoaXMuaW5mby5mcm9tID09PSAnZW1wJyB8fCB0aGlzLmluZm8uZnJvbSA9PT0gJ2hjcCcpICYmIHJlcy5hcGlTdGF0dXMpIHsKICAgICAgICAgICAgICB0aGlzLmxpc3QgPSBbXTsKICAgICAgICAgICAgICB0aGlzLnNlYXJjaEJ5VGV4dCA9IHJlcy5kYXRhICYmIHRoaXMuaW5mby5mcm9tID09PSAnY2F0ZXJlcicgPyByZXMuZGF0YS5jYXRlcmVyX25hbWUgOiByZXMuZGF0YS5mdWxsTmFtZTsKICAgICAgICAgICAgICB0aGlzLmNoZWNrZWREYXRhLnB1c2gocmVzLmRhdGEgJiYgcmVzLmRhdGEuaWQpOwogICAgICAgICAgICAgIHRoaXMubG9hZGVyID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5iYWNrdG9MaXN0KCk7CiAgICAgICAgICAgICAgdGhpcy5saXN0UGFnZUxvYWRlciA9IHRydWU7CiAgICAgICAgICAgICAgdGhpcy5zdWJtaXR0ZWQgPSBmYWxzZTsKICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldExpc3REYXRhKCk7CiAgICAgICAgICAgICAgdGhpcy5saXN0UGFnZUxvYWRlciA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuY2F0ZXJlckZvcm1Nc2cgPSByZXMubWVzc2FnZSA/IHJlcy5tZXNzYWdlIDogJyc7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuY2F0ZXJlckZvcm1Nc2cnLCB0aGlzLmNhdGVyZXJGb3JtTXNnKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ZXJlckZvcm1Nc2cgPSAnJzsKICAgICAgICAgICAgICB9LCAyMDAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmNsb3NlRm9ybShyZXMpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIHN1Ym1pdExpc3REYXRhKCkgewogICAgICBpZiAodGhpcy5jaGVja2VkRGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICB0aGlzLmxvYWRlciA9IHRydWU7CiAgICAgICAgY29uc3QgcG9zdERhdGEgPSB7fTsKCiAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tICE9PSAnc3BlYWtlcicgJiYgdGhpcy5pbmZvLmZyb20gIT09ICdlbXAnICYmIHRoaXMuaW5mby5mcm9tICE9PSAnaGNwJykgewogICAgICAgICAgcG9zdERhdGEubWVldGluZyA9IHRoaXMuaW5mby5tZWV0aW5nOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMubWFzdGVyTGlzdCcsIHRoaXMubWFzdGVyTGlzdCk7CiAgICAgICAgY29uc29sZS5sb2coJ3RoaXMubWFzdGVyTGlzdCcsIHRoaXMuaXNDbG9uZUVtcElkKTsKCiAgICAgICAgaWYgKHRoaXMuaW5mby5mcm9tID09PSAnZW1wJyAmJiB0aGlzLm1hc3Rlckxpc3QgPT09IDEpIHsKICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmlzQ2xvbmVFbXBJZC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuaXNDbG9uZUVtcElkW2luZGV4XTsKCiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgdGhpcy5jaGVja2VkRGF0YSA9IHRoaXMuY2hlY2tlZERhdGEuZmlsdGVyKGEgPT4gYSAhPT0gZWxlbWVudCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmluZm8uZnJvbSA9PT0gJ2hjcCcpIHsKICAgICAgICAgIGNvbnN0IHRlbXBBcnJheSA9IFtdOwogICAgICAgICAgdGhpcy5jaGVja2VkRGF0YS5mb3JFYWNoKGRhdGEgPT4gewogICAgICAgICAgICBsZXQgb2JqID0ge307CiAgICAgICAgICAgIG9iaiA9IHsKICAgICAgICAgICAgICBoY3A6IGRhdGEKICAgICAgICAgICAgfTsgLy8gbG9jYXRpb24gOiAnJwoKICAgICAgICAgICAgdGVtcEFycmF5LnB1c2gob2JqKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5jaGVja2VkRGF0YSA9IFtdOwogICAgICAgICAgdGhpcy5jaGVja2VkRGF0YSA9IHRlbXBBcnJheTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdwb3N0RGF0YScsIHRoaXMuY2hlY2tlZERhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coJ3RlbXBBcnJheScsIHRlbXBBcnJheSk7CiAgICAgICAgfQoKICAgICAgICBwb3N0RGF0YVt0aGlzLmluZm8uYWRkUGFyYW1dID0gdGhpcy5jaGVja2VkRGF0YTsKICAgICAgICBjb25zb2xlLmxvZygncG9zdERhdGEnLCBwb3N0RGF0YSk7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuY29tbW9uRW5kcG9pbnQodGhpcy5pbmZvLmxpc3RQYWdlQWRkTWV0aG9kLCB0aGlzLmluZm8ubGlzdFBhZ2VBZGRFbmRQb2ludCwgcG9zdERhdGEpOwogICAgICAgIHRoaXMuY2xvc2VGb3JtKHJlcyk7CiAgICAgIH0KICAgIH0sCgogICAgLy8gRmlsZSBldmVudAogICAgdXBsb2FkRmlsZShmaWxlcywgcm93KSB7CiAgICAgIHRoaXMuaXNTdWJtaXRGb3JtZGF0YSA9IHRydWU7CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZmlsZXNbMF07CiAgICAgIHRoaXMuZmlsZU5hbWUgPSBmaWxlc1swXS5uYW1lOwogICAgICBjb25zb2xlLmxvZygndGhpcy5zZWxlY3RlZEZpbGUnLCB0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICB9LAoKICAgIC8vIE9wZW5MaW5rCiAgICBvcGVuQ2xpY2soZmlsZSkgewogICAgICBpZiAoZmlsZSkgewogICAgICAgIGNvbnN0IHVybCA9IGZpbGU7CiAgICAgICAgY29uc3QgZXhwb3J0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBleHBvcnRFbGVtZW50LmhyZWYgPSB1cmw7CiAgICAgICAgZXhwb3J0RWxlbWVudC50YXJnZXQgPSAnX2JsYW5rJzsKICAgICAgICBleHBvcnRFbGVtZW50LmNsaWNrKCk7CiAgICAgIH0KICAgIH0sCgogICAgLy8gR2V0IFBheWVlIE5hbWUgZm9yIENvc3Qgc2VjdGlvbgogICAgYXN5bmMgcGF5ZWVOYW1lKGlkLCBtZWV0aW5nLCBmb3JtT2JqKSB7CiAgICAgIGNvbnN0IHBhcmFtID0gJz9leHBlbnNlX3R5cGVfaWQ9JyArIGlkICsgJyZtZWV0aW5nX2lkPScgKyBtZWV0aW5nOwogICAgICBjb25zdCByZXMgPSBhd2FpdCBTZXJ2aWNlRW5nYWdlbWVudC5wYXllZU5hbWUocGFyYW0pOwogICAgICBjb25zb2xlLmxvZygncmVzJywgcmVzKTsKCiAgICAgIGlmIChyZXMgJiYgcmVzLmFwaVN0YXR1cyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICBmb3JtT2JqLmhpZGRlbiA9IGZhbHNlOwogICAgICAgIGZvcm1PYmoucmVxdWlyZWQgPSB0cnVlOwogICAgICAgIGNvbnNvbGUubG9nKCdyZXMuZGF0YVswXS5sZW5ndGgnLCByZXMuZGF0YS5sZW5ndGgpOwoKICAgICAgICBpZiAocmVzLmRhdGFbMF0gJiYgcmVzLmRhdGEubGVuZ3RoID49IDIpIHsKICAgICAgICAgIGZvcm1PYmoudHlwZSA9ICdkcm9wZG93bic7CiAgICAgICAgICBjb25zdCBhcnIgPSBbXTsKCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgICBpZDogaSArIDEsCiAgICAgICAgICAgICAgbGFiZWw6IHJlcy5kYXRhW2ldCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXllZScsIGFycik7CiAgICAgICAgICBmb3JtT2JqLmRyb3Bkb3dudmFsdWUgPSBhcnI7CiAgICAgICAgICBmb3JtT2JqLmRpc2FibGUgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZm9ybU9iai50eXBlID0gJ3RleHQnOwogICAgICAgICAgZm9ybU9iai52YWx1ZSA9IHJlcy5kYXRhWzBdOwoKICAgICAgICAgIGlmIChmb3JtT2JqLnZhbHVlID09PSAnM3JkIFBhcnR5JykgewogICAgICAgICAgICBmb3JtT2JqLmRpc2FibGUgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvcm1PYmouZGlzYWJsZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGZvcm1PYmouaGlkZGVuID0gdHJ1ZTsKICAgICAgICBmb3JtT2JqLnJlcXVpcmVkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgLy8gR2V0IEVtcGxveWVlIENsb25lCiAgICBhc3luYyBjbG9uZUVtcChpZCkgewogICAgICBjb25zdCBwYXJhbSA9ICcvZW1wbG95ZWVzL2Nsb25lJzsKICAgICAgY29uc3QgcG9zdERhdGEgPSB7CiAgICAgICAgZW1wbG95ZWVJZDogaWQKICAgICAgfTsKICAgICAgdGhpcy5pc0Nsb25lRW1wSWQucHVzaChpZCk7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFNlcnZpY2VFbmdhZ2VtZW50LmNvbW1vbkVuZHBvaW50KCdwb3N0JywgcGFyYW0sIHBvc3REYXRhKTsKICAgICAgY29uc29sZS5sb2coJ2Nsb25lZW1wJywgcmVzKTsKICAgICAgdGhpcy5jbG9zZXN1Y2Nlc3MgPSBmYWxzZTsKCiAgICAgIGlmIChyZXMuYXBpU3RhdHVzKSB7CiAgICAgICAgdGhpcy5jaGVja2VkRGF0YS5wdXNoKHJlcy5kYXRhLmlkKTsKICAgICAgICB0aGlzLmNhdGVyZXJGb3JtTXNnID0gcmVzLm1lc3NhZ2U7CiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7CiAgICAgICAgICB0aGlzLmNhdGVyZXJGb3JtTXNnID0gJyc7CiAgICAgICAgfSwgMjAwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jbG9zZUZvcm0ocmVzKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ3RoaXMuY2F0ZXJlckZvcm1Nc2cnLCB0aGlzLmNhdGVyZXJGb3JtTXNnKTsKICAgIH0sCgogICAgLy8gQWRkIENvc3QgUmVjZXBpdAogICAgYXN5bmMgY29zdFJlY2VpcHQocmVzKSB7CiAgICAgIGlmIChyZXMuYXBpU3RhdHVzICYmIHJlcy5kYXRhKSB7CiAgICAgICAgY29uc3QgY29zdElkID0gcmVzLmRhdGEuaWQ7CiAgICAgICAgY29uc3QgcG9zdEZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgcG9zdEZvcm1EYXRhLmFwcGVuZCgnY29zdF9pZCcsIGNvc3RJZCk7CiAgICAgICAgcG9zdEZvcm1EYXRhLmFwcGVuZCgnZmlsZXMnLCB0aGlzLnNlbGVjdGVkRmlsZSk7CiAgICAgICAgY29uc3QgaGVhZGVyUmVxdWVzdCA9ICdtdWx0aXBhcnQvZm9ybS1kYXRhJzsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFNlcnZpY2VFbmdhZ2VtZW50LmFkZENvc3RSZWNlaXB0KHRoaXMuaW5mbywgcG9zdEZvcm1EYXRhLCBoZWFkZXJSZXF1ZXN0KTsKICAgICAgICB0aGlzLmNsb3NlRm9ybShyZXNwb25zZSwgJ2Nvc3QnKTsKICAgICAgfQogICAgfSwKCiAgICByZXF1aXJlZChyZXF1aXJlZCkgewogICAgICBpZiAocmVxdWlyZWQpIHsKICAgICAgICByZXR1cm4gJyonOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBibHVyRXZlbnQoZXZlbnQsIGN1cnJlbnRSb3cpIHsKICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnRSb3cnLCBjdXJyZW50Um93LnBhcmFtKTsKCiAgICAgIGlmIChjdXJyZW50Um93LnBhcmFtdmFsdWUgPT09ICd6aXBjb2RlJyAmJiBjdXJyZW50Um93LnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoID09PSA1KSB7CiAgICAgICAgdGhpcy56aXBMb2FkZXIgPSB0cnVlOwogICAgICAgIGNvbnN0IHVybCA9ICd6aXBfY29kZXM/emlwX2NvZGU9JyArIGN1cnJlbnRSb3cudmFsdWU7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuY29tbW9uRW5kcG9pbnQoJ2dldCcsIHVybCk7CiAgICAgICAgdGhpcy56aXBMb2FkZXIgPSBmYWxzZTsKCiAgICAgICAgaWYgKHJlcy5hcGlTdGF0dXMpIHsKICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmRhdGEubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmRhdGFbaW5kZXhdOwoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09ICdjaXR5JykgewogICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSByZXMuY2l0eTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09ICdzdGF0ZScpIHsKICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gcmVzLnN0YXRlOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuY2xvc2VGb3JtKHJlcyk7CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZygnemlwY29kZVJlc3BvbnNlJywgcmVzKTsKICAgICAgfQoKICAgICAgaWYgKGN1cnJlbnRSb3cubGFiZWwgPT09ICdOUEkgTnVtYmVyJyAmJiBjdXJyZW50Um93LnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoID09PSAxMCB8fCBjdXJyZW50Um93LmxhYmVsID09PSAnU3RhdGUgTGljZW5zZSBOdW1iZXInICYmIGN1cnJlbnRSb3cudmFsdWUgIT09ICcnKSB7CiAgICAgICAgdGhpcy5mdXp6eUxvYWRlciA9IHRydWU7CiAgICAgICAgYXdhaXQgdGhpcy5mdXp6eU1hdGNoKGN1cnJlbnRSb3cpOwogICAgICAgIHRoaXMuZnV6enlMb2FkZXIgPSBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICAvLyBDaGVjayBmdXp6eSBtYXRjaCBmdW5jdGlvbiBmb3IgQXR0ZW5kZWUgc2VjdGlvbgogICAgYXN5bmMgZnV6enlNYXRjaChyb3cpIHsKICAgICAgdGhpcy5mdXp6eVR5cGUgPSByb3cucGFyYW07CiAgICAgIGNvbnN0IHBvc3REYXRhID0gewogICAgICAgIHR5cGU6IHRoaXMuZnV6enlUeXBlLAogICAgICAgIG1lZXRpbmc6IHRoaXMuaW5mby5tZWV0aW5nCiAgICAgIH07CiAgICAgIHBvc3REYXRhW3RoaXMuZnV6enlUeXBlXSA9IHJvdy52YWx1ZTsKICAgICAgY29uc29sZS5sb2coJ2Z1enp5TWF0Y2gnLCBwb3N0RGF0YSk7CiAgICAgIGNvbnN0IHVybCA9ICcvY2hlY2tfbnBpJzsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgU2VydmljZUVuZ2FnZW1lbnQuY29tbW9uRW5kcG9pbnQoJ3Bvc3QnLCB1cmwsIHBvc3REYXRhKTsKCiAgICAgIGlmIChyZXMuYXBpU3RhdHVzICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmlzX2V4aXN0ICYmIHJlcy5kYXRhLnVzZXIpIHsKICAgICAgICB0aGlzLmZ1enp5UmVxdWlyZWQgPSB0cnVlOwogICAgICAgIHRoaXMuZnV6enlNc2cgPSByZXMuZGF0YS5wb3B1cE1lc3NhZ2U7CiAgICAgICAgdGhpcy5mdXp6eURhdGEgPSByZXMuZGF0YS51c2VyOwogICAgICB9IGVsc2UgaWYgKCFyZXMuYXBpU3RhdHVzKSB7CiAgICAgICAgdGhpcy5jbG9zZUZvcm0ocmVzKTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2coJ2Z1enp5TWF0Y2gnLCByZXMpOwogICAgfSwKCiAgICAvLyBjaGVjayBIQ1AgaXMgQXZhaWxhYmxlZAogICAgYXN5bmMgY2hlY2tIY3BBdmFpbGFibGUoKSB7CiAgICAgIGNvbnN0IHBvc3REYXRhID0gewogICAgICAgIHVzZXI6IHRoaXMuZnV6enlEYXRhSWQsCiAgICAgICAgbWVldGluZ19pZDogdGhpcy5pbmZvLm1lZXRpbmcKICAgICAgfTsKICAgICAgY29uc3QgdXJsID0gJy9hdHRlbmRlZS9jaGVjayc7CiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IFNlcnZpY2VFbmdhZ2VtZW50LmNvbW1vbkVuZHBvaW50KCdwb3N0JywgdXJsLCBwb3N0RGF0YSk7CiAgICAgIHJldHVybiByZXM7CiAgICB9LAoKICAgIC8vIEJpbmQgRnV6enkgRGF0YQogICAgYXN5bmMgYmluZEZ1enp5RGF0YShjbGlja1Jlc3BvbnNlKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjbGlja1Jlc3BvbnNlJywgY2xpY2tSZXNwb25zZSk7CiAgICAgIHRoaXMuZnV6enlSZXF1aXJlZCA9IGZhbHNlOwoKICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5mdXp6eURhdGEpKSB7CiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuZGF0YS5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmRhdGFbaW5kZXhdOwoKICAgICAgICAgIGlmIChjbGlja1Jlc3BvbnNlID09PSB0cnVlKSB7CiAgICAgICAgICAgIGlmIChrZXkgPT09ICdpZCcpIHsKICAgICAgICAgICAgICB0aGlzLmZ1enp5RGF0YUlkID0gdmFsdWU7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMuZnV6enlEYXRhSWQnLCB0aGlzLmZ1enp5RGF0YUlkKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyYW0gPT09IGtleSAmJiB2YWx1ZSkgewogICAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChjbGlja1Jlc3BvbnNlID09PSBmYWxzZSkgewogICAgICAgICAgICBpZiAoZWxlbWVudC5wYXJhbSA9PT0gJ25waScpIHsKICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGVsZW1lbnQudmFsdWUgPSAnJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChjbGlja1Jlc3BvbnNlID09PSB0cnVlKSB7CiAgICAgICAgY29uc3QgaGNwQXZhaWxhYmxlRGF0YSA9IGF3YWl0IHRoaXMuY2hlY2tIY3BBdmFpbGFibGUoKTsKCiAgICAgICAgaWYgKGhjcEF2YWlsYWJsZURhdGEuYXBpU3RhdHVzICYmIGhjcEF2YWlsYWJsZURhdGEubWVzc2FnZS5lbmdhZ2VtZW50X2FjY2VzcyAhPT0gJ1llcycpIHsKICAgICAgICAgIHRoaXMuc2hvd0Vycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBoY3BBdmFpbGFibGVEYXRhLm1lc3NhZ2UucG9wX21zZzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gdGhpcy5jbG9zZUZvcm0oaGNwQXZhaWxhYmxlRGF0YSk7CiAgICAgICAgICB0aGlzLnN1Ym1pdEZvcm1EYXRhKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8vIEFkZCBWYWxpZGF0aW9uIGZvciB6aXAgYW5kIGVtYWlsCiAgICBjaGVja1ZhbGlkYXRpb24oY3VycmVudFJvdykgewogICAgICBpZiAoY3VycmVudFJvdy5sYWJlbCA9PT0gJ1ppcGNvZGUnKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoY3VycmVudFJvdy5wYXJhbSlbMF0uc2V0QXR0cmlidXRlKCdtYXhMZW5ndGgnLCAnNScpOwogICAgICAgIGNvbnN0IHppcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRSb3cucGFyYW0pOwogICAgICAgIGNvbnN0IHNjb3BlID0gdGhpczsKICAgICAgICB6aXAuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc3QgeCA9IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xEL2csICcnKTsKCiAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUubGVuZ3RoID09PSA1KSB7CiAgICAgICAgICAgIHNjb3BlLnZhbGlkWmlwID0gZmFsc2U7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzY29wZS52YWxpZFppcCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmIChjdXJyZW50Um93LmxhYmVsID09PSAnTlBJIE51bWJlcicpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShjdXJyZW50Um93LnBhcmFtKVswXS5zZXRBdHRyaWJ1dGUoJ21heExlbmd0aCcsICcxMCcpOwogICAgICAgIGNvbnN0IG5waSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRSb3cucGFyYW0pOwogICAgICAgIGNvbnN0IHNjb3BlID0gdGhpczsKICAgICAgICBucGkuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgY29uc3QgeCA9IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xEL2csICcnKTsKCiAgICAgICAgICBpZiAoeCAhPT0gJycgJiYgeC5jaGFyQXQoMCkgIT09ICcxJykgewogICAgICAgICAgICBlLnRhcmdldC52YWx1ZSA9ICcnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlLmxlbmd0aCA9PT0gMTApIHsKICAgICAgICAgICAgICBzY29wZS52YWxpZE5waSA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNjb3BlLnZhbGlkTnBpID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoY3VycmVudFJvdy5sYWJlbCA9PT0gJ1N0YXRlIExpY2Vuc2UgTnVtYmVyJykgewogICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGN1cnJlbnRSb3cucGFyYW0pWzBdLnNldEF0dHJpYnV0ZSgnbWF4TGVuZ3RoJywgJzE1Jyk7CiAgICAgIH0KCiAgICAgIGlmIChjdXJyZW50Um93LmxhYmVsID09PSAnUGhvbmUnIHx8IGN1cnJlbnRSb3cubGFiZWwgPT09ICdUZWxlcGhvbmUnKSB7CiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoY3VycmVudFJvdy5wYXJhbSlbMF0uc2V0QXR0cmlidXRlKCdtYXhMZW5ndGgnLCAnMTInKTsKICAgICAgICBjb25zdCBwaG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRSb3cucGFyYW0pOwogICAgICAgIGNvbnN0IHNjb3BlID0gdGhpczsKICAgICAgICBwaG9uZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBsZXQgeCA9IGUudGFyZ2V0LnZhbHVlLnJlcGxhY2UoL1xEL2csICcnKTsKICAgICAgICAgIHggPSB4Lm1hdGNoKC8oXGR7M30pKFxkezN9KShcZHs0fSkvKTsKCiAgICAgICAgICBpZiAoeCAmJiBlLnRhcmdldC52YWx1ZS5sZW5ndGggPD0gMTIpIHsKICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgPSB4WzFdICsgJy0nICsgK3hbMl0gKyAnLScgKyB4WzNdOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZS5sZW5ndGggPT09IDEyKSB7CiAgICAgICAgICAgIHNjb3BlLnZhbGlkUGhvbmUgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNjb3BlLnZhbGlkUGhvbmUgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAoY3VycmVudFJvdy5wYXJhbSA9PT0gJ2VtYWlsJykgewogICAgICAgIGNvbnN0IHJlZ2V4TWF0Y2ggPSAvXlx3KyhbXC4tXT9cdyspKkBcdysoW1wuLV0/XHcrKSooXC5cd3syLDN9KSskLy50ZXN0KGN1cnJlbnRSb3cudmFsdWUpOwoKICAgICAgICBpZiAoIXJlZ2V4TWF0Y2gpIHsKICAgICAgICAgIHRoaXMuaXNWYWxpZEVtYWlsID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pc1ZhbGlkRW1haWwgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChjdXJyZW50Um93LmRlbHRlRXN0aW1hdGVkKSB7CiAgICAgICAgZGVsZXRlIGN1cnJlbnRSb3cuZGVsdGVFc3RpbWF0ZWQ7CiAgICAgIH0KICAgIH0sCgogICAgLy8gRnVuY3Rpb24gZm9yIG51bWJlciBvbmx5CiAgICBpc051bWJlcihldmVudCwgcm93KSB7CiAgICAgIGlmIChyb3cuaW5wdXR0eXBlID09PSAnbnVtYmVyJykgewogICAgICAgIGNvbnN0IGNoYXJDb2RlID0gZXZlbnQud2hpY2ggPyBldmVudC53aGljaCA6IGV2ZW50LmtleUNvZGU7CgogICAgICAgIGlmIChjaGFyQ29kZSA+IDMxICYmIChjaGFyQ29kZSA8IDQ4IHx8IGNoYXJDb2RlID4gNTcpKSB7CiAgICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgY2hhbmdlVG9nZ2xlKGV2ZW50KSB7CiAgICAgIGNvbnNvbGUubG9nKCdldmVudCcsIGV2ZW50KTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7IC8vIHRoaXMuY2hlY2tlZERhdGEgPSBbXTsKCiAgICAgIGlmIChldmVudCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMubWFzdGVyTGlzdCA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tYXN0ZXJMaXN0ID0gMDsKICAgICAgfQoKICAgICAgdGhpcy5saXN0ID0gW107CiAgICAgIHRoaXMubGlzdFBhZ2VMb2FkZXIgPSB0cnVlOwogICAgICBhd2FpdCB0aGlzLmdldExpc3REYXRhKCk7CiAgICAgIHRoaXMubGlzdFBhZ2VMb2FkZXIgPSBmYWxzZTsKICAgIH0sCgogICAgYXN5bmMgY2xvc2VJbm5lckZvcm0oKSB7CiAgICAgIHRoaXMuc2hvd0lubmVyRm9ybSA9IGZhbHNlOwogICAgfQoKICB9Cn0pOw=="},{"version":3,"sources":["C:\\Users\\nova\\Documents\\gitProjects1\\js\\CAdmin project\\rd-client-admin1\\rd-client-admin1\\src\\components\\Pages\\EngagementDetail\\AddForm\\AddForm.ts?vue&type=script&lang=ts"],"names":[],"mappings":"AAAA;;AACA;;AACA;AACA,OAAO,MAAP,MAAmB,0BAAnB;AACA,OAAO,iBAAP,MAA8B,+CAA9B;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,SAAS,eAAT,EAA0B,GAA1B,EAA+B,aAA/B,EAA8C,oBAA9C,QAA0E,KAA1E;AAEA,MAAM,YAAY,GAAG,oBAAoB,CAAC,MAAM,OAAO,8DAAP,CAAP,CAAzC;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,SADuB;AAE7B,EAAA,IAAI,EAAE,CAAC,YAAD,CAFuB;AAG7B,EAAA,YAAY,EAAE,KAHe;AAI7B,EAAA,KAAK,EAAE;AACL,IAAA,MAAM,EAAE;AACN,MAAA,IAAI,EAAE,OADA;AAEN,MAAA,OAAO,EAAE;AAFH,KADH;AAKL,IAAA,QAAQ,EAAE;AACR,MAAA,IAAI,EAAE,KADE;AAER,MAAA,OAAO,EAAE;AAFD,KALL;AASL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,MADF;AAEJ,MAAA,OAAO,EAAE;AAFL,KATD;AAaL,IAAA,SAAS,EAAE;AACT,MAAA,IAAI,EAAE,OADG;AAET,MAAA,OAAO,EAAE;AAFA,KAbN;AAiBL,IAAA,aAAa,EAAE;AACb,MAAA,OAAO,EAAE;AADI,KAjBV;AAoBL,IAAA,WAAW,EAAE;AACX,MAAA,IAAI,EAAE,OADK;AAEX,MAAA,OAAO,EAAE;AAFE,KApBR;AAwBL,IAAA,WAAW,EAAE;AACX,MAAA,IAAI,EAAE,OADK;AAEX,MAAA,OAAO,EAAE;AAFE,KAxBR;AA4BL,IAAA,SAAS,EAAE;AACT,MAAA,IAAI,EAAE,KADG;AAET,MAAA,OAAO,EAAE;AAFA,KA5BN;AAgCL,IAAA,QAAQ,EAAE;AACR,MAAA,OAAO,EAAE;AADD;AAhCL,GAJsB;AAwC7B,EAAA,UAAU,EAAE;AACV,kBAAc;AADJ,GAxCiB;;AA2C7B,EAAA,IAAI,GAAA;AACF,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,SAAS,EAAE,KAFN;AAGL,MAAA,QAAQ,EAAE,IAHL;AAIL,MAAA,YAAY,EAAE,KAJT;AAKL,MAAA,SAAS,EAAE;AALN,KAAP;AAOD,GAnD4B;;AAoD7B,EAAA,KAAK,CAAC,KAAD,EAAQ;AAAE,IAAA;AAAF,GAAR,EAAgB;AACnB,UAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,MAAP,CAApB;AACA,UAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,QAAP,CAAhB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,KAAD,CAArB;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,EAAD,CAApB;AACA,UAAM,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,IAAP,CAAhB;AACA,UAAM,MAAM,GAAG,GAAG,CAAC,KAAD,CAAlB;AACA,UAAM,aAAa,GAAG,GAAG,CAAC,EAAD,CAAzB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC;AACpB,MAAA,IAAI,EAAE,YADc;AAEpB,MAAA,KAAK,EAAE;AAFa,KAAD,CAArB;AAIA,UAAM,YAAY,GAAG,GAAG,CAAC,EAAD,CAAxB;AACA,UAAM,gBAAgB,GAAG,GAAG,CAAC,KAAD,CAA5B;AACA,UAAM,OAAO,GAAG,GAAG,CAAC,EAAD,CAAnB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,KAAD,CAArB;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,EAAD,CAApB;AACA,UAAM,UAAU,GAAG,GAAG,CAAC,KAAD,CAAtB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,SAAP,CAArB;AACA,UAAM,UAAU,GAAG,GAAG,CAAC,CAAD,CAAtB;AACA,UAAM,IAAI,GAAG,GAAG,CAAC,EAAD,CAAhB;AACA,UAAM,cAAc,GAAG,GAAG,CAAC,KAAD,CAA1B;AACA,UAAM,cAAc,GAAG,GAAG,CAAC,KAAD,CAA1B;AACA,UAAM,YAAY,GAAG,GAAG,CAAC,EAAD,CAAxB;AACA,UAAM,WAAW,GAAG,GAAG,CAAC,EAAD,CAAvB;AACA,UAAM,YAAY,GAAG,GAAG,CAAC,KAAD,CAAxB;AACA,UAAM,WAAW,GAAG,GAAG,CAAC,CAAD,CAAvB;AACA,UAAM,YAAY,GAAG,GAAG,CAAC,KAAD,CAAxB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,KAAD,CAArB;AACA,UAAM,UAAU,GAAG,GAAG,CAAC,KAAD,CAAtB;AACA,UAAM,eAAe,GAAG,GAAG,CAAC,EAAD,CAA3B;AACA,UAAM,YAAY,GAAG,GAAG,CAAC,KAAD,CAAxB;AACA,UAAM,cAAc,GAAG,GAAG,CAAC,EAAD,CAA1B;AACA,UAAM,UAAU,GAAG,GAAG,CAAC,KAAD,CAAtB;AACA,UAAM,UAAU,GAAG,GAAG,CAAC,CAAD,CAAtB;AACA,UAAM,eAAe,GAAG,GAAG,CAAC,EAAD,CAA3B;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,CAAD,CAApB;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,QAAP,CAApB;AACA,UAAM,gBAAgB,GAAG,GAAG,CAAC,EAAD,CAA5B;AACA,UAAM,kBAAkB,GAAG,GAAG,CAAC,KAAD,CAA9B;AACA,UAAM,YAAY,GAAG,GAAG,CAAC,EAAD,CAAxB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,EAAD,CAArB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,EAAD,CAArB;AACA,UAAM,eAAe,GAAG,GAAG,CAAC,EAAD,CAA3B;AACA,UAAM,aAAa,GAAG,GAAG,CAAC,IAAD,CAAzB;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,KAAD,CAApB;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,KAAD,CAApB;AACA,UAAM,aAAa,GAAG,GAAG,CAAC,KAAD,CAAzB;AACA,UAAM,QAAQ,GAAG,GAAG,CAAC,EAAD,CAApB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,EAAD,CAArB;AACA,UAAM,SAAS,GAAG,GAAG,CAAC,EAAD,CAArB;AACA,UAAM,WAAW,GAAG,GAAG,CAAC,KAAD,CAAvB;AACA,UAAM,WAAW,GAAG,GAAG,CAAC,EAAD,CAAvB;AACA,UAAM,UAAU,GAAG,GAAG,CAAC,IAAD,CAAtB;AACA,UAAM,aAAa,GAAG,GAAG,CAAC,KAAD,CAAzB;AACA,UAAM,aAAa,GAAG,GAAG,CAAC,EAAD,CAAzB,CAvDmB,CAwDnB;;AACA,UAAM,KAAK,GAAI,IAAD,IAAc;AAC1B,UAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,MAAxB,EAAgC;AAC9B,eAAO,IAAI,GAAG,IAAI,IAAJ,EAAd;AACD;AACF,KAJD,CAzDmB,CA+DnB;;;AACA,UAAM,UAAU,GAAI,IAAD,IAAc;AAC/B,WAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,MAAvC,EAA+C,KAAK,EAApD,EAAwD;AACtD,cAAM,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,KAAX,CAAhB;;AACA,YAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,MAApB,IAA8B,OAAO,CAAC,KAAR,KAAkB,YAApD,EAAkE;AAChE,UAAA,OAAO,CAAC,KAAR,GAAgB,OAAO,CAAC,KAAxB;AACD,SAFD,MAEO,IAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,UAApB,IAAkC,OAAO,CAAC,KAAR,KAAkB,UAAxD,EAAoE;AACzE,UAAA,OAAO,CAAC,KAAR,GAAgB,OAAO,CAAC,KAAxB;AACD;AACF;;AACD,UAAI,OAAO,CAAC,KAAR,KAAkB,EAAtB,EAA0B;AACxB,eAAO,IAAI,GAAG,IAAI,IAAJ,CAAS,OAAO,CAAC,KAAjB,CAAd;AACD,OAFD,MAEO,IAAI,IAAI,CAAC,KAAL,CAAW,KAAX,KAAqB,UAAzB,EAAqC;AAC1C,eAAO,IAAI,GAAG,IAAI,IAAJ,EAAd;AACD;AACF,KAdD;;AAeA,IAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,KAAK,CAAC,QAA9B,EA/EmB,CAiFnB;;AACA,UAAM,WAAW,GAAG,OAAO,IAAA,GAAY,EAAnB,KAAyB;AAC3C;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,aAAZ;;AACA,UAAI;AACF,YAAI,UAAU,GAAG,EAAjB;;AACA,YAAI,IAAI,KAAK,EAAb,EAAiB;AACf,UAAA,IAAI,GAAG,CAAP;AACD;;AACD,YAAI,IAAI,CAAC,KAAL,CAAW,aAAf,EAA8B;AAC5B,cAAI,YAAY,CAAC,KAAb,KAAuB,EAA3B,EAA+B;AAC7B,YAAA,UAAU,GACR,WACA,WAAW,CAAC,KADZ,GAEA,SAFA,GAGA,EAHA,GAIA,UAJA,GAKA,YAAY,CAAC,KALb,GAMA,IAAI,CAAC,KAAL,CAAW,aANX,GAOA,cAPA,GAQA,IAAI,CAAC,KAAL,CAAW,OATb;AAUD,WAXD,MAWO;AACL,YAAA,UAAU,GACR,WAAW,WAAW,CAAC,KAAvB,GAA+B,SAA/B,GAA2C,EAA3C,GAAgD,IAAI,CAAC,KAAL,CAAW,aAA3D,GAA2E,cAA3E,GAA4F,IAAI,CAAC,KAAL,CAAW,OADzG;AAED;AACF,SAhBD,MAgBO,IAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,KAAxB,EAA+B;AACpC,UAAA,eAAe,CAAC,KAAhB,GAAwB,UAAxB;;AACA,cAAI,YAAY,CAAC,KAAb,KAAuB,EAA3B,EAA+B;AAC7B,YAAA,UAAU,GACR,WACA,WAAW,CAAC,KADZ,GAEA,SAFA,GAGA,EAHA,GAIA,UAJA,GAKA,YAAY,CAAC,KALb,GAMA,UANA,GAOA,UAAU,CAAC,KAPX,GAQA,cARA,GASA,IAAI,CAAC,KAAL,CAAW,OAVb;AAWD,WAZD,MAYO;AACL,YAAA,UAAU,GACR,WACA,WAAW,CAAC,KADZ,GAEA,SAFA,GAGA,EAHA,GAIA,cAJA,GAKA,IAAI,CAAC,KAAL,CAAW,OALX,GAMA,UANA,GAOA,UAAU,CAAC,KARb;AASD,WAxBmC,CAyBpC;;AACD,SA1BM,MA0BA;AACL,cAAI,YAAY,CAAC,KAAb,KAAuB,EAA3B,EAA+B;AAC7B,YAAA,UAAU,GACR,WACA,WAAW,CAAC,KADZ,GAEA,SAFA,GAGA,EAHA,GAIA,UAJA,GAKA,YAAY,CAAC,KALb,GAMA,cANA,GAOA,IAAI,CAAC,KAAL,CAAW,OARb;AASD,WAVD,MAUO;AACL,YAAA,UAAU,GAAG,WAAW,WAAW,CAAC,KAAvB,GAA+B,SAA/B,GAA2C,EAA3C,GAAgD,cAAhD,GAAiE,IAAI,CAAC,KAAL,CAAW,OAAzF;AACD;AACF;;AACD,YAAI,KAAJ;;AACA,YAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,KAAxB,EAA+B;AAC7B,UAAA,eAAe,CAAC,KAAhB,GAAwB,OAAxB;AACA,UAAA,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,gBAAnB;AACA,UAAA,IAAI,CAAC,KAAL,CAAW,aAAX,CAAyB,IAAzB,GAAgC,WAAW,CAAC,KAA5C;AACA,UAAA,IAAI,CAAC,KAAL,CAAW,aAAX,CAAyB,OAAzB,GAAmC,UAAU,CAAC,KAA9C;;AACA,cAAI,YAAY,CAAC,KAAb,KAAuB,EAA3B,EAA+B;AAC7B,YAAA,IAAI,CAAC,KAAL,CAAW,aAAX,CAAyB,MAAzB,GAAkC,YAAY,CAAC,KAA/C;AACD,WAFD,MAEO;AACL,mBAAO,IAAI,CAAC,KAAL,CAAW,aAAX,CAAyB,MAAhC;AACD;;AACD,gBAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,IAAI,CAAC,KAAL,CAAW,cAA5C,EAA4D,KAA5D,EAAmE,IAAI,CAAC,KAAL,CAAW,aAA9E,CAAlB;;AACA,cAAI,GAAG,CAAC,MAAJ,IAAc,GAAG,CAAC,MAAJ,CAAW,MAAX,KAAsB,CAAxC,EAA2C;AACzC,YAAA,GAAG,CAAC,MAAJ,GAAa,GAAG,CAAC,MAAJ,CAAW,MAAX,CAAmB,CAAD,IAAY,CAAC,CAAC,SAAF,KAAgB,EAA9C,CAAb;AACD;;AACD,UAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,GAAG,CAAC,MAA9B;AACD,SAfD,MAeO;AACL,UAAA,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,gBAAX,GAA8B,UAAtC;AAEA,cAAI,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,IAAI,CAAC,KAAL,CAAW,cAA5C,EAA4D,KAA5D,CAAhB;AACD;;AAED,YAAI,GAAG,CAAC,UAAR,EAAoB;AAClB,cAAI,SAAS,GAAG,EAAhB;AACA,UAAA,SAAS,GAAG,GAAG,CAAC,MAAhB;AACA,UAAA,IAAI,CAAC,KAAL,GAAa,CAAC,GAAG,IAAI,CAAC,KAAT,EAAgB,GAAG,SAAnB,CAAb;AACA,UAAA,IAAI,CAAC,KAAL,CAAW,IAAX;AACA,UAAA,UAAU,CAAC,KAAX,GAAmB,GAAG,CAAC,UAAvB;AACA,UAAA,UAAU,CAAC,KAAX,GAAmB,IAAnB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,IAAI,CAAC,KAAL,CAAW,MAArC;AACD,SARD,MAQO,CACL;AACD;;AACD,QAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,GAAxB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ,EAAgC,UAAU,CAAC,KAA3C;AACD,OAjGD,CAiGE,OAAO,KAAP,EAAc;AACd,QAAA,IAAI,CAAC,KAAL,GAAa,EAAb;AACD;;AACD,MAAA,YAAY,CAAC,KAAb,GAAqB,KAArB,CAvG2C,CAwG3C;AACD,KAzGD;;AA2GA,UAAM,YAAY,GAAG,MAAO,EAAP,IAAkB;AACrC,UAAI,EAAE,CAAC,UAAH,CAAc,YAAd,GAA6B,EAAE,CAAC,UAAH,CAAc,SAA3C,IAAwD,EAAE,CAAC,UAAH,CAAc,YAAd,GAA6B,EAAzF,EAA6F;AAC3F,QAAA,OAAO,CAAC,GAAR,CAAY,UAAU,CAAC,KAAvB,EAA8B,KAA9B,EAAqC,IAAI,CAAC,KAAL,CAAW,MAAhD;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,oBAAZ,EAAkC,IAAI,CAAC,KAAL,CAAW,MAA7C;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ,EAAiC,UAAU,CAAC,KAA5C;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ,EAAiC,UAAU,CAAC,KAA5C,EAJ2F,CAK3F;;AACA,YAAI,UAAU,CAAC,KAAX,IAAoB,UAAU,CAAC,KAAX,KAAqB,IAAI,CAAC,KAAL,CAAW,MAApD,IAA8D,UAAU,CAAC,KAAX,KAAqB,IAAvF,EAA6F;AAC3F,UAAA,UAAU,CAAC,KAAX,GAAmB,KAAnB;AACA,UAAA,YAAY,CAAC,KAAb,GAAqB,IAArB;AACA,UAAA,WAAW,CAAC,KAAZ,IAAqB,CAArB;AACA,gBAAM,WAAW,EAAjB;AACD;AACF;AACF,KAdD;;AAgBA,UAAM,cAAc,GAAG,OAAO,GAAP,EAAiB,SAAjB,EAAiC,KAAjC,KAA+C;AACpE;AACA,UAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,SAAxB,EAAmC;AACjC,YAAI,SAAJ,EAAe;AACb,UAAA,UAAU,CAAC,GAAG,CAAC,EAAL,CAAV;AACA,UAAA,WAAW,CAAC,KAAZ,GAAoB,GAAG,CAAC,EAAxB;AACD,SAHD,MAGO;AACL,UAAA,WAAW,CAAC,KAAZ,GAAoB,EAApB;AACD;AACF,OAPD,MAOO,IAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,KAAxB,EAA+B;AACpC,YAAI,SAAJ,EAAe;AACb,UAAA,OAAO,CAAC,GAAR,CAAY,cAAZ,EAA4B,QAAQ,CAAC,KAArC;;AAEA,cAAI,QAAQ,CAAC,KAAT,KAAmB,CAAvB,EAA0B;AACxB,YAAA,aAAa,CAAC,KAAd,GAAsB,IAAtB,CADwB,CAExB;;AACA,YAAA,YAAY,CAAC,KAAb,GAAqB,IAArB;AAEA,YAAA,aAAa,CAAC,KAAd,GAAsB,KAAK,CAAC,SAA5B;;AACA,gBAAI,aAAa,CAAC,KAAd,IAAuB,aAAa,CAAC,KAAd,CAAoB,MAApB,KAA+B,CAA1D,EAA6D;AAC3D,mBAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,aAAa,CAAC,KAAd,CAAoB,MAAhD,EAAwD,KAAK,EAA7D,EAAiE;AAC/D,sBAAM,OAAO,GAAG,aAAa,CAAC,KAAd,CAAoB,KAApB,CAAhB;;AACA,oBAAI,GAAG,CAAC,KAAJ,IAAa,OAAO,CAAC,KAAR,KAAkB,OAAnC,EAA4C;AAC1C,kBAAA,OAAO,CAAC,KAAR,GAAgB,GAAG,CAAC,KAApB;AACD,iBAFD,MAEO,IAAI,GAAG,CAAC,SAAJ,IAAiB,OAAO,CAAC,KAAR,KAAkB,WAAvC,EAAoD;AACzD,kBAAA,OAAO,CAAC,KAAR,GAAgB,GAAG,CAAC,SAApB;AACD;AACF;AACF,aAfuB,CAgBxB;;;AACA,YAAA,gBAAgB,CAAC,KAAjB,GAAyB,GAAG,CAAC,EAA7B;AACA,YAAA,WAAW,CAAC,KAAZ,CAAkB,IAAlB,CAAuB,GAAG,CAAC,EAA3B;AACA,YAAA,kBAAkB,CAAC,KAAnB,GAA2B,IAA3B;AACD,WApBD,MAoBO;AACL,YAAA,IAAI,CAAC,KAAL,CAAW,QAAX,GAAsB,IAAI,CAAC,KAAL,CAAW,mBAAjC;AACA,YAAA,WAAW,CAAC,KAAZ,CAAkB,IAAlB,CAAuB,GAAG,CAAC,EAA3B;AACD;AACF,SA3BD,MA2BO;AACL,UAAA,WAAW,CAAC,KAAZ,CAAkB,MAAlB,CAAyB,WAAW,CAAC,KAAZ,CAAkB,OAAlB,CAA0B,GAAG,CAAC,EAA9B,CAAzB,EAA4D,CAA5D;AACD;AACF,OA/BM,MA+BA;AACL,YAAI,SAAJ,EAAe;AACb;AACA,cAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,KAApB,IAA6B,GAAG,CAAC,iBAAJ,KAA0B,KAAvD,IAAgE,GAAG,CAAC,QAAJ,KAAiB,CAAjF,IAAsF,UAAU,CAAC,KAAX,KAAqB,CAA/G,EAAkH;AAChH,YAAA,UAAU,CAAC,KAAX,GAAmB,IAAnB;AACA,YAAA,eAAe,CAAC,KAAhB,GAAwB,GAAG,CAAC,SAA5B;AACD;;AACD,UAAA,WAAW,CAAC,KAAZ,CAAkB,IAAlB,CAAuB,GAAG,CAAC,EAA3B;AACD,SAPD,MAOO;AACL,UAAA,WAAW,CAAC,KAAZ,CAAkB,MAAlB,CAAyB,WAAW,CAAC,KAAZ,CAAkB,OAAlB,CAA0B,GAAG,CAAC,EAA9B,CAAzB,EAA4D,CAA5D;AACD;AACF;;AAED,MAAA,OAAO,CAAC,GAAR,CAAY,WAAW,CAAC,KAAxB;AACD,KAtDD;;AAwDA,UAAM,UAAU,GAAG,MAAO,EAAP,IAAkB;AACnC,WAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,MAAvC,EAA+C,KAAK,EAApD,EAAwD;AACtD,cAAM,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,KAAX,CAAhB;AACA,cAAM,YAAY,GAAG,QAAQ,CAAC,cAAT,CAAwB,OAAO,CAAC,EAAhC,CAArB;;AACA,YAAI,YAAJ,EAAkB;AAChB,UAAA,YAAY,CAAC,OAAb,GAAuB,KAAvB;AACD;AACF;;AAED,YAAM,KAAK,GAAG,QAAQ,CAAC,cAAT,CAAwB,EAAxB,CAAd;AACA,MAAA,KAAK,CAAC,OAAN,GAAgB,IAAhB;AACD,KAXD,CArQmB,CAkRnB;;;AACA,IAAA,aAAa,CAAC,YAAW;AACvB,MAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,SAAS,CAAC,KAAzC;;AACA,UAAI,CAAC,SAAS,CAAC,KAAf,EAAsB;AACpB,QAAA,cAAc,CAAC,KAAf,GAAuB,IAAvB;AACA,cAAM,WAAW,EAAjB;AACA,QAAA,cAAc,CAAC,KAAf,GAAuB,KAAvB;AACD;AACF,KAPY,CAAb;;AASA,UAAM,QAAQ,GAAG,YAAW;AAC1B,MAAA,WAAW,CAAC,KAAZ,GAAoB,EAApB;;AACA,UAAI,IAAI,CAAC,KAAL,IAAc,IAAI,CAAC,KAAL,CAAW,MAAX,KAAsB,CAAxC,EAA2C;AACzC,aAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,MAAvC,EAA+C,KAAK,EAApD,EAAwD;AACtD,gBAAM,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,KAAX,CAAhB;AACA,UAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACD;AACF;;AACD,MAAA,YAAY,CAAC,KAAb,GAAqB,IAArB;AACA,MAAA,SAAS,CAAC,KAAV,GAAkB,CAAC,SAAS,CAAC,KAA7B;;AACA,UAAI,IAAI,CAAC,KAAL,CAAW,IAAX,KAAoB,KAApB,IAA6B,aAAa,CAAC,KAAd,KAAwB,IAAzD,EAA+D;AAC7D,QAAA,aAAa,CAAC,KAAd,GAAsB,KAAtB;AACA,cAAM,kBAAkB,EAAxB;AACD;AACF,KAdD,CA5RmB,CA4SnB;;;AACA,UAAM,kBAAkB,GAAG,YAAW;AACpC;AACA,MAAA,SAAS,CAAC,KAAV,GAAkB,MAAM,iBAAiB,CAAC,SAAlB,EAAxB;AACA,MAAA,SAAS,CAAC,KAAV,GAAkB,MAAM,MAAM,CAAC,uBAAP,CAA+B,SAAS,CAAC,KAAV,CAAgB,IAA/C,EAAqD,MAArD,CAAxB;AAEA,MAAA,eAAe,CAAC,KAAhB,GAAwB,MAAM,iBAAiB,CAAC,eAAlB,EAA9B;AACA,MAAA,eAAe,CAAC,KAAhB,GAAwB,MAAM,MAAM,CAAC,uBAAP,CAA+B,eAAe,CAAC,KAAhB,CAAsB,IAArD,EAA2D,MAA3D,CAA9B;AAEA,MAAA,SAAS,CAAC,KAAV,GAAkB,MAAM,iBAAiB,CAAC,QAAlB,EAAxB;AACA,MAAA,SAAS,CAAC,KAAV,GAAkB,MAAM,MAAM,CAAC,uBAAP,CAA+B,SAAS,CAAC,KAAV,CAAgB,IAA/C,EAAqD,MAArD,CAAxB;;AAEA,UAAI,IAAI,CAAC,KAAL,IAAc,IAAI,CAAC,KAAL,CAAW,MAAX,KAAsB,CAAxC,EAA2C;AACzC,aAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,IAAI,CAAC,KAAL,CAAW,MAAvC,EAA+C,KAAK,EAApD,EAAwD;AACtD,gBAAM,OAAO,GAAG,IAAI,CAAC,KAAL,CAAW,KAAX,CAAhB;;AAEA,cAAI,OAAO,CAAC,KAAR,KAAkB,QAAtB,EAAgC;AAC9B,YAAA,OAAO,CAAC,aAAR,GAAwB,SAAS,CAAC,KAAlC;AACD;;AAED,cAAI,OAAO,CAAC,KAAR,KAAkB,WAAtB,EAAmC;AACjC,YAAA,OAAO,CAAC,aAAR,GAAwB,eAAe,CAAC,KAAxC;AACD;;AAED,cAAI,OAAO,CAAC,KAAR,KAAkB,kBAAtB,EAA0C;AACxC,YAAA,OAAO,CAAC,aAAR,GAAwB,SAAS,CAAC,KAAlC;AACD;AACF;AACF;AACF,KA5BD;;AA8BA,UAAM,UAAU,GAAG,YAAW;AAC5B,MAAA,YAAY,CAAC,KAAb,GAAqB,KAArB;AACA,MAAA,SAAS,CAAC,KAAV,GAAkB,CAAC,SAAS,CAAC,KAA7B;AACD,KAHD,CA3UmB,CAgVnB;;;AACA,UAAM,WAAW,GAAG,YAAW;AAC7B,MAAA,YAAY,CAAC,KAAb,GAAqB,EAArB;AACA,MAAA,WAAW,CAAC,KAAZ,GAAoB,CAApB;AACA,MAAA,IAAI,CAAC,KAAL,GAAa,EAAb;AACA,MAAA,cAAc,CAAC,KAAf,GAAuB,IAAvB;AACA,YAAM,WAAW,EAAjB;AACA,MAAA,cAAc,CAAC,KAAf,GAAuB,KAAvB;AACD,KAPD;;AASA,IAAA,MAAM,CAAC,gBAAP,CAAwB,UAAxB,EAAoC,gBAAe,CAAf,EAAqB;AACvD,UAAI,CAAC,CAAC,GAAF,KAAU,OAAV,IAAqB,YAAY,CAAC,KAAb,KAAuB,EAAhD,EAAoD;AAClD,QAAA,IAAI,CAAC,KAAL,GAAa,EAAb;AACA,QAAA,WAAW,CAAC,KAAZ,GAAoB,CAApB;AACA,QAAA,cAAc,CAAC,KAAf,GAAuB,IAAvB;AACA,cAAM,WAAW,EAAjB;AACA,QAAA,cAAc,CAAC,KAAf,GAAuB,KAAvB;AACD;AACF,KARD;AAUA,WAAO;AACL,MAAA,QADK;AAEL,MAAA,IAFK;AAGL,MAAA,SAHK;AAIL,MAAA,QAJK;AAKL,MAAA,IALK;AAML,MAAA,SANK;AAOL,MAAA,KAPK;AAQL,MAAA,MARK;AASL,MAAA,aATK;AAUL,MAAA,YAVK;AAWL,MAAA,gBAXK;AAYL,MAAA,UAZK;AAaL,MAAA,OAbK;AAcL,MAAA,SAdK;AAeL,MAAA,QAfK;AAgBL,MAAA,UAhBK;AAiBL,MAAA,SAjBK;AAkBL,MAAA,WAlBK;AAmBL,MAAA,UAnBK;AAoBL,MAAA,IApBK;AAqBL,MAAA,cArBK;AAsBL,MAAA,YAtBK;AAuBL,MAAA,cAvBK;AAwBL,MAAA,QAxBK;AAyBL,MAAA,YAzBK;AA0BL,MAAA,WA1BK;AA2BL,MAAA,cA3BK;AA4BL,MAAA,WA5BK;AA6BL,MAAA,YA7BK;AA8BL,MAAA,WA9BK;AA+BL,MAAA,YA/BK;AAgCL,MAAA,UAhCK;AAiCL,MAAA,SAjCK;AAkCL,MAAA,UAlCK;AAmCL,MAAA,UAnCK;AAoCL,MAAA,eApCK;AAqCL,MAAA,YArCK;AAsCL,MAAA,cAtCK;AAuCL,MAAA,UAvCK;AAwCL,MAAA,UAxCK;AAyCL,MAAA,eAzCK;AA0CL,MAAA,QA1CK;AA2CL,MAAA,QA3CK;AA4CL,MAAA,gBA5CK;AA6CL,MAAA,kBA7CK;AA8CL,MAAA,YA9CK;AA+CL,MAAA,kBA/CK;AAgDL,MAAA,SAhDK;AAiDL,MAAA,SAjDK;AAkDL,MAAA,eAlDK;AAmDL,MAAA,aAnDK;AAoDL,MAAA,QApDK;AAqDL,MAAA,QArDK;AAsDL,MAAA,aAtDK;AAuDL,MAAA,QAvDK;AAwDL,MAAA,SAxDK;AAyDL,MAAA,SAzDK;AA0DL,MAAA,WA1DK;AA2DL,MAAA,WA3DK;AA4DL,MAAA,UA5DK;AA6DL,MAAA,aA7DK;AA8DL,MAAA;AA9DK,KAAP;AAgED,GAxd4B;;AAyd7B,EAAA,OAAO,EAAE;AACP;AACA,IAAA,QAAQ,CAAC,IAAD,EAAU;AAChB,MAAA,IAAI,CAAC,QAAL,GAAgB,IAAhB;AACA,WAAK,QAAL,IAAiB,CAAjB;AACD,KALM;;AAMP,IAAA,UAAU,GAAA;AACR,WAAK,SAAL,GAAiB,KAAjB;AACD,KARM;;AASP;AACA,IAAA,QAAQ,CAAC,MAAD,EAAY;AAClB,WAAK,UAAL,GAAkB,KAAlB;;AAEA,UAAI,MAAM,KAAK,KAAf,EAAsB;AACpB,aAAK,WAAL,CAAiB,MAAjB,CAAwB,CAAC,CAAzB;AACD,OAFD,MAEO;AACL,cAAM,KAAK,GAAG,KAAK,WAAL,CAAiB,KAAK,WAAL,CAAiB,MAAjB,GAA0B,CAA3C,CAAd;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,KAArB;AACA,aAAK,QAAL,CAAc,KAAd;AACD;AACF,KApBM;;AAsBP,IAAA,QAAQ,CAAC,GAAD,EAAS;AACf,MAAA,GAAG,CAAC,QAAJ,GAAe,IAAf;AACD,KAxBM;;AAyBP,IAAA,cAAc,CAAC,GAAD,EAAS;AACrB,aAAO,GAAG,CAAC,QAAX;AACD,KA3BM;;AA4BP,IAAA,SAAS,CAAC,KAAA,GAAa,EAAd,EAAkB,IAAA,GAAY,EAA9B,EAAgC;AACvC,MAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,KAAzB;;AACA,UAAI,IAAI,KAAK,EAAb,EAAiB;AACf,aAAK,UAAL,GAAkB,IAAlB;AACD;;AACD,UAAI,KAAJ,EAAW;AACT,YAAI,KAAK,CAAC,SAAN,KAAoB,KAAxB,EAA+B;AAC7B,eAAK,SAAL,GAAiB,IAAjB;AACA,eAAK,SAAL,GAAiB,KAAjB;AACA,eAAK,MAAL,GAAc,KAAd;AACA,eAAK,QAAL,GAAgB,KAAK,CAAC,KAAN,CAAY,OAA5B;AACD,SALD,MAKO,IAAI,KAAK,IAAI,KAAK,CAAC,IAAf,IAAuB,KAAK,CAAC,IAAN,CAAW,SAAX,KAAyB,KAApD,EAA2D;AAChE,eAAK,SAAL,GAAiB,IAAjB;AACA,eAAK,SAAL,GAAiB,KAAjB;AACA,eAAK,MAAL,GAAc,KAAd;AACA,eAAK,QAAL,GAAgB,KAAK,CAAC,IAAN,CAAW,KAAX,CAAiB,OAAjC;AACD,SALM,MAKA;AACL,eAAK,QAAL,GAAgB,KAAhB;AACA,eAAK,aAAL,GAAqB,KAArB;AACA,eAAK,KAAL,CAAW,YAAX,EAAyB,KAAzB;AACD;AACF,OAhBD,MAgBO;AACL,aAAK,aAAL,GAAqB,KAArB;AACA,aAAK,KAAL,CAAW,YAAX,EAAyB,KAAzB;AACD;AACF,KArDM;;AAuDP,IAAA,cAAc,CAAC,KAAD,EAAW;AACvB,WAAK,aAAL,GAAqB,KAArB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,KAA9B;;AACA,UAAI,KAAJ,EAAW;AACT,YAAI,KAAK,CAAC,SAAV,EAAqB;AACnB,eAAK,cAAL,GAAsB,KAAK,CAAC,OAAN,GAAgB,KAAK,CAAC,OAAtB,GAAgC,EAAtD;AACA,eAAK,IAAL,CAAU,OAAV,CAAmB,SAAD,IAAmB;AACnC,gBAAI,SAAS,CAAC,EAAV,KAAiB,KAAK,CAAC,IAAN,CAAW,EAAhC,EAAoC;AAClC,cAAA,SAAS,CAAC,KAAV,GAAkB,KAAK,CAAC,IAAN,CAAW,KAA7B;AACD;AACF,WAJD;AAKA,UAAA,OAAO,CAAC,GAAR,CAAY,qBAAZ,EAAmC,KAAK,cAAxC;AACA,UAAA,UAAU,CAAC,YAAW;AACpB,iBAAK,cAAL,GAAsB,EAAtB;AACD,WAFS,EAEP,IAFO,CAAV;AAGD,SAXD,MAWO;AACL,eAAK,SAAL,CAAe,KAAf;AACD;AACF,OAfD,MAeO;AACL,aAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,aAAL,CAAmB,MAA/C,EAAuD,KAAK,EAA5D,EAAgE;AAC9D,gBAAM,OAAO,GAAG,KAAK,aAAL,CAAmB,KAAnB,CAAhB;AACA,UAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACD;;AACD,aAAK,WAAL,CAAiB,MAAjB,CAAwB,KAAK,WAAL,CAAiB,OAAjB,CAAyB,KAAK,gBAA9B,CAAxB,EAAyE,CAAzE;AACD;;AACD,WAAK,SAAL,GAAiB,KAAjB;AACD,KAjFM;;AAmFP,IAAA,aAAa,CAAC,KAAD,EAAW;AACtB,MAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,KAA9B;AAEA,UAAI,eAAe,GAAQ,EAA3B;AACA,UAAI,QAAQ,GAAQ,EAApB;;AACA,UAAI,KAAK,IAAL,IAAa,KAAK,IAAL,CAAU,MAAV,KAAqB,CAAtC,EAAyC;AACvC,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,MAAnB,IAA6B,KAAK,IAAL,CAAU,IAAV,KAAmB,QAApD,EAA8D;AAC5D,cAAI,MAAM,GAAG,KAAK,CAAC,aAAN,CAAoB,IAApB,CAA0B,CAAD,IAAY,CAAC,CAAC,EAAF,KAAS,KAAK,CAAC,KAApD,CAAb;AACD;;AACD,aAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,IAAL,CAAU,MAAtC,EAA8C,KAAK,EAAnD,EAAuD;AACrD,gBAAM,OAAO,GAAG,KAAK,IAAL,CAAU,KAAV,CAAhB,CADqD,CAErD;;AACA,cAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,MAAnB,IAA6B,KAAK,CAAC,KAAN,KAAgB,iBAAjD,EAAoE;AAClE,YAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EAAsB,MAAtB,EADkE,CAGlE;;AACA,gBAAI,OAAO,CAAC,KAAR,KAAkB,gBAAlB,IAAsC,MAA1C,EAAkD;AAChD,kBAAI,MAAM,CAAC,YAAP,KAAwB,CAA5B,EAA+B;AAC7B,gBAAA,OAAO,CAAC,KAAR,GAAgB,MAAM,CAAC,YAAP,CAAoB,QAApB,EAAhB;AACD,eAFD,MAEO;AACL,gBAAA,OAAO,CAAC,KAAR,GAAgB,MAAM,CAAC,cAAP,CAAsB,QAAtB,EAAhB;AACD;;AACD,cAAA,OAAO,CAAC,cAAR,GAAyB,MAAM,CAAC,cAAP,CAAsB,QAAtB,EAAzB,CANgD,CAOhD;AACD;;AAED,gBAAI,OAAO,CAAC,KAAR,KAAkB,UAAlB,IAAgC,MAApC,EAA4C;AAC1C,cAAA,OAAO,CAAC,KAAR,GAAgB,MAAM,CAAC,QAAvB;AACD;;AAED,gBAAI,OAAO,CAAC,KAAR,KAAkB,iBAAtB,EAAyC;AACvC,cAAA,eAAe,GAAG,OAAO,CAAC,KAA1B;AACD;;AACD,gBAAI,OAAO,CAAC,KAAR,KAAkB,OAAtB,EAA+B;AAC7B,cAAA,QAAQ,GAAG,OAAX;AACD;;AAED,gBAAI,OAAO,CAAC,KAAR,KAAkB,cAAlB,IAAoC,MAApC,IAA8C,MAAM,CAAC,iBAAP,KAA6B,CAA/E,EAAkF;AAChF,cAAA,OAAO,CAAC,MAAR,GAAiB,KAAjB;AACD,aAFD,MAEO,IAAI,OAAO,CAAC,KAAR,KAAkB,cAAlB,IAAoC,MAApC,IAA8C,MAAM,CAAC,iBAAP,KAA6B,CAA/E,EAAkF;AACvF,cAAA,OAAO,CAAC,MAAR,GAAiB,IAAjB;AACD;AACF,WAjCoD,CAmCrD;;;AACA,cAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,QAAnB,IAA+B,OAAO,CAAC,KAAR,KAAkB,eAArD,EAAsE;AACpE;AACA,gBAAI,MAAM,CAAC,OAAP,KAAmB,CAAvB,EAA0B;AACxB,cAAA,OAAO,CAAC,MAAR,GAAiB,KAAjB;AACA,cAAA,OAAO,CAAC,QAAR,GAAmB,IAAnB;AACA,cAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACD,aAJD,MAIO;AACL,cAAA,OAAO,CAAC,MAAR,GAAiB,IAAjB;AACD;;AACD,YAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,KAAK,IAA9B;AACD;AACF,SAnDsC,CAoDvC;;;AACA,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,MAAnB,IAA6B,KAAK,CAAC,KAAN,KAAgB,iBAAjD,EAAoE;AAClE,UAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,eAA/B;AACA,eAAK,SAAL,CAAe,eAAf,EAAgC,KAAK,IAAL,CAAU,OAA1C,EAAmD,QAAnD;AACD;AACF;;AACD,MAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,KAAK,IAA9B;AACD,KAnJM;;AAqJP,UAAM,UAAN,GAAgB;AACd,UAAI,KAAK,SAAL,KAAmB,IAAvB,EAA6B;AAC3B,aAAK,cAAL;AACD,OAFD,MAEO;AACL,aAAK,cAAL;AACD;AACF,KA3JM;;AA6JP,UAAM,cAAN,GAAoB;AAClB,WAAK,SAAL,GAAiB,IAAjB;AACA,WAAK,aAAL,GAAqB,EAArB;AACA,YAAM,YAAY,GAAG,IAAI,QAAJ,EAArB;AACA,UAAI,aAAa,GAAG,EAApB,CAJkB,CAMlB;;AACA,WAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,IAAL,CAAU,MAAtC,EAA8C,KAAK,EAAnD,EAAuD;AACrD,cAAM,OAAO,GAAG,KAAK,IAAL,CAAU,KAAV,CAAhB,CADqD,CAErD;;AACA,YAAI,KAAK,gBAAL,IAAyB,KAAK,IAAL,CAAU,IAAV,KAAmB,MAAhD,EAAwD;AACtD,UAAA,aAAa,GAAG,qBAAhB;;AACA,cAAI,OAAO,CAAC,IAAR,KAAiB,YAArB,EAAmC;AACjC,YAAA,YAAY,CAAC,MAAb,CAAoB,OAAO,CAAC,KAA5B,EAAmC,OAAO,CAAC,KAA3C;AACD,WAFD,MAEO;AACL,YAAA,YAAY,CAAC,MAAb,CAAoB,OAAO,CAAC,KAA5B,EAAmC,KAAK,YAAxC;AACD,WANqD,CAOtD;;;AACA,cAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,cAAnB,IAAqC,OAAO,CAAC,IAAR,KAAiB,YAA1D,EAAwE;AACtE,YAAA,YAAY,CAAC,MAAb,CAAoB,eAApB,EAAqC,OAAO,CAAC,IAA7C;AACD;AACF,SAXD,MAWO;AACL,UAAA,aAAa,GAAG,kBAAhB;;AACA,cAAI,CAAC,OAAO,CAAC,MAAT,IAAmB,OAAO,CAAC,IAAR,KAAiB,YAAxC,EAAsD;AACpD,gBAAI,OAAO,CAAC,IAAR,KAAiB,YAAjB,IAAiC,OAAO,CAAC,KAAR,KAAkB,EAAvD,EAA2D;AACzD,mBAAK,QAAL,CAAc,OAAO,CAAC,KAAtB,IAA+B,MAAM,CAAC,OAAO,CAAC,KAAT,CAAN,CAAsB,MAAtB,CAA6B,YAA7B,CAA/B;AACD,aAFD,MAEO;AACL,kBAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnB,IAA4B,OAAO,CAAC,KAAR,KAAkB,QAAlD,EAA4D;AAC1D,qBAAK,QAAL,CAAc,MAAd,GAAuB,EAAvB;AACA,qBAAK,QAAL,CAAc,MAAd,CAAqB,IAArB,CAA0B,OAAO,CAAC,KAAlC;AACA,qBAAK,QAAL,CAAc,IAAd,GAAqB,KAArB;AACD,eAJD,MAIO;AACL,qBAAK,QAAL,CAAc,OAAO,CAAC,KAAtB,IAA+B,OAAO,CAAC,KAAvC;AACD;AACF,aAXmD,CAYpD;;;AAEA,gBAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,MAAvB,EAA+B;AAC7B,mBAAK,QAAL,CAAc,cAAd,GAA+B,UAA/B;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,OAA9B;;AACA,kBAAI,KAAK,IAAL,CAAU,UAAV,KAAyB,CAA7B,EAAgC;AAC9B,qBAAK,QAAL,CAAc,cAAd,GAA+B,OAAO,CAAC,cAAvC;AACD;AACF,aApBmD,CAqBpD;;AACD;;AACD,cAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,cAAnB,IAAqC,OAAO,CAAC,IAAR,KAAiB,YAA1D,EAAwE;AACtE,iBAAK,QAAL,CAAc,aAAd,GAA8B,OAAO,CAAC,IAAtC;AACD;AACF;;AAED,YAAI,OAAO,CAAC,QAAR,KAAqB,IAAzB,EAA+B;AAC7B,eAAK,aAAL,CAAmB,OAAO,CAAC,KAA3B,IAAoC,OAAO,CAAC,KAA5C;AACD;AACF;;AACD,UAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,SAAvB,EAAkC;AAChC,QAAA,YAAY,CAAC,MAAb,CAAoB,SAApB,EAA+B,KAAK,IAAL,CAAU,OAAzC;AACD,OAzDiB,CA2DlB;;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,KAAK,QAA7B;AACA,YAAM,gBAAgB,GAAG,MAAM,CAAC,MAAP,CAAc,KAAK,aAAnB,EAAkC,MAAlC,CAAyC,CAAC,IAAI,CAAC,KAAK,EAApD,CAAzB,CA7DkB,CA+DlB;;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,oBAAZ,EAAkC,KAAK,aAAvC;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,KAAK,IAA7B;;AAEA,UAAI,gBAAgB,CAAC,MAAjB,KAA4B,CAAhC,EAAmC;AACjC,QAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ;AACD,OAFD,MAEO;AACL;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ,EAAiC,KAAK,YAAtC;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,KAAK,UAApC;;AACA,YAAI,KAAK,YAAL,IAAqB,KAAK,UAA9B,EAA0C;AACxC,iBAAO,IAAP;AACD;;AAED,QAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,KAAK,IAAnC;;AAEA,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,SAAnB,IAAgC,KAAK,IAAL,CAAU,IAAV,KAAmB,QAAvD,EAAiE;AAC/D,eAAK,QAAL,CAAc,OAAd,GAAwB,KAAK,IAAL,CAAU,OAAlC;AACD,SAZI,CAaL;AACA;;;AACA,aAAK,MAAL,GAAc,IAAd;;AACA,YAAI,KAAK,IAAL,CAAU,QAAV,KAAuB,QAA3B,EAAqC;AACnC,eAAK,QAAL,CAAc,YAAd,GAA6B,KAA7B;AACD,SAlBI,CAmBL;;;AAEA,YAAI,KAAK,IAAL,IAAa,KAAK,IAAL,CAAU,IAAV,KAAmB,MAApC,EAA4C;AAC1C,eAAK,QAAL,CAAc,MAAd,GAAuB,KAAK,IAAL,CAAU,MAAjC;AACD;;AACD,QAAA,OAAO,CAAC,GAAR,CAAY,gBAAZ,EAA8B,KAAK,IAAL,CAAU,IAAxC;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,eAAZ,EAA6B,KAAK,QAAlC;AAEA,YAAI,GAAJ;;AAEA,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,QAAvB,EAAiC;AAC/B,eAAK,KAAL,CAAW,YAAX,EAAyB,KAAK,QAA9B;AACA,iBAAO,IAAP;AACD;;AAED,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnB,IAA4B,CAAC,KAAK,kBAAtC,EAA0D;AACxD,eAAK,QAAL,CAAc,KAAd,GAAsB,KAAK,IAAL,CAAU,KAAhC;AACA,eAAK,QAAL,CAAc,OAAd,GAAwB,KAAK,IAAL,CAAU,OAAlC;AACD,SArCI,CAuCL;;;AACA,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnB,IAA4B,KAAK,kBAArC,EAAyD;AACvD,gBAAM,QAAQ,GAAG,EAAjB,CADuD,CAEvD;;AACA,eAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,IAAL,CAAU,MAAtC,EAA8C,KAAK,EAAnD,EAAuD;AACrD,kBAAM,OAAO,GAAG,KAAK,IAAL,CAAU,KAAV,CAAhB;;AACA,gBAAI,OAAO,CAAC,KAAR,KAAkB,WAAtB,EAAmC;AACjC,cAAA,QAAQ,CAAC,OAAO,CAAC,KAAT,CAAR;AACD;;AACD,gBAAI,OAAO,CAAC,KAAR,KAAkB,QAAtB,EAAgC;AAC9B,cAAA,QAAQ,CAAC,MAAT,GAAkB,EAAlB;AACA,cAAA,QAAQ,CAAC,MAAT,CAAgB,IAAhB,CAAqB,OAAO,CAAC,KAA7B;AACD;;AACD,YAAA,QAAQ,CAAC,OAAO,CAAC,KAAT,CAAR,GAA0B,OAAO,CAAC,KAAlC;AACD;;AACD,UAAA,QAAQ,CAAC,EAAT,GAAc,KAAK,gBAAnB;AACA,UAAA,QAAQ,CAAC,YAAT,GAAwB,CAAxB;AACA,UAAA,QAAQ,CAAC,cAAT,GAA0B,CAA1B;AACA,UAAA,QAAQ,CAAC,KAAT,GAAiB,KAAK,IAAL,CAAU,KAA3B;AACA,UAAA,QAAQ,CAAC,OAAT,GAAmB,KAAK,IAAL,CAAU,OAA7B;AACA,UAAA,QAAQ,CAAC,IAAT,GAAgB,KAAhB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,KAAK,IAA9B;AAEA,UAAA,GAAG,GAAG,MAAM,iBAAiB,CAAC,OAAlB,CAA0B,KAAK,IAA/B,EAAqC,QAArC,EAA+C,aAA/C,CAAZ;AACA,eAAK,UAAL;AACA,eAAK,SAAL,GAAiB,KAAjB;AACA,eAAK,cAAL,GAAsB,GAAG,CAAC,OAAJ,GAAc,GAAG,CAAC,OAAlB,GAA4B,EAAlD;AACA,eAAK,WAAL,CAAiB,IAAjB,CAAsB,GAAG,CAAC,IAAJ,IAAY,GAAG,CAAC,IAAJ,CAAS,EAA3C;AACD,SA3BD,MA2BO;AACL,cAAI,KAAK,gBAAL,IAAyB,KAAK,IAAL,CAAU,IAAV,KAAmB,MAAhD,EAAwD;AACtD;AACA;AACA;AACA,YAAA,GAAG,GAAG,MAAM,iBAAiB,CAAC,OAAlB,CAA0B,KAAK,IAA/B,EAAqC,YAArC,EAAmD,aAAnD,CAAZ;AACA,YAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,KAAK,IAAL,CAAU,IAApC;AACA,iBAAK,SAAL,CAAe,GAAf;AACD,WAPD,MAOO;AACL,YAAA,GAAG,GAAG,MAAM,iBAAiB,CAAC,OAAlB,CAA0B,KAAK,IAA/B,EAAqC,KAAK,QAA1C,EAAoD,aAApD,CAAZ;;AACA,gBAAI,KAAK,YAAL,IAAqB,KAAK,YAAL,CAAkB,MAAlB,KAA6B,CAAlD,IAAuD,KAAK,IAAL,CAAU,IAAV,KAAmB,MAA9E,EAAsF;AACpF,oBAAM,KAAK,WAAL,CAAiB,GAAjB,CAAN;AACD,aAFD,MAEO,IACL,CAAC,KAAK,IAAL,CAAU,IAAV,KAAmB,SAAnB,IAAgC,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnD,IAA4D,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAhF,KACA,GAAG,CAAC,SAFC,EAGL;AACA,mBAAK,IAAL,GAAY,EAAZ;AACA,mBAAK,YAAL,GAAoB,GAAG,CAAC,IAAJ,IAAY,KAAK,IAAL,CAAU,IAAV,KAAmB,SAA/B,GAA2C,GAAG,CAAC,IAAJ,CAAS,YAApD,GAAmE,GAAG,CAAC,IAAJ,CAAS,QAAhG;AACA,mBAAK,WAAL,CAAiB,IAAjB,CAAsB,GAAG,CAAC,IAAJ,IAAY,GAAG,CAAC,IAAJ,CAAS,EAA3C;AACA,mBAAK,MAAL,GAAc,KAAd;AACA,mBAAK,UAAL;AACA,mBAAK,cAAL,GAAsB,IAAtB;AACA,mBAAK,SAAL,GAAiB,KAAjB;AACA,oBAAM,KAAK,WAAL,EAAN;AACA,mBAAK,cAAL,GAAsB,KAAtB;AACA,mBAAK,cAAL,GAAsB,GAAG,CAAC,OAAJ,GAAc,GAAG,CAAC,OAAlB,GAA4B,EAAlD;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,qBAAZ,EAAmC,KAAK,cAAxC;AACA,cAAA,UAAU,CAAC,YAAW;AACpB,qBAAK,cAAL,GAAsB,EAAtB;AACD,eAFS,EAEP,IAFO,CAAV;AAGD,aAlBM,MAkBA;AACL,mBAAK,SAAL,CAAe,GAAf;AACD;AACF;AACF;AACF;AACF,KA1UM;;AA4UP,UAAM,cAAN,GAAoB;AAClB,UAAI,KAAK,WAAL,CAAiB,MAAjB,KAA4B,CAAhC,EAAmC;AACjC,aAAK,MAAL,GAAc,IAAd;AACA,cAAM,QAAQ,GAAG,EAAjB;;AACA,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,SAAnB,IAAgC,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnD,IAA4D,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnF,EAA0F;AACxF,UAAA,QAAQ,CAAC,OAAT,GAAmB,KAAK,IAAL,CAAU,OAA7B;AACD;;AACD,QAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,KAAK,UAApC;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,KAAK,YAApC;;AACA,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAnB,IAA4B,KAAK,UAAL,KAAoB,CAApD,EAAuD;AACrD,eAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,YAAL,CAAkB,MAA9C,EAAsD,KAAK,EAA3D,EAA+D;AAC7D,kBAAM,OAAO,GAAG,KAAK,YAAL,CAAkB,KAAlB,CAAhB;;AACA,gBAAI,OAAJ,EAAa;AACX,mBAAK,WAAL,GAAmB,KAAK,WAAL,CAAiB,MAAjB,CAAyB,CAAD,IAAY,CAAC,KAAK,OAA1C,CAAnB;AACD;AACF;AACF;;AACD,YAAI,KAAK,IAAL,CAAU,IAAV,KAAmB,KAAvB,EAA8B;AAC5B,gBAAM,SAAS,GAAQ,EAAvB;AACA,eAAK,WAAL,CAAiB,OAAjB,CAA0B,IAAD,IAAc;AACrC,gBAAI,GAAG,GAAQ,EAAf;AACA,YAAA,GAAG,GAAG;AACJ,cAAA,GAAG,EAAE;AADD,aAAN,CAFqC,CAKrC;;AACA,YAAA,SAAS,CAAC,IAAV,CAAe,GAAf;AACD,WAPD;AAQA,eAAK,WAAL,GAAmB,EAAnB;AACA,eAAK,WAAL,GAAmB,SAAnB;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,KAAK,WAA7B;AACA,UAAA,OAAO,CAAC,GAAR,CAAY,WAAZ,EAAyB,SAAzB;AACD;;AACD,QAAA,QAAQ,CAAC,KAAK,IAAL,CAAU,QAAX,CAAR,GAA+B,KAAK,WAApC;AAEA,QAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,QAAxB;AACA,cAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAChB,KAAK,IAAL,CAAU,iBADM,EAEhB,KAAK,IAAL,CAAU,mBAFM,EAGhB,QAHgB,CAAlB;AAKA,aAAK,SAAL,CAAe,GAAf;AACD;AACF,KAtXM;;AAwXP;AACA,IAAA,UAAU,CAAC,KAAD,EAAa,GAAb,EAAqB;AAC7B,WAAK,gBAAL,GAAwB,IAAxB;AACA,WAAK,YAAL,GAAoB,KAAK,CAAC,CAAD,CAAzB;AACA,WAAK,QAAL,GAAgB,KAAK,CAAC,CAAD,CAAL,CAAS,IAAzB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,mBAAZ,EAAiC,KAAK,YAAtC;AACD,KA9XM;;AAgYP;AACA,IAAA,SAAS,CAAC,IAAD,EAAU;AACjB,UAAI,IAAJ,EAAU;AACR,cAAM,GAAG,GAAG,IAAZ;AACA,cAAM,aAAa,GAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAtB;AACA,QAAA,aAAa,CAAC,IAAd,GAAqB,GAArB;AACA,QAAA,aAAa,CAAC,MAAd,GAAuB,QAAvB;AACA,QAAA,aAAa,CAAC,KAAd;AACD;AACF,KAzYM;;AA2YP;AACA,UAAM,SAAN,CAAgB,EAAhB,EAAyB,OAAzB,EAAuC,OAAvC,EAAmD;AACjD,YAAM,KAAK,GAAG,sBAAsB,EAAtB,GAA2B,cAA3B,GAA4C,OAA1D;AACA,YAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,SAAlB,CAA4B,KAA5B,CAAlB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAZ,EAAmB,GAAnB;;AACA,UAAI,GAAG,IAAI,GAAG,CAAC,SAAX,IAAwB,GAAG,CAAC,IAA5B,IAAoC,GAAG,CAAC,IAAJ,CAAS,MAAT,KAAoB,CAA5D,EAA+D;AAC7D,QAAA,OAAO,CAAC,MAAR,GAAiB,KAAjB;AACA,QAAA,OAAO,CAAC,QAAR,GAAmB,IAAnB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,oBAAZ,EAAkC,GAAG,CAAC,IAAJ,CAAS,MAA3C;;AACA,YAAI,GAAG,CAAC,IAAJ,CAAS,CAAT,KAAe,GAAG,CAAC,IAAJ,CAAS,MAAT,IAAmB,CAAtC,EAAyC;AACvC,UAAA,OAAO,CAAC,IAAR,GAAe,UAAf;AACA,gBAAM,GAAG,GAAG,EAAZ;;AACA,eAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,GAAG,CAAC,IAAJ,CAAS,MAA7B,EAAqC,CAAC,EAAtC,EAA0C;AACxC,YAAA,GAAG,CAAC,IAAJ,CAAS;AACP,cAAA,EAAE,EAAE,CAAC,GAAG,CADD;AAEP,cAAA,KAAK,EAAE,GAAG,CAAC,IAAJ,CAAS,CAAT;AAFA,aAAT;AAID;;AACD,UAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,GAArB;AACA,UAAA,OAAO,CAAC,aAAR,GAAwB,GAAxB;AACA,UAAA,OAAO,CAAC,OAAR,GAAkB,KAAlB;AACD,SAZD,MAYO;AACL,UAAA,OAAO,CAAC,IAAR,GAAe,MAAf;AACA,UAAA,OAAO,CAAC,KAAR,GAAgB,GAAG,CAAC,IAAJ,CAAS,CAAT,CAAhB;;AACA,cAAI,OAAO,CAAC,KAAR,KAAkB,WAAtB,EAAmC;AACjC,YAAA,OAAO,CAAC,OAAR,GAAkB,KAAlB;AACD,WAFD,MAEO;AACL,YAAA,OAAO,CAAC,OAAR,GAAkB,IAAlB;AACD;AACF;AACF,OAzBD,MAyBO;AACL,QAAA,OAAO,CAAC,MAAR,GAAiB,IAAjB;AACA,QAAA,OAAO,CAAC,QAAR,GAAmB,KAAnB;AACD;AACF,KA7aM;;AA+aP;AACA,UAAM,QAAN,CAAe,EAAf,EAAsB;AACpB,YAAM,KAAK,GAAG,kBAAd;AACA,YAAM,QAAQ,GAAG;AACf,QAAA,UAAU,EAAE;AADG,OAAjB;AAGA,WAAK,YAAL,CAAkB,IAAlB,CAAuB,EAAvB;AACA,YAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,MAAjC,EAAyC,KAAzC,EAAgD,QAAhD,CAAlB;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,UAAZ,EAAwB,GAAxB;AACA,WAAK,YAAL,GAAoB,KAApB;;AACA,UAAI,GAAG,CAAC,SAAR,EAAmB;AACjB,aAAK,WAAL,CAAiB,IAAjB,CAAsB,GAAG,CAAC,IAAJ,CAAS,EAA/B;AACA,aAAK,cAAL,GAAsB,GAAG,CAAC,OAA1B;AACA,QAAA,UAAU,CAAC,YAAW;AACpB,eAAK,cAAL,GAAsB,EAAtB;AACD,SAFS,EAEP,IAFO,CAAV;AAGD,OAND,MAMO;AACL,aAAK,SAAL,CAAe,GAAf;AACD;;AAED,MAAA,OAAO,CAAC,GAAR,CAAY,qBAAZ,EAAmC,KAAK,cAAxC;AACD,KApcM;;AAscP;AACA,UAAM,WAAN,CAAkB,GAAlB,EAA0B;AACxB,UAAI,GAAG,CAAC,SAAJ,IAAiB,GAAG,CAAC,IAAzB,EAA+B;AAC7B,cAAM,MAAM,GAAG,GAAG,CAAC,IAAJ,CAAS,EAAxB;AACA,cAAM,YAAY,GAAG,IAAI,QAAJ,EAArB;AACA,QAAA,YAAY,CAAC,MAAb,CAAoB,SAApB,EAA+B,MAA/B;AACA,QAAA,YAAY,CAAC,MAAb,CAAoB,OAApB,EAA6B,KAAK,YAAlC;AAEA,cAAM,aAAa,GAAG,qBAAtB;AACA,cAAM,QAAQ,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,KAAK,IAAtC,EAA4C,YAA5C,EAA0D,aAA1D,CAAvB;AACA,aAAK,SAAL,CAAe,QAAf,EAAyB,MAAzB;AACD;AACF,KAldM;;AAodP,IAAA,QAAQ,CAAC,QAAD,EAAkB;AACxB,UAAI,QAAJ,EAAc;AACZ,eAAO,GAAP;AACD,OAFD,MAEO;AACL,eAAO,EAAP;AACD;AACF,KA1dM;;AA4dP,UAAM,SAAN,CAAgB,KAAhB,EAA4B,UAA5B,EAA2C;AACzC,MAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,UAAU,CAAC,KAArC;;AACA,UAAI,UAAU,CAAC,UAAX,KAA0B,SAA1B,IAAuC,UAAU,CAAC,KAAX,CAAiB,QAAjB,GAA4B,MAA5B,KAAuC,CAAlF,EAAqF;AACnF,aAAK,SAAL,GAAiB,IAAjB;AACA,cAAM,GAAG,GAAG,wBAAwB,UAAU,CAAC,KAA/C;AACA,cAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,KAAjC,EAAwC,GAAxC,CAAlB;AACA,aAAK,SAAL,GAAiB,KAAjB;;AACA,YAAI,GAAG,CAAC,SAAR,EAAmB;AACjB,eAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,IAAL,CAAU,MAAtC,EAA8C,KAAK,EAAnD,EAAuD;AACrD,kBAAM,OAAO,GAAG,KAAK,IAAL,CAAU,KAAV,CAAhB;;AACA,gBAAI,OAAO,CAAC,KAAR,KAAkB,MAAtB,EAA8B;AAC5B,cAAA,OAAO,CAAC,KAAR,GAAgB,GAAG,CAAC,IAApB;AACD;;AACD,gBAAI,OAAO,CAAC,KAAR,KAAkB,OAAtB,EAA+B;AAC7B,cAAA,OAAO,CAAC,KAAR,GAAgB,GAAG,CAAC,KAApB;AACD;AACF;AACF,SAVD,MAUO;AACL,eAAK,SAAL,CAAe,GAAf;AACD;;AACD,QAAA,OAAO,CAAC,GAAR,CAAY,iBAAZ,EAA+B,GAA/B;AACD;;AACD,UACG,UAAU,CAAC,KAAX,KAAqB,YAArB,IAAqC,UAAU,CAAC,KAAX,CAAiB,QAAjB,GAA4B,MAA5B,KAAuC,EAA7E,IACC,UAAU,CAAC,KAAX,KAAqB,sBAArB,IAA+C,UAAU,CAAC,KAAX,KAAqB,EAFvE,EAGE;AACA,aAAK,WAAL,GAAmB,IAAnB;AACA,cAAM,KAAK,UAAL,CAAgB,UAAhB,CAAN;AACA,aAAK,WAAL,GAAmB,KAAnB;AACD;AACF,KA1fM;;AA4fP;AACA,UAAM,UAAN,CAAiB,GAAjB,EAAyB;AACvB,WAAK,SAAL,GAAiB,GAAG,CAAC,KAArB;AACA,YAAM,QAAQ,GAAG;AACf,QAAA,IAAI,EAAE,KAAK,SADI;AAEf,QAAA,OAAO,EAAE,KAAK,IAAL,CAAU;AAFJ,OAAjB;AAIA,MAAA,QAAQ,CAAC,KAAK,SAAN,CAAR,GAA2B,GAAG,CAAC,KAA/B;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,QAA1B;AAEA,YAAM,GAAG,GAAG,YAAZ;AACA,YAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,MAAjC,EAAyC,GAAzC,EAA8C,QAA9C,CAAlB;;AACA,UAAI,GAAG,CAAC,SAAJ,IAAiB,GAAG,CAAC,IAArB,IAA6B,GAAG,CAAC,IAAJ,CAAS,QAAtC,IAAkD,GAAG,CAAC,IAAJ,CAAS,IAA/D,EAAqE;AACnE,aAAK,aAAL,GAAqB,IAArB;AACA,aAAK,QAAL,GAAgB,GAAG,CAAC,IAAJ,CAAS,YAAzB;AACA,aAAK,SAAL,GAAiB,GAAG,CAAC,IAAJ,CAAS,IAA1B;AACD,OAJD,MAIO,IAAI,CAAC,GAAG,CAAC,SAAT,EAAoB;AACzB,aAAK,SAAL,CAAe,GAAf;AACD;;AACD,MAAA,OAAO,CAAC,GAAR,CAAY,YAAZ,EAA0B,GAA1B;AACD,KAhhBM;;AAkhBP;AACA,UAAM,iBAAN,GAAuB;AACrB,YAAM,QAAQ,GAAG;AACf,QAAA,IAAI,EAAE,KAAK,WADI;AAEf,QAAA,UAAU,EAAE,KAAK,IAAL,CAAU;AAFP,OAAjB;AAIA,YAAM,GAAG,GAAG,iBAAZ;AACA,YAAM,GAAG,GAAG,MAAM,iBAAiB,CAAC,cAAlB,CAAiC,MAAjC,EAAyC,GAAzC,EAA8C,QAA9C,CAAlB;AACA,aAAO,GAAP;AACD,KA3hBM;;AA6hBP;AACA,UAAM,aAAN,CAAoB,aAApB,EAAsC;AACpC,MAAA,OAAO,CAAC,GAAR,CAAY,eAAZ,EAA6B,aAA7B;AACA,WAAK,aAAL,GAAqB,KAArB;;AACA,WAAK,MAAM,CAAC,GAAD,EAAM,KAAN,CAAX,IAA2B,MAAM,CAAC,OAAP,CAAe,KAAK,SAApB,CAA3B,EAA2D;AACzD,aAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,KAAK,IAAL,CAAU,MAAtC,EAA8C,KAAK,EAAnD,EAAuD;AACrD,gBAAM,OAAO,GAAG,KAAK,IAAL,CAAU,KAAV,CAAhB;;AACA,cAAI,aAAa,KAAK,IAAtB,EAA4B;AAC1B,gBAAI,GAAG,KAAK,IAAZ,EAAkB;AAChB,mBAAK,WAAL,GAAmB,KAAnB;AACA,cAAA,OAAO,CAAC,GAAR,CAAY,kBAAZ,EAAgC,KAAK,WAArC;AACD;;AACD,gBAAI,OAAO,CAAC,KAAR,KAAkB,GAAlB,IAAyB,KAA7B,EAAoC;AAClC,cAAA,OAAO,CAAC,KAAR,GAAgB,KAAhB;AACD;AACF,WARD,MAQO,IAAI,aAAa,KAAK,KAAtB,EAA6B;AAClC,gBAAI,OAAO,CAAC,KAAR,KAAkB,KAAtB,EAA6B;AAC3B,cAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACD;AACF,WAJM,MAIA;AACL,YAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACD;AACF;AACF;;AAED,UAAI,aAAa,KAAK,IAAtB,EAA4B;AAC1B,cAAM,gBAAgB,GAAG,MAAM,KAAK,iBAAL,EAA/B;;AACA,YAAI,gBAAgB,CAAC,SAAjB,IAA8B,gBAAgB,CAAC,OAAjB,CAAyB,iBAAzB,KAA+C,KAAjF,EAAwF;AACtF,eAAK,SAAL,GAAiB,IAAjB;AACA,eAAK,QAAL,GAAgB,gBAAgB,CAAC,OAAjB,CAAyB,OAAzC;AACD,SAHD,MAGO;AACL;AACA,eAAK,cAAL;AACD;AACF;AACF,KAhkBM;;AAkkBP;AACA,IAAA,eAAe,CAAC,UAAD,EAAgB;AAC7B,UAAI,UAAU,CAAC,KAAX,KAAqB,SAAzB,EAAoC;AAClC,QAAA,QAAQ,CAAC,iBAAT,CAA2B,UAAU,CAAC,KAAtC,EAA6C,CAA7C,EAAgD,YAAhD,CAA6D,WAA7D,EAA0E,GAA1E;AACA,cAAM,GAAG,GAAG,QAAQ,CAAC,cAAT,CAAwB,UAAU,CAAC,KAAnC,CAAZ;AACA,cAAM,KAAK,GAAG,IAAd;AACA,QAAA,GAAG,CAAC,gBAAJ,CAAqB,OAArB,EAA8B,UAAS,CAAT,EAAe;AAC3C,gBAAM,CAAC,GAAG,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,OAAf,CAAuB,KAAvB,EAA8B,EAA9B,CAAV;;AACA,cAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,MAAf,KAA0B,CAA9B,EAAiC;AAC/B,YAAA,KAAK,CAAC,QAAN,GAAiB,KAAjB;AACD,WAFD,MAEO;AACL,YAAA,KAAK,CAAC,QAAN,GAAiB,IAAjB;AACD;AACF,SAPD;AAQD;;AAED,UAAI,UAAU,CAAC,KAAX,KAAqB,YAAzB,EAAuC;AACrC,QAAA,QAAQ,CAAC,iBAAT,CAA2B,UAAU,CAAC,KAAtC,EAA6C,CAA7C,EAAgD,YAAhD,CAA6D,WAA7D,EAA0E,IAA1E;AACA,cAAM,GAAG,GAAG,QAAQ,CAAC,cAAT,CAAwB,UAAU,CAAC,KAAnC,CAAZ;AACA,cAAM,KAAK,GAAG,IAAd;AACA,QAAA,GAAG,CAAC,gBAAJ,CAAqB,OAArB,EAA8B,UAAS,CAAT,EAAe;AAC3C,gBAAM,CAAC,GAAG,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,OAAf,CAAuB,KAAvB,EAA8B,EAA9B,CAAV;;AACA,cAAI,CAAC,KAAK,EAAN,IAAY,CAAC,CAAC,MAAF,CAAS,CAAT,MAAgB,GAAhC,EAAqC;AACnC,YAAA,CAAC,CAAC,MAAF,CAAS,KAAT,GAAiB,EAAjB;AACD,WAFD,MAEO;AACL,gBAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,MAAf,KAA0B,EAA9B,EAAkC;AAChC,cAAA,KAAK,CAAC,QAAN,GAAiB,KAAjB;AACD,aAFD,MAEO;AACL,cAAA,KAAK,CAAC,QAAN,GAAiB,IAAjB;AACD;AACF;AACF,SAXD;AAYD;;AACD,UAAI,UAAU,CAAC,KAAX,KAAqB,sBAAzB,EAAiD;AAC/C,QAAA,QAAQ,CAAC,iBAAT,CAA2B,UAAU,CAAC,KAAtC,EAA6C,CAA7C,EAAgD,YAAhD,CAA6D,WAA7D,EAA0E,IAA1E;AACD;;AAED,UAAI,UAAU,CAAC,KAAX,KAAqB,OAArB,IAAgC,UAAU,CAAC,KAAX,KAAqB,WAAzD,EAAsE;AACpE,QAAA,QAAQ,CAAC,iBAAT,CAA2B,UAAU,CAAC,KAAtC,EAA6C,CAA7C,EAAgD,YAAhD,CAA6D,WAA7D,EAA0E,IAA1E;AACA,cAAM,KAAK,GAAG,QAAQ,CAAC,cAAT,CAAwB,UAAU,CAAC,KAAnC,CAAd;AACA,cAAM,KAAK,GAAG,IAAd;AACA,QAAA,KAAK,CAAC,gBAAN,CAAuB,OAAvB,EAAgC,UAAS,CAAT,EAAe;AAC7C,cAAI,CAAC,GAAG,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,OAAf,CAAuB,KAAvB,EAA8B,EAA9B,CAAR;AACA,UAAA,CAAC,GAAG,CAAC,CAAC,KAAF,CAAQ,uBAAR,CAAJ;;AACA,cAAI,CAAC,IAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,MAAf,IAAyB,EAAlC,EAAsC;AACpC,YAAA,CAAC,CAAC,MAAF,CAAS,KAAT,GAAiB,CAAC,CAAC,CAAD,CAAD,GAAO,GAAP,GAAa,CAAC,CAAC,CAAC,CAAD,CAAf,GAAqB,GAArB,GAA2B,CAAC,CAAC,CAAD,CAA7C;AACD;;AACD,cAAI,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,MAAf,KAA0B,EAA9B,EAAkC;AAChC,YAAA,KAAK,CAAC,UAAN,GAAmB,KAAnB;AACD,WAFD,MAEO;AACL,YAAA,KAAK,CAAC,UAAN,GAAmB,IAAnB;AACD;AACF,SAXD;AAYD;;AACD,UAAI,UAAU,CAAC,KAAX,KAAqB,OAAzB,EAAkC;AAChC,cAAM,UAAU,GAAG,gDAAgD,IAAhD,CAAqD,UAAU,CAAC,KAAhE,CAAnB;;AACA,YAAI,CAAC,UAAL,EAAiB;AACf,eAAK,YAAL,GAAoB,IAApB;AACD,SAFD,MAEO;AACL,eAAK,YAAL,GAAoB,KAApB;AACD;AACF;;AACD,UAAI,UAAU,CAAC,cAAf,EAA+B;AAC7B,eAAO,UAAU,CAAC,cAAlB;AACD;AACF,KAnoBM;;AAqoBP;AACA,IAAA,QAAQ,CAAC,KAAD,EAAa,GAAb,EAAqB;AAC3B,UAAI,GAAG,CAAC,SAAJ,KAAkB,QAAtB,EAAgC;AAC9B,cAAM,QAAQ,GAAG,KAAK,CAAC,KAAN,GAAc,KAAK,CAAC,KAApB,GAA4B,KAAK,CAAC,OAAnD;;AACA,YAAI,QAAQ,GAAG,EAAX,KAAkB,QAAQ,GAAG,EAAX,IAAiB,QAAQ,GAAG,EAA9C,CAAJ,EAAuD;AACrD,iBAAO,KAAK,CAAC,cAAN,EAAP;AACD;AACF;AACF,KA7oBM;;AA+oBP,UAAM,YAAN,CAAmB,KAAnB,EAA6B;AAC3B,MAAA,OAAO,CAAC,GAAR,CAAY,OAAZ,EAAqB,KAArB;AACA,WAAK,WAAL,GAAmB,CAAnB,CAF2B,CAG3B;;AACA,UAAI,KAAK,KAAK,IAAd,EAAoB;AAClB,aAAK,UAAL,GAAkB,CAAlB;AACD,OAFD,MAEO;AACL,aAAK,UAAL,GAAkB,CAAlB;AACD;;AACD,WAAK,IAAL,GAAY,EAAZ;AACA,WAAK,cAAL,GAAsB,IAAtB;AACA,YAAM,KAAK,WAAL,EAAN;AACA,WAAK,cAAL,GAAsB,KAAtB;AACD,KA5pBM;;AA8pBP,UAAM,cAAN,GAAoB;AAClB,WAAK,aAAL,GAAqB,KAArB;AACD;;AAhqBM;AAzdoB,CAAD,CAA9B","sourcesContent":["/* eslint-disable @typescript-eslint/no-this-alias */\n/* eslint-disable vue/no-dupe-keys */\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport Helper from '@/globalFunctions/Helper';\nimport ServiceEngagement from '@/service/ServiceEngagement/ServiceEngagement';\nimport moment from 'moment';\nimport { defineComponent, ref, onBeforeMount, defineAsyncComponent } from 'vue';\n\nconst AddInnerForm = defineAsyncComponent(() => import('@/components/Pages/EngagementDetail/AddForm/AddInnerForm.vue'));\n\nexport default defineComponent({\n  name: 'AddForm',\n  emit: ['close-form'],\n  inheritAttrs: false,\n  props: {\n    isOpen: {\n      type: Boolean,\n      defalut: false,\n    },\n    formData: {\n      type: Array,\n      default: [],\n    },\n    info: {\n      type: Object,\n      default: {},\n    },\n    isAddForm: {\n      type: Boolean,\n      default: true,\n    },\n    listPageParam: {\n      default: '',\n    },\n    showAddIcon: {\n      type: Boolean,\n      default: true,\n    },\n    isAddButton: {\n      type: Boolean,\n      default: true,\n    },\n    emailForm: {\n      type: Array,\n      default: [],\n    },\n    isRemote: {\n      default: [],\n    },\n  },\n  components: {\n    'inner-form': AddInnerForm,\n  },\n  data() {\n    return {\n      fileName: '',\n      infoPopup: false,\n      infoIcon: true,\n      closesuccess: false,\n      showforms: true,\n    };\n  },\n  setup(props, { emit }) {\n    const openForm = ref(props.isOpen) as any;\n    const data = ref(props.formData) as any;\n    const submitted = ref(false) as any;\n    const postData = ref({}) as any;\n    const info = ref(props.info) as any;\n    const loader = ref(false) as any;\n    const validationRes = ref({}) as any;\n    const formatter = ref({\n      date: 'YYYY-MM-DD',\n      month: 'MMM',\n    });\n    const selectedFile = ref([]) as any;\n    const isSubmitFormdata = ref(false) as any;\n    const endDate = ref([]) as any;\n    const showError = ref(false) as any;\n    const errorMsg = ref('') as any;\n    const isFromcost = ref(false) as any;\n    const isAddForm = ref(props.isAddForm) as any;\n    const totalPages = ref(0) as any;\n    const list = ref([]) as any;\n    const listPageLoader = ref(false) as any;\n    const disabledScroll = ref(false);\n    const searchByText = ref('') as any;\n    const checkedData = ref([]) as any;\n    const isValidEmail = ref(false) as any;\n    const currentPage = ref(1) as any;\n    const isFormEnable = ref(false) as any;\n    const zipLoader = ref(false) as any;\n    const isCloneEmp = ref(false) as any;\n    const isCloneFullName = ref('') as any;\n    const bottomLoader = ref(false) as any;\n    const catererFormMsg = ref('') as any;\n    const validPhone = ref(false) as any;\n    const masterList = ref(0) as any;\n    const masterListParam = ref('') as any;\n    const imgError = ref(1) as any;\n    const isRemote = ref(props.isRemote) as any;\n    const updateHcpEmailId = ref('') as any;\n    const hcpEmailUpdateForm = ref(false) as any;\n    const isCloneEmpId = ref([]) as any;\n    const attDegree = ref([]) as any;\n    const attStates = ref([]) as any;\n    const attSpeacilities = ref([]) as any;\n    const callFirstTime = ref(true) as any;\n    const validNpi = ref(false) as any;\n    const validZip = ref(false) as any;\n    const fuzzyRequired = ref(false) as any;\n    const fuzzyMsg = ref('') as any;\n    const fuzzyData = ref({}) as any;\n    const fuzzyType = ref('') as any;\n    const fuzzyLoader = ref(false) as any;\n    const fuzzyDataId = ref('') as any;\n    const isScrolled = ref(true) as any;\n    const showInnerForm = ref(false) as any;\n    const innerFormData = ref([]) as any;\n    // Disbled Date\n    const dDate = (date: any) => {\n      if (info.value.from === 'task') {\n        return date < new Date();\n      }\n    };\n\n    // Disbled Date\n    const setEndDate = (date: any) => {\n      for (let index = 0; index < data.value.length; index++) {\n        const element = data.value[index];\n        if (info.value.from === 'task' && element.param === 'start_date') {\n          endDate.value = element.value;\n        } else if (info.value.from === 'edittask' && element.param === 'due_date') {\n          endDate.value = element.value;\n        }\n      }\n      if (endDate.value !== '') {\n        return date < new Date(endDate.value);\n      } else if (info.value.title === 'Add Task') {\n        return date < new Date();\n      }\n    };\n    console.log('formDATa', props.formData);\n\n    // Get List data for Add list page\n    const getListData = async (page: any = '') => {\n      // listPageLoader.value = true;\n      console.log('getListData');\n      try {\n        let pagination = '';\n        if (page === '') {\n          page = 1;\n        }\n        if (info.value.listpageparam) {\n          if (searchByText.value !== '') {\n            pagination =\n              '?page=' +\n              currentPage.value +\n              '&limit=' +\n              25 +\n              '&search=' +\n              searchByText.value +\n              info.value.listpageparam +\n              '&meeting_id=' +\n              info.value.meeting;\n          } else {\n            pagination =\n              '?page=' + currentPage.value + '&limit=' + 25 + info.value.listpageparam + '&meeting_id=' + info.value.meeting;\n          }\n        } else if (info.value.from === 'emp') {\n          masterListParam.value = 'Employee';\n          if (searchByText.value !== '') {\n            pagination =\n              '?page=' +\n              currentPage.value +\n              '&limit=' +\n              25 +\n              '&search=' +\n              searchByText.value +\n              '&master=' +\n              masterList.value +\n              '&meeting_id=' +\n              info.value.meeting;\n          } else {\n            pagination =\n              '?page=' +\n              currentPage.value +\n              '&limit=' +\n              25 +\n              '&meeting_id=' +\n              info.value.meeting +\n              '&master=' +\n              masterList.value;\n          }\n          //\n        } else {\n          if (searchByText.value !== '') {\n            pagination =\n              '?page=' +\n              currentPage.value +\n              '&limit=' +\n              25 +\n              '&search=' +\n              searchByText.value +\n              '&meeting_id=' +\n              info.value.meeting;\n          } else {\n            pagination = '?page=' + currentPage.value + '&limit=' + 25 + '&meeting_id=' + info.value.meeting;\n          }\n        }\n        let param: any;\n        if (info.value.from === 'hcp') {\n          masterListParam.value = \"HCP's\";\n          param = info.value.listPageEndPoint;\n          info.value.listpageparam.page = currentPage.value;\n          info.value.listpageparam.all_hcp = masterList.value;\n          if (searchByText.value !== '') {\n            info.value.listpageparam.search = searchByText.value;\n          } else {\n            delete info.value.listpageparam.search;\n          }\n          const res = await ServiceEngagement.commonEngPoint(info.value.listPageMethod, param, info.value.listpageparam);\n          if (res.result && res.result.length !== 0) {\n            res.result = res.result.filter((a: any) => a.firstName !== '');\n          }\n          console.log('res.result', res.result);\n        } else {\n          param = info.value.listPageEndPoint + pagination;\n\n          var res = await ServiceEngagement.commonEngPoint(info.value.listPageMethod, param);\n        }\n\n        if (res.is_success) {\n          let listArray = [];\n          listArray = res.result;\n          list.value = [...list.value, ...listArray];\n          list.value.sort();\n          totalPages.value = res.total_page;\n          isScrolled.value = true;\n          console.log('list.value', list.value.length);\n        } else {\n          // list.value = [];\n        }\n        console.log('Response', res);\n        console.log('totalPages.value', totalPages.value);\n      } catch (error) {\n        list.value = [];\n      }\n      bottomLoader.value = false;\n      // listPageLoader.value = false;\n    };\n\n    const handleScroll = async (el: any) => {\n      if (el.srcElement.offsetHeight + el.srcElement.scrollTop >= el.srcElement.scrollHeight - 10) {\n        console.log(totalPages.value, '!= ', list.value.length);\n        console.log('list.value.length ', list.value.length);\n        console.log('totalPages.value ', totalPages.value);\n        console.log('isScrolled.value ', isScrolled.value);\n        // isScrolled.value = true;\n        if (totalPages.value && totalPages.value !== list.value.length && isScrolled.value === true) {\n          isScrolled.value = false;\n          bottomLoader.value = true;\n          currentPage.value += 1;\n          await getListData();\n        }\n      }\n    };\n\n    const getCheckedData = async (row: any, ischecked: any, event: any) => {\n      // this.info.from == \"cost\"\n      if (info.value.from === 'caterer') {\n        if (ischecked) {\n          selectOnly(row.id);\n          checkedData.value = row.id;\n        } else {\n          checkedData.value = [];\n        }\n      } else if (info.value.from === 'hcp') {\n        if (ischecked) {\n          console.log('--IsRemote--', isRemote.value);\n\n          if (isRemote.value === 1) {\n            showInnerForm.value = true;\n            // isAddForm.value = true;\n            isFormEnable.value = true;\n\n            innerFormData.value = props.emailForm;\n            if (innerFormData.value && innerFormData.value.length !== 0) {\n              for (let index = 0; index < innerFormData.value.length; index++) {\n                const element = innerFormData.value[index];\n                if (row.email && element.param === 'email') {\n                  element.value = row.email;\n                } else if (row.telephone && element.param === 'telephone') {\n                  element.value = row.telephone;\n                }\n              }\n            }\n            // data.value = props.emailForm;\n            updateHcpEmailId.value = row.id;\n            checkedData.value.push(row.id);\n            hcpEmailUpdateForm.value = true;\n          } else {\n            info.value.endPoint = info.value.listPageAddEndPoint;\n            checkedData.value.push(row.id);\n          }\n        } else {\n          checkedData.value.splice(checkedData.value.indexOf(row.id), 1);\n        }\n      } else {\n        if (ischecked) {\n          // Check clone Employee\n          if (info.value.from === 'emp' && row.engagement_access === 'Yes' && row.isCloned === 0 && masterList.value === 1) {\n            isCloneEmp.value = true;\n            isCloneFullName.value = row.full_name;\n          }\n          checkedData.value.push(row.id);\n        } else {\n          checkedData.value.splice(checkedData.value.indexOf(row.id), 1);\n        }\n      }\n\n      console.log(checkedData.value);\n    };\n\n    const selectOnly = async (id: any) => {\n      for (let index = 0; index < list.value.length; index++) {\n        const element = list.value[index];\n        const unselectedId = document.getElementById(element.id) as any;\n        if (unselectedId) {\n          unselectedId.checked = false;\n        }\n      }\n\n      const getId = document.getElementById(id) as any;\n      getId.checked = true;\n    };\n\n    // On Before mount Function\n    onBeforeMount(async () => {\n      console.log('isAddForm.value', isAddForm.value);\n      if (!isAddForm.value) {\n        listPageLoader.value = true;\n        await getListData();\n        listPageLoader.value = false;\n      }\n    });\n\n    const gotoForm = async () => {\n      checkedData.value = [];\n      if (data.value && data.value.length !== 0) {\n        for (let index = 0; index < data.value.length; index++) {\n          const element = data.value[index];\n          element.value = '';\n        }\n      }\n      isFormEnable.value = true;\n      isAddForm.value = !isAddForm.value;\n      if (info.value.from === 'hcp' && callFirstTime.value === true) {\n        callFirstTime.value = false;\n        await getInfoForAttendee();\n      }\n    };\n\n    // Get Degree, Speciality,State of License\n    const getInfoForAttendee = async () => {\n      // Common Format Dropdown list\n      attDegree.value = await ServiceEngagement.getDegree();\n      attDegree.value = await Helper.commonFormatForDropdown(attDegree.value.data, 'name');\n\n      attSpeacilities.value = await ServiceEngagement.getSpecialities();\n      attSpeacilities.value = await Helper.commonFormatForDropdown(attSpeacilities.value.data, 'name');\n\n      attStates.value = await ServiceEngagement.getStats();\n      attStates.value = await Helper.commonFormatForDropdown(attStates.value.data, 'name');\n\n      if (data.value && data.value.length !== 0) {\n        for (let index = 0; index < data.value.length; index++) {\n          const element = data.value[index];\n\n          if (element.label === 'Degree') {\n            element.dropdownvalue = attDegree.value;\n          }\n\n          if (element.label === 'Specialty') {\n            element.dropdownvalue = attSpeacilities.value;\n          }\n\n          if (element.label === 'State of License') {\n            element.dropdownvalue = attStates.value;\n          }\n        }\n      }\n    };\n\n    const backtoList = async () => {\n      isFormEnable.value = false;\n      isAddForm.value = !isAddForm.value;\n    };\n\n    // Clear Search\n    const clearSearch = async () => {\n      searchByText.value = '';\n      currentPage.value = 1;\n      list.value = [];\n      listPageLoader.value = true;\n      await getListData();\n      listPageLoader.value = false;\n    };\n\n    window.addEventListener('keypress', async function(e: any) {\n      if (e.key === 'Enter' && searchByText.value !== '') {\n        list.value = [];\n        currentPage.value = 1;\n        listPageLoader.value = true;\n        await getListData();\n        listPageLoader.value = false;\n      }\n    });\n\n    return {\n      openForm,\n      data,\n      submitted,\n      postData,\n      info,\n      formatter,\n      dDate,\n      loader,\n      validationRes,\n      selectedFile,\n      isSubmitFormdata,\n      setEndDate,\n      endDate,\n      showError,\n      errorMsg,\n      isFromcost,\n      isAddForm,\n      getListData,\n      totalPages,\n      list,\n      listPageLoader,\n      handleScroll,\n      disabledScroll,\n      gotoForm,\n      searchByText,\n      clearSearch,\n      getCheckedData,\n      checkedData,\n      isValidEmail,\n      currentPage,\n      isFormEnable,\n      backtoList,\n      zipLoader,\n      selectOnly,\n      isCloneEmp,\n      isCloneFullName,\n      bottomLoader,\n      catererFormMsg,\n      validPhone,\n      masterList,\n      masterListParam,\n      imgError,\n      isRemote,\n      updateHcpEmailId,\n      hcpEmailUpdateForm,\n      isCloneEmpId,\n      getInfoForAttendee,\n      attDegree,\n      attStates,\n      attSpeacilities,\n      callFirstTime,\n      validNpi,\n      validZip,\n      fuzzyRequired,\n      fuzzyMsg,\n      fuzzyData,\n      fuzzyType,\n      fuzzyLoader,\n      fuzzyDataId,\n      isScrolled,\n      showInnerForm,\n      innerFormData,\n    };\n  },\n  methods: {\n    // Alt Img Handling\n    errorImg(data: any) {\n      data.errorImg = true;\n      this.imgError += 1;\n    },\n    showdetail() {\n      this.showforms = false;\n    },\n    // Close Clone EMP\n    closeEmp(isfrom: any) {\n      this.isCloneEmp = false;\n\n      if (isfrom !== 'yes') {\n        this.checkedData.splice(-1);\n      } else {\n        const empId = this.checkedData[this.checkedData.length - 1];\n        console.log('empId', empId);\n        this.cloneEmp(empId);\n      }\n    },\n\n    showInfo(row: any) {\n      row.showInfo = true;\n    },\n    closeInfoPopup(row: any) {\n      delete row.showInfo;\n    },\n    closeForm(value: any = '', from: any = '') {\n      console.log('cloe form', value);\n      if (from !== '') {\n        this.isFromcost = true;\n      }\n      if (value) {\n        if (value.apiStatus === false) {\n          this.showError = true;\n          this.submitted = false;\n          this.loader = false;\n          this.errorMsg = value.error.message;\n        } else if (value && value.data && value.data.apiStatus === false) {\n          this.showError = true;\n          this.submitted = false;\n          this.loader = false;\n          this.errorMsg = value.data.error.message;\n        } else {\n          this.openForm = false;\n          this.callFirstTime = false;\n          this.$emit('close-form', value);\n        }\n      } else {\n        this.callFirstTime = false;\n        this.$emit('close-form', value);\n      }\n    },\n\n    closeEmailForm(event: any) {\n      this.showInnerForm = false;\n      console.log('closeEmailForm', event);\n      if (event) {\n        if (event.apiStatus) {\n          this.catererFormMsg = event.message ? event.message : '';\n          this.list.forEach((listvalue: any) => {\n            if (listvalue.id === event.data.id) {\n              listvalue.email = event.data.email;\n            }\n          });\n          console.log('this.catererFormMsg', this.catererFormMsg);\n          setTimeout(async () => {\n            this.catererFormMsg = '';\n          }, 2000);\n        } else {\n          this.closeForm(event);\n        }\n      } else {\n        for (let index = 0; index < this.innerFormData.length; index++) {\n          const element = this.innerFormData[index];\n          element.value = '';\n        }\n        this.checkedData.splice(this.checkedData.indexOf(this.updateHcpEmailId), 1);\n      }\n      this.submitted = false;\n    },\n\n    onChangeValue(field: any) {\n      console.log('field.type_for', field);\n\n      let expensiveTypeId: any = '';\n      let payeeObj: any = '';\n      if (this.data && this.data.length !== 0) {\n        if (this.info.from === 'cost' || this.info.from === 'cancel') {\n          var getRow = field.dropdownvalue.find((a: any) => a.id === field.value) as any;\n        }\n        for (let index = 0; index < this.data.length; index++) {\n          const element = this.data[index];\n          // Cost Section Expensive type dropdown handle\n          if (this.info.from === 'cost' && field.param === 'expense_type_id') {\n            console.log('getRow', getRow);\n\n            // Cost section Estimated AMT handle\n            if (element.param === 'estimated_cost' && getRow) {\n              if (getRow.planned_cost !== 0) {\n                element.value = getRow.planned_cost.toString();\n              } else {\n                element.value = getRow.estimated_cost.toString();\n              }\n              element.delteEstimated = getRow.estimated_cost.toString();\n              // element['estimatedvalue'] =  getRow.estimated_cost.toString()\n            }\n\n            if (element.param === 'type_for' && getRow) {\n              element.value = getRow.type_for;\n            }\n\n            if (element.param === 'expense_type_id') {\n              expensiveTypeId = element.value;\n            }\n            if (element.param === 'payee') {\n              payeeObj = element;\n            }\n\n            if (element.param === 'check_number' && getRow && getRow.is_cheque_enabled === 1) {\n              element.hidden = false;\n            } else if (element.param === 'check_number' && getRow && getRow.is_cheque_enabled === 0) {\n              element.hidden = true;\n            }\n          }\n\n          // Cancel Reason\n          if (this.info.from === 'cancel' && element.param === 'cancel_reason') {\n            // console.log('this.info.from',getRow);\n            if (getRow.is_text === 1) {\n              element.hidden = false;\n              element.required = true;\n              element.value = '';\n            } else {\n              element.hidden = true;\n            }\n            console.log('this.data', this.data);\n          }\n        }\n        // Call Payee\n        if (this.info.from === 'cost' && field.param === 'expense_type_id') {\n          console.log('expensiveTypeId', expensiveTypeId);\n          this.payeeName(expensiveTypeId, this.info.meeting, payeeObj);\n        }\n      }\n      console.log('this.data', this.data);\n    },\n\n    async submitForm() {\n      if (this.isAddForm === true) {\n        this.submitFormData();\n      } else {\n        this.submitListData();\n      }\n    },\n\n    async submitFormData() {\n      this.submitted = true;\n      this.validationRes = [];\n      const postFormData = new FormData();\n      let headerRequest = '';\n\n      // ADD param to Post Data\n      for (let index = 0; index < this.data.length; index++) {\n        const element = this.data[index];\n        // handle FormData\n        if (this.isSubmitFormdata && this.info.from !== 'cost') {\n          headerRequest = 'multipart/form-data';\n          if (element.type !== 'fileupload') {\n            postFormData.append(element.param, element.value);\n          } else {\n            postFormData.append(element.param, this.selectedFile);\n          }\n          // Edit document handle\n          if (this.info.from === 'editdocument' && element.type === 'fileupload') {\n            postFormData.append('document_file', element.file);\n          }\n        } else {\n          headerRequest = 'application/json';\n          if (!element.hidden && element.type !== 'fileupload') {\n            if (element.type === 'datepicker' && element.value !== '') {\n              this.postData[element.param] = moment(element.value).format('YYYY-MM-DD');\n            } else {\n              if (this.info.from === 'hcp' && element.param === 'degree') {\n                this.postData.degree = [];\n                this.postData.degree.push(element.value);\n                this.postData.type = 'hcp';\n              } else {\n                this.postData[element.param] = element.value;\n              }\n            }\n            // Check validation for Required field\n\n            if (this.info.from === 'cost') {\n              this.postData.sunshine_event = 'A19-0004';\n              console.log('delteEstimated', element);\n              if (this.info.currentTab !== 1) {\n                this.postData.estimated_cost = element.delteEstimated;\n              }\n            }\n            // 'sunshine_event': 'A19-0004',\n          }\n          if (this.info.from === 'editdocument' && element.type === 'fileupload') {\n            this.postData.document_file = element.file;\n          }\n        }\n\n        if (element.required === true) {\n          this.validationRes[element.param] = element.value;\n        }\n      }\n      if (this.info.from !== 'caterer') {\n        postFormData.append('meeting', this.info.meeting);\n      }\n\n      // Filter Empty value for validation\n      console.log('postdata', this.postData);\n      const validationResult = Object.values(this.validationRes).filter(o => o === '');\n\n      // Check validation Function\n      console.log(validationResult);\n      console.log('this.validationRes', this.validationRes);\n      console.log('formdata', this.data);\n\n      if (validationResult.length !== 0) {\n        console.log('validatoion error');\n      } else {\n        // Check Email validation\n        console.log('this.isValidEmail', this.isValidEmail);\n        console.log('this.validPhone', this.validPhone);\n        if (this.isValidEmail || this.validPhone) {\n          return true;\n        }\n\n        console.log('this.info.from', this.info);\n\n        if (this.info.from !== 'caterer' && this.info.from !== 'cancel') {\n          this.postData.meeting = this.info.meeting;\n        }\n        // Customise form section\n        // Handle for Notes tab\n        this.loader = true;\n        if (this.info.endPoint === '/notes') {\n          this.postData.updated_from = 'web';\n        }\n        // Cost tabl section\n\n        if (this.info && this.info.from === 'cost') {\n          this.postData.status = this.info.status;\n        }\n        console.log('this.info.from', this.info.from);\n        console.log('this.postData', this.postData);\n\n        let res: any;\n\n        if (this.info.from === 'cancel') {\n          this.$emit('close-form', this.postData);\n          return true;\n        }\n\n        if (this.info.from === 'hcp' && !this.hcpEmailUpdateForm) {\n          this.postData.brand = this.info.brand;\n          this.postData.product = this.info.product;\n        }\n\n        // Update HCP EMAIL Form Condition\n        if (this.info.from === 'hcp' && this.hcpEmailUpdateForm) {\n          const postData = {} as any;\n          // postData[this.info.addParam] = this.checkedData;\n          for (let index = 0; index < this.data.length; index++) {\n            const element = this.data[index];\n            if (element.param === 'telephone') {\n              parseInt(element.value);\n            }\n            if (element.param === 'degree') {\n              postData.degree = [];\n              postData.degree.push(element.value);\n            }\n            postData[element.param] = element.value;\n          }\n          postData.id = this.updateHcpEmailId;\n          postData.force_update = 1;\n          postData.profile_update = 1;\n          postData.brand = this.info.brand;\n          postData.product = this.info.product;\n          postData.type = 'hcp';\n          console.log('this.info', this.info);\n\n          res = await ServiceEngagement.addForm(this.info, postData, headerRequest);\n          this.backtoList();\n          this.submitted = false;\n          this.catererFormMsg = res.message ? res.message : '';\n          this.checkedData.push(res.data && res.data.id);\n        } else {\n          if (this.isSubmitFormdata && this.info.from !== 'cost') {\n            // var fromData = {\n            //   hcp :\n            // }\n            res = await ServiceEngagement.addForm(this.info, postFormData, headerRequest);\n            console.log('submitform', this.info.from);\n            this.closeForm(res);\n          } else {\n            res = await ServiceEngagement.addForm(this.info, this.postData, headerRequest);\n            if (this.selectedFile && this.selectedFile.length !== 0 && this.info.from === 'cost') {\n              await this.costReceipt(res);\n            } else if (\n              (this.info.from === 'caterer' || this.info.from === 'emp' || this.info.from === 'hcp') &&\n              res.apiStatus\n            ) {\n              this.list = [];\n              this.searchByText = res.data && this.info.from === 'caterer' ? res.data.caterer_name : res.data.fullName;\n              this.checkedData.push(res.data && res.data.id);\n              this.loader = false;\n              this.backtoList();\n              this.listPageLoader = true;\n              this.submitted = false;\n              await this.getListData();\n              this.listPageLoader = false;\n              this.catererFormMsg = res.message ? res.message : '';\n              console.log('this.catererFormMsg', this.catererFormMsg);\n              setTimeout(async () => {\n                this.catererFormMsg = '';\n              }, 2000);\n            } else {\n              this.closeForm(res);\n            }\n          }\n        }\n      }\n    },\n\n    async submitListData() {\n      if (this.checkedData.length !== 0) {\n        this.loader = true;\n        const postData = {} as any;\n        if (this.info.from !== 'speaker' && this.info.from !== 'emp' && this.info.from !== 'hcp') {\n          postData.meeting = this.info.meeting;\n        }\n        console.log('this.masterList', this.masterList);\n        console.log('this.masterList', this.isCloneEmpId);\n        if (this.info.from === 'emp' && this.masterList === 1) {\n          for (let index = 0; index < this.isCloneEmpId.length; index++) {\n            const element = this.isCloneEmpId[index];\n            if (element) {\n              this.checkedData = this.checkedData.filter((a: any) => a !== element);\n            }\n          }\n        }\n        if (this.info.from === 'hcp') {\n          const tempArray: any = [];\n          this.checkedData.forEach((data: any) => {\n            let obj: any = {};\n            obj = {\n              hcp: data,\n            };\n            // location : ''\n            tempArray.push(obj);\n          });\n          this.checkedData = [];\n          this.checkedData = tempArray;\n          console.log('postData', this.checkedData);\n          console.log('tempArray', tempArray);\n        }\n        postData[this.info.addParam] = this.checkedData;\n\n        console.log('postData', postData);\n        const res = await ServiceEngagement.commonEndpoint(\n          this.info.listPageAddMethod,\n          this.info.listPageAddEndPoint,\n          postData,\n        );\n        this.closeForm(res);\n      }\n    },\n\n    // File event\n    uploadFile(files: any, row: any) {\n      this.isSubmitFormdata = true;\n      this.selectedFile = files[0];\n      this.fileName = files[0].name;\n      console.log('this.selectedFile', this.selectedFile);\n    },\n\n    // OpenLink\n    openClick(file: any) {\n      if (file) {\n        const url = file;\n        const exportElement = document.createElement('a');\n        exportElement.href = url;\n        exportElement.target = '_blank';\n        exportElement.click();\n      }\n    },\n\n    // Get Payee Name for Cost section\n    async payeeName(id: any, meeting: any, formObj: any) {\n      const param = '?expense_type_id=' + id + '&meeting_id=' + meeting;\n      const res = await ServiceEngagement.payeeName(param);\n      console.log('res', res);\n      if (res && res.apiStatus && res.data && res.data.length !== 0) {\n        formObj.hidden = false;\n        formObj.required = true;\n        console.log('res.data[0].length', res.data.length);\n        if (res.data[0] && res.data.length >= 2) {\n          formObj.type = 'dropdown';\n          const arr = [];\n          for (let i = 0; i < res.data.length; i++) {\n            arr.push({\n              id: i + 1,\n              label: res.data[i],\n            });\n          }\n          console.log('payee', arr);\n          formObj.dropdownvalue = arr;\n          formObj.disable = false;\n        } else {\n          formObj.type = 'text';\n          formObj.value = res.data[0];\n          if (formObj.value === '3rd Party') {\n            formObj.disable = false;\n          } else {\n            formObj.disable = true;\n          }\n        }\n      } else {\n        formObj.hidden = true;\n        formObj.required = false;\n      }\n    },\n\n    // Get Employee Clone\n    async cloneEmp(id: any) {\n      const param = '/employees/clone';\n      const postData = {\n        employeeId: id,\n      };\n      this.isCloneEmpId.push(id);\n      const res = await ServiceEngagement.commonEndpoint('post', param, postData);\n      console.log('cloneemp', res);\n      this.closesuccess = false;\n      if (res.apiStatus) {\n        this.checkedData.push(res.data.id);\n        this.catererFormMsg = res.message;\n        setTimeout(async () => {\n          this.catererFormMsg = '';\n        }, 2000);\n      } else {\n        this.closeForm(res);\n      }\n\n      console.log('this.catererFormMsg', this.catererFormMsg);\n    },\n\n    // Add Cost Recepit\n    async costReceipt(res: any) {\n      if (res.apiStatus && res.data) {\n        const costId = res.data.id;\n        const postFormData = new FormData();\n        postFormData.append('cost_id', costId);\n        postFormData.append('files', this.selectedFile);\n\n        const headerRequest = 'multipart/form-data';\n        const response = await ServiceEngagement.addCostReceipt(this.info, postFormData, headerRequest);\n        this.closeForm(response, 'cost');\n      }\n    },\n\n    required(required: boolean) {\n      if (required) {\n        return '*';\n      } else {\n        return '';\n      }\n    },\n\n    async blurEvent(event: any, currentRow: any) {\n      console.log('currentRow', currentRow.param);\n      if (currentRow.paramvalue === 'zipcode' && currentRow.value.toString().length === 5) {\n        this.zipLoader = true;\n        const url = 'zip_codes?zip_code=' + currentRow.value;\n        const res = await ServiceEngagement.commonEndpoint('get', url);\n        this.zipLoader = false;\n        if (res.apiStatus) {\n          for (let index = 0; index < this.data.length; index++) {\n            const element = this.data[index];\n            if (element.param === 'city') {\n              element.value = res.city;\n            }\n            if (element.param === 'state') {\n              element.value = res.state;\n            }\n          }\n        } else {\n          this.closeForm(res);\n        }\n        console.log('zipcodeResponse', res);\n      }\n      if (\n        (currentRow.label === 'NPI Number' && currentRow.value.toString().length === 10) ||\n        (currentRow.label === 'State License Number' && currentRow.value !== '')\n      ) {\n        this.fuzzyLoader = true;\n        await this.fuzzyMatch(currentRow);\n        this.fuzzyLoader = false;\n      }\n    },\n\n    // Check fuzzy match function for Attendee section\n    async fuzzyMatch(row: any) {\n      this.fuzzyType = row.param as any;\n      const postData = {\n        type: this.fuzzyType,\n        meeting: this.info.meeting,\n      } as any;\n      postData[this.fuzzyType] = row.value;\n      console.log('fuzzyMatch', postData);\n\n      const url = '/check_npi';\n      const res = await ServiceEngagement.commonEndpoint('post', url, postData);\n      if (res.apiStatus && res.data && res.data.is_exist && res.data.user) {\n        this.fuzzyRequired = true;\n        this.fuzzyMsg = res.data.popupMessage;\n        this.fuzzyData = res.data.user;\n      } else if (!res.apiStatus) {\n        this.closeForm(res);\n      }\n      console.log('fuzzyMatch', res);\n    },\n\n    // check HCP is Availabled\n    async checkHcpAvailable() {\n      const postData = {\n        user: this.fuzzyDataId,\n        meeting_id: this.info.meeting,\n      } as any;\n      const url = '/attendee/check';\n      const res = await ServiceEngagement.commonEndpoint('post', url, postData);\n      return res;\n    },\n\n    // Bind Fuzzy Data\n    async bindFuzzyData(clickResponse: any) {\n      console.log('clickResponse', clickResponse);\n      this.fuzzyRequired = false;\n      for (const [key, value] of Object.entries(this.fuzzyData)) {\n        for (let index = 0; index < this.data.length; index++) {\n          const element = this.data[index];\n          if (clickResponse === true) {\n            if (key === 'id') {\n              this.fuzzyDataId = value;\n              console.log('this.fuzzyDataId', this.fuzzyDataId);\n            }\n            if (element.param === key && value) {\n              element.value = value;\n            }\n          } else if (clickResponse === false) {\n            if (element.param === 'npi') {\n              element.value = '';\n            }\n          } else {\n            element.value = '';\n          }\n        }\n      }\n\n      if (clickResponse === true) {\n        const hcpAvailableData = await this.checkHcpAvailable();\n        if (hcpAvailableData.apiStatus && hcpAvailableData.message.engagement_access !== 'Yes') {\n          this.showError = true;\n          this.errorMsg = hcpAvailableData.message.pop_msg;\n        } else {\n          // this.closeForm(hcpAvailableData);\n          this.submitFormData();\n        }\n      }\n    },\n\n    // Add Validation for zip and email\n    checkValidation(currentRow: any) {\n      if (currentRow.label === 'Zipcode') {\n        document.getElementsByName(currentRow.param)[0].setAttribute('maxLength', '5');\n        const zip = document.getElementById(currentRow.param) as any;\n        const scope = this;\n        zip.addEventListener('input', function(e: any) {\n          const x = e.target.value.replace(/\\D/g, '');\n          if (e.target.value.length === 5) {\n            scope.validZip = false;\n          } else {\n            scope.validZip = true;\n          }\n        });\n      }\n\n      if (currentRow.label === 'NPI Number') {\n        document.getElementsByName(currentRow.param)[0].setAttribute('maxLength', '10');\n        const npi = document.getElementById(currentRow.param) as any;\n        const scope = this;\n        npi.addEventListener('input', function(e: any) {\n          const x = e.target.value.replace(/\\D/g, '');\n          if (x !== '' && x.charAt(0) !== '1') {\n            e.target.value = '';\n          } else {\n            if (e.target.value.length === 10) {\n              scope.validNpi = false;\n            } else {\n              scope.validNpi = true;\n            }\n          }\n        });\n      }\n      if (currentRow.label === 'State License Number') {\n        document.getElementsByName(currentRow.param)[0].setAttribute('maxLength', '15');\n      }\n\n      if (currentRow.label === 'Phone' || currentRow.label === 'Telephone') {\n        document.getElementsByName(currentRow.param)[0].setAttribute('maxLength', '12');\n        const phone = document.getElementById(currentRow.param) as any;\n        const scope = this;\n        phone.addEventListener('input', function(e: any) {\n          let x = e.target.value.replace(/\\D/g, '');\n          x = x.match(/(\\d{3})(\\d{3})(\\d{4})/);\n          if (x && e.target.value.length <= 12) {\n            e.target.value = x[1] + '-' + +x[2] + '-' + x[3];\n          }\n          if (e.target.value.length === 12) {\n            scope.validPhone = false;\n          } else {\n            scope.validPhone = true;\n          }\n        });\n      }\n      if (currentRow.param === 'email') {\n        const regexMatch = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(currentRow.value);\n        if (!regexMatch) {\n          this.isValidEmail = true;\n        } else {\n          this.isValidEmail = false;\n        }\n      }\n      if (currentRow.delteEstimated) {\n        delete currentRow.delteEstimated;\n      }\n    },\n\n    // Function for number only\n    isNumber(event: any, row: any) {\n      if (row.inputtype === 'number') {\n        const charCode = event.which ? event.which : event.keyCode;\n        if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n          return event.preventDefault();\n        }\n      }\n    },\n\n    async changeToggle(event: any) {\n      console.log('event', event);\n      this.currentPage = 1;\n      // this.checkedData = [];\n      if (event === true) {\n        this.masterList = 1;\n      } else {\n        this.masterList = 0;\n      }\n      this.list = [];\n      this.listPageLoader = true;\n      await this.getListData();\n      this.listPageLoader = false;\n    },\n\n    async closeInnerForm() {\n      this.showInnerForm = false;\n    },\n  },\n});\n"],"sourceRoot":""}]}