(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28887fb9"],{5209:function(e,t,o){e.exports=o.p+"img/addwhite.b3ea4c7f.svg"},c812:function(e,t,o){"use strict";o.r(t);var a=o("7a23"),c=o("5209"),n=o.n(c),r=o("3a4ff"),s=o.n(r);const l=Object(a["createVNode"])("img",{src:n.a,class:"mr-2"},null,-1),d=Object(a["createTextVNode"])("Add Notes"),i={key:0,class:"table-responsive englistdata"},b=Object(a["createTextVNode"])("Notes"),u=Object(a["createTextVNode"])("Date/Time"),O=Object(a["createTextVNode"])("Added By"),j=Object(a["createTextVNode"])("Actions"),m={class:"flex items-center"},p=Object(a["createVNode"])("img",{src:s.a},null,-1),v={class:"prescriber"};function g(e,t,o,c,n,r){const s=Object(a["resolveComponent"])("v-title"),g=Object(a["resolveComponent"])("v-smallbutton"),f=Object(a["resolveComponent"])("VTh"),N=Object(a["resolveComponent"])("VTable"),y=Object(a["resolveComponent"])("v-pagination"),h=Object(a["resolveComponent"])("add-form"),C=Object(a["resolveComponent"])("v-no-data"),V=Object(a["resolveComponent"])("v-toaster"),k=Object(a["resolveComponent"])("v-eng-loader"),w=Object(a["resolveComponent"])("v-card-box");return Object(a["openBlock"])(),Object(a["createBlock"])(w,null,{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(s,{menu:"Notes",class:"mb-4"}),Object(a["createVNode"])(g,{onClick:t[1]||(t[1]=t=>e.openForm()),class:"absolute -mt-11 right-3 bg-blue px-3 rounded-radius6 text-white flex text-fs14 items-center"},{default:Object(a["withCtx"])(()=>[l,d]),_:1}),0==e.notes.length||e.loader?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])("div",i,[Object(a["createVNode"])(N,{class:"w-full",data:e.notes,hideSortIcons:!0},{head:Object(a["withCtx"])(()=>[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])(f,{sortKey:"notes"},{default:Object(a["withCtx"])(()=>[b]),_:1}),Object(a["createVNode"])(f,{sortKey:"datetime"},{default:Object(a["withCtx"])(()=>[u]),_:1}),Object(a["createVNode"])(f,{sortKey:"addedeby"},{default:Object(a["withCtx"])(()=>[O]),_:1}),Object(a["createVNode"])(f,{sortKey:"action"},{default:Object(a["withCtx"])(()=>[j]),_:1})])]),body:Object(a["withCtx"])(({rows:t})=>[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t,t=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t.id},[Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(e.bindData(t.notes_description)),1),Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(e.dateFormat(t.date)),1),Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(e.bindData(t.added_by.full_name)),1),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])("p",{onClick:o=>e.openEditNotes(t),class:"\n           \n             \n              p-0\n              mr-2\n              rounded-radius6\n              cursor-pointer\n            "},[p],8,["onClick"])])])]))),128))]),_:1},8,["data"])])),e.notes&&0!=e.notes.length&&!e.loader?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:1,modelValue:e.currentPage,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.currentPage=t),t[3]||(t[3]=t=>{e.currentPage,e.listNotes(e.currentPage)})],pages:e.totalPages,"range-size":1,"active-color":"#DCEDFF",hideFirstButton:!1,hideLastButton:!1},null,8,["modelValue","pages"])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])("div",v,[e.openAddNotes?(Object(a["openBlock"])(),Object(a["createBlock"])(h,{key:0,"is-open":e.openAddNotes,info:e.tabInfo,"form-data":e.initNotes,onCloseForm:t[4]||(t[4]=t=>e.cloeAddNotes(t))},null,8,["is-open","info","form-data"])):Object(a["createCommentVNode"])("",!0)]),0!=e.notes.length||e.loader?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(C,{key:2})),e.isToaster?(Object(a["openBlock"])(),Object(a["createBlock"])(V,{key:3,"toaster-info":e.toasterInfo},null,8,["toaster-info"])):Object(a["createCommentVNode"])("",!0),e.loader?(Object(a["openBlock"])(),Object(a["createBlock"])(k,{key:4})):Object(a["createCommentVNode"])("",!0)]),_:1})}var f=o("35de"),N=o("2967"),y=o("3c11"),h=o("0613");const C=Object(a["defineAsyncComponent"])(()=>Promise.all([o.e("chunk-5824e692"),o.e("chunk-015d3e5c")]).then(o.bind(null,"2d3e")));var V=Object(a["defineComponent"])({name:"NotesTabs",inheritAttrs:!1,components:{VPagination:N["a"],"add-form":C},props:{meetingId:{default:""},tabCode:{default:""},categoryId:{default:""}},data(){return{isOpennotes:!1}},setup(e){const t=Object(a["ref"])([]),o=Object(a["ref"])(1),c=Object(a["ref"])(!1),n=Object(a["ref"])(1),r=Object(a["ref"])(0),s=Object(a["ref"])(e.meetingId),l=Object(a["ref"])(e.tabCode),d=Object(a["ref"])(!1),i=Object(a["ref"])(""),b=Object(a["ref"])([]),u=Object(a["ref"])([]),O=Object(a["ref"])([]),j=Object(a["ref"])({}),m=Object(a["ref"])({}),p=Object(a["ref"])(!1),v=async(e="")=>{try{var o="",a="";i.value=h["a"].state.notesCatId,i.value&&(a="&category_id="+i.value),n.value&&(o="?page="+n.value+"&limit=10"+a);var c=s.value+"/"+l.value+o,d=await f["a"].engTabList(c);d.is_success?(t.value=d.result,r.value=d.total_count?d.total_count:0):t.value=[],console.log("dmRes",d)}catch(b){t.value=[]}},g=async(e="")=>{console.log("emit event",e),d.value=!1,""!=e&&(p.value=!0,e.apiStatus?m.value["success"]=!0:m.value["success"]=!1,m.value["msg"]=e.result,c.value=!0,await v(),c.value=!1,setTimeout(async()=>{p.value=!1},2e3))},N=async()=>{c.value=!0;try{if(u&&0==u.value.length){var e=await f["a"].categoryList();e.is_success&&0!=e.result.length?(u.value=e.result,console.log("costlist",u.value),u.value=u.value.filter(e=>"notes"==e.category_type),0!=u.value.length&&C()):u.value=[]}}catch(t){u.value=[]}c.value=!1};Object(a["onBeforeMount"])(async()=>{await N(),c.value=!0,await v(),c.value=!1});const C=async()=>{O.value=y["a"].commonFormatForDropdown(u.value,"category_title","category_id")},V=async(e="")=>{await C(),b.value=[{id:0,label:"Category Name",disable:!1,param:"category_id",type:"dropdown",required:!0,value:e?e.category.id:i.value,dropdownvalue:O.value,errorMsg:"Choose Category Name"},{id:1,label:"Description",disable:!1,required:!0,param:"note_desc",type:"textarea",value:e?e.notes_description:"",errorMsg:"Description field is Required"}],d.value=!0};return{imgError:o,notes:t,loader:c,currentPage:n,totalPages:r,meetingId:s,tabCode:l,openAddNotes:d,categoryId:i,initNotes:b,catList:u,dropDownValue:O,tabInfo:j,cloeAddNotes:g,initilizeNotes:V,formatDropdown:C,listCategory:N,toasterInfo:m,isToaster:p,listNotes:v}},methods:{bindData(e){return e||"---"},opennotdrawer(){this.isOpennotes=!this.isOpennotes},errorImg(e){e["errorImg"]=!0,this.imgError+=1},async openForm(){console.log("Add form"),this.tabInfo={title:"Add Notes",endPoint:"/notes",method:"post",meeting:this.meetingId},this.initilizeNotes()},async openEditNotes(e){console.log("edit form",e),this.tabInfo={title:"Edit Notes",endPoint:"/notes/"+e.id,method:"put",meeting:this.meetingId},this.initilizeNotes(e)},dateFormat(e){return e?y["a"].dateFormat(e):"---"}}}),k=o("d959"),w=o.n(k);const B=w()(V,[["render",g]]);t["default"]=B}}]);
//# sourceMappingURL=chunk-28887fb9.fbcfc234.js.map