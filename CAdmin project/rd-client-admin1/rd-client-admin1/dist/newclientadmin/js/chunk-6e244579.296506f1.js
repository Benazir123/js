(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e244579","chunk-2d0d313f"],{"32e2":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),o=a("5209"),r=a.n(o),s=a("5ada"),n=a.n(s),l=a("3475"),d=a.n(l),i=a("7be3"),b=a.n(i),u=a("3d0c"),m=a.n(u);const O={class:"flex flex-wrap"},j={class:"w-full"},g={class:"relative flex flex-col min-w-0 break-words"},p={class:""},f={class:"tab-content tab-space mt-6"},h=Object(c["createVNode"])("img",{src:r.a,class:"mr-2"},null,-1),v=Object(c["createTextVNode"])(" Add Caterer"),y={key:0,class:"table-responsive englistdata"},C=Object(c["createTextVNode"])("Name of Caterer "),k=Object(c["createTextVNode"])("City"),N=Object(c["createTextVNode"])("State"),V=Object(c["createTextVNode"])("Phone number"),x=Object(c["createTextVNode"])("Contact Name"),w=Object(c["createTextVNode"])("Office name"),T=Object(c["createTextVNode"])("Office Address"),B=Object(c["createTextVNode"])("Office Phone Number"),I=Object(c["createTextVNode"])("Action"),_={class:"mr-8 flex items-center w-52"},D={class:"my-1 selectgreenbtn selecthide relative"},S={key:1,src:n.a,class:"ml-2 w-6 absolute top-1.5 right-2"},F=Object(c["createVNode"])("img",{src:d.a},null,-1),A={class:"deletepopup"},P={key:0,class:"drawer-mask justify-center items-center flex z-150"},q=Object(c["createVNode"])("h4",{class:"text-fs20 text-white font-bold"},"Delete",-1),L=Object(c["createVNode"])("p",{class:"text-center text-greytxt font-semibold text-fs16 py-4"}," Are you sure you want to delete the caterer? ",-1),E={class:"flex justify-end"},M=Object(c["createTextVNode"])("No "),K=Object(c["createTextVNode"])("Yes "),z={key:0,src:m.a,class:"ml-2 w-6"},H={class:"prescriber"};function R(e,t,a,o,r,s){const n=Object(c["resolveComponent"])("v-smallbutton"),l=Object(c["resolveComponent"])("VTh"),d=Object(c["resolveComponent"])("VTable"),i=Object(c["resolveComponent"])("v-pagination"),u=Object(c["resolveComponent"])("v-no-data"),m=Object(c["resolveComponent"])("v-eng-loader"),R=Object(c["resolveComponent"])("notes-page"),U=Object(c["resolveComponent"])("task-page"),Z=Object(c["resolveComponent"])("v-confirmation-modal"),J=Object(c["resolveComponent"])("v-card-box"),W=Object(c["resolveComponent"])("add-form"),Y=Object(c["resolveComponent"])("v-toaster");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(J,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])("div",O,[Object(c["createVNode"])("div",j,[(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["resolveDynamicComponent"])("tab-heading"),{key:e.reLoadeHeading,"active-tab":e.activeTab,"tab-list":e.tabListName,"tab-code":e.tabTittle,onTabChange:t[1]||(t[1]=t=>e.tabChange(t))},null,8,["active-tab","tab-list","tab-code"])),Object(c["createVNode"])("div",g,[Object(c["createVNode"])("div",p,[Object(c["createVNode"])("div",f,[Object(c["createVNode"])("div",{class:{hidden:1!==e.activeTab,block:1===e.activeTab}},[Object(c["createVNode"])(n,{onClick:t[2]||(t[2]=t=>e.openAddForm()),class:"\n                    absolute\n                    -mt-16\n                    right-3\n                    \n                    bg-blue\n                    px-3\n                    rounded-radius6\n                    text-white\n                    flex\n                    text-fs14\n                    items-center\n                  "},{default:Object(c["withCtx"])(()=>[h,v]),_:1}),0==e.catererList.length||e.loader?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",y,[Object(c["createVNode"])(d,{class:"w-full",data:e.catererList,hideSortIcons:!0},{head:Object(c["withCtx"])(()=>[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])(l,{sortKey:"name"},{default:Object(c["withCtx"])(()=>[C]),_:1}),Object(c["createVNode"])(l,{sortKey:"city"},{default:Object(c["withCtx"])(()=>[k]),_:1}),Object(c["createVNode"])(l,{sortKey:"State"},{default:Object(c["withCtx"])(()=>[N]),_:1}),Object(c["createVNode"])(l,{sortKey:"phone"},{default:Object(c["withCtx"])(()=>[V]),_:1}),Object(c["createVNode"])(l,{sortKey:"contact"},{default:Object(c["withCtx"])(()=>[x]),_:1}),Object(c["createVNode"])(l,{sortKey:"office"},{default:Object(c["withCtx"])(()=>[w]),_:1}),Object(c["createVNode"])(l,{sortKey:"address"},{default:Object(c["withCtx"])(()=>[T]),_:1}),Object(c["createVNode"])(l,{sortKey:"phone"},{default:Object(c["withCtx"])(()=>[B]),_:1}),Object(c["createVNode"])(l,{sortKey:"action"},{default:Object(c["withCtx"])(()=>[I]),_:1})])]),body:Object(c["withCtx"])(({rows:t})=>[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(t,t=>(Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t.id},[Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.bindData(t.caterer&&t.caterer.name)),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.bindData(t.caterer&&t.caterer.city)),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.bindData(t.caterer&&t.caterer.state)),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.bindData(t.caterer&&t.caterer.phone)),1),Object(c["createVNode"])("td",null,Object(c["toDisplayString"])(e.bindData(t.caterer&&t.caterer.contact_name)),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(e.bindData(t.location&&t.location.name)),1)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(e.bindData(t.location&&t.location.address)),1)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(e.bindData(t.location&&t.location.phone)),1)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",_,[Object(c["createVNode"])("div",D,[t.caterer.status?Object(c["withDirectives"])((Object(c["openBlock"])(),Object(c["createBlock"])("select",{key:0,id:t.caterer.status_id,onClick:a=>e.checkIsdisabled(t.caterer.status_id),onChange:a=>e.changeCaterStatus(t,a.target.value),disabled:0==e.addCaterEnable,"onUpdate:modelValue":e=>t.caterer.status_id=e,style:{color:t.caterer.text_color,background:t.caterer.bg_color},class:"\n                                  border border-graymenu\n                                  outline-none\n                                  focus:border-graymenu\n                                  focus:ring-0\n                                  focus:ring-indigo-200\n                                  focus:ring-opacity-0\n                                  shadow-none\n                                  text-sm\n                                  py-2\n                                  block\n                                  w-full\n                                  leading-normal\n                                  text-dashselect text-fs14\n                                  rounded-radius5\n                                  cursor-pointer\n                                "},[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.catererStatus,e=>(Object(c["openBlock"])(),Object(c["createBlock"])("option",{class:"bg-accpectbtn text-accepttxt",key:e.id,value:e.id,disabled:e.disabled,selected:t.caterer.status_id==e.id},Object(c["toDisplayString"])(e.status),9,["value","disabled","selected"]))),128))],44,["id","onClick","onChange","disabled","onUpdate:modelValue"])),[[c["vModelSelect"],t.caterer.status_id]]):Object(c["createCommentVNode"])("",!0),t.statusChangeLoader?(Object(c["openBlock"])(),Object(c["createBlock"])("img",S)):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("p",{onClick:a=>e.deleteCater(t.caterer.id,t.caterer.status_id),class:["\n                                p-0\n                                w-10\n                                ml-2\n                                rounded-radius6\n                                cursor-pointer\n                              ",[0==e.addCaterEnable?" disableview":""]]},[F],10,["onClick"])])])]))),128))]),_:1},8,["data"])])),e.catererList&&0!=e.catererList.length&&!e.loader?(Object(c["openBlock"])(),Object(c["createBlock"])(i,{key:1,modelValue:e.currentPage,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.currentPage=t),t[4]||(t[4]=t=>{e.currentPage,e.listSpeaker(e.currentPage)})],pages:e.totalPages,"range-size":1,"active-color":"#DCEDFF",hideFirstButton:!1,hideLastButton:!1},null,8,["modelValue","pages"])):Object(c["createCommentVNode"])("",!0),0!=e.catererList.length||e.loader?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])(u,{key:2})),e.loader?(Object(c["openBlock"])(),Object(c["createBlock"])(m,{key:3})):Object(c["createCommentVNode"])("",!0)],2),Object(c["createVNode"])("div",{class:["speakernotes",{hidden:2!==e.activeTab,block:2===e.activeTab}]},[2==e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])(R,{key:0,"meeting-id":e.meetingId,"tab-code":"notes","category-id":e.categoryIdNotes},null,8,["meeting-id","category-id"])):Object(c["createCommentVNode"])("",!0)],2),Object(c["createVNode"])("div",{class:["speakernotes",{hidden:3!==e.activeTab,block:3===e.activeTab}]},[3==e.activeTab?(Object(c["openBlock"])(),Object(c["createBlock"])(U,{key:0,"meeting-id":e.meetingId,"tab-code":"tasks"},null,8,["meeting-id"])):Object(c["createCommentVNode"])("",!0)],2)])])])])]),Object(c["createVNode"])("div",A,[e.showdelete?(Object(c["openBlock"])(),Object(c["createBlock"])("div",P,[Object(c["createVNode"])(Z,{header:!0},{header:Object(c["withCtx"])(()=>[q,Object(c["createVNode"])("img",{src:b.a,class:"cursor-pointer",onClick:t[5]||(t[5]=t=>e.showdelete=!1)})]),description:Object(c["withCtx"])(()=>[L]),footer:Object(c["withCtx"])(()=>[Object(c["createVNode"])("div",E,[Object(c["createVNode"])(n,{type:"submit",onClick:t[6]||(t[6]=t=>e.showdelete=!1),class:"\n                  flex\n                  font-w-normal\n                  text-fs12\n                  mr-3\n                  py-2\n                  px-10\n                  float-right\n                  text-greytxt\n                  bg-clrbtn\n                  rounded-radius6\n                "},{default:Object(c["withCtx"])(()=>[M]),_:1}),Object(c["createVNode"])(n,{type:"submit",onClick:e.cater,class:"\n                  flex\n                  font-w-normal\n                  text-fs12\n                  py-2\n                  px-10\n                  float-right\n                  text-white\n                  bg-blue\n                  rounded-radius6\n                "},{default:Object(c["withCtx"])(()=>[K,e.submitted?(Object(c["openBlock"])(),Object(c["createBlock"])("img",z)):Object(c["createCommentVNode"])("",!0)]),_:1},8,["onClick"])])]),_:1})])):Object(c["createCommentVNode"])("",!0)])]),_:1}),Object(c["createVNode"])("div",H,[e.openForm?(Object(c["openBlock"])(),Object(c["createBlock"])(W,{key:0,"is-open":e.openForm,info:e.tabInfo,"is-addForm":e.isAddForm,"form-data":e.initformData,onCloseForm:t[7]||(t[7]=t=>e.cloeForm(t)),onDeleteCost:t[8]||(t[8]=t=>e.deleteCost(t))},null,8,["is-open","info","is-addForm","form-data"])):Object(c["createCommentVNode"])("",!0)]),e.isToaster?(Object(c["openBlock"])(),Object(c["createBlock"])(Y,{key:0,"toaster-info":e.toasterInfo},null,8,["toaster-info"])):Object(c["createCommentVNode"])("",!0)],64)}var U=a("35de"),Z=a("2967");const J=Object(c["defineAsyncComponent"])(()=>a.e("chunk-2efe8a9a").then(a.bind(null,"c812"))),W=Object(c["defineAsyncComponent"])(()=>a.e("chunk-465c715d").then(a.bind(null,"89dc"))),Y=Object(c["defineAsyncComponent"])(()=>a.e("chunk-2d0b8e46").then(a.bind(null,"312d"))),G=Object(c["defineAsyncComponent"])(()=>Promise.all([a.e("chunk-5824e692"),a.e("chunk-2d0b6852")]).then(a.bind(null,"2d3e")));var Q=Object(c["defineComponent"])({name:"Caterer",inheritAttrs:!1,components:{"notes-page":J,"task-page":W,"tab-heading":Y,VPagination:Z["a"],"add-form":G},props:{meetingId:{default:""},tabCode:{default:""},tabTittle:{default:""},categoryIdNotes:{default:""},categoryIdTask:{default:""},meetingStatus:{default:""},addCaterEnable:{type:Boolean,default:!1}},data(){return{openspkTab:1}},setup(e){const t=Object(c["ref"])([]),a=Object(c["ref"])(1),o=Object(c["ref"])(1),r=Object(c["ref"])(1),s=Object(c["ref"])(1),n=Object(c["ref"])(!1),l=Object(c["ref"])(e.tabCode),d=Object(c["ref"])(1),i=Object(c["ref"])(0),b=Object(c["ref"])(e.meetingId),u=Object(c["ref"])(e.tabTittle),m=Object(c["ref"])([]),O=Object(c["ref"])(e.categoryIdNotes),j=Object(c["ref"])(e.categoryIdNotes),g=Object(c["ref"])([]),p=Object(c["ref"])(!1),f=(Object(c["ref"])(!1),Object(c["ref"])(!1)),h=Object(c["ref"])(!1),v=Object(c["ref"])({}),y=Object(c["ref"])(!1),C=Object(c["ref"])({}),k=Object(c["ref"])(!1),N=Object(c["ref"])([]),V=Object(c["ref"])(!0),x=async(e="")=>{n.value=!0;try{var a="";e&&(a="?page="+e+"&limit=10");var c=b.value+"/"+l.value+a,o=await U["a"].engTabList(c);o.is_success?(i.value=o.total_count?o.total_count:0,t.value=o.result):t.value=[],console.log("Response",o)}catch(r){t.value=[]}n.value=!1},w=async e=>{console.log("tabChange",e),s.value+=1,o.value=e,1==o.value&&(d.value=1,await x())};Object(c["onBeforeMount"])(async()=>{m.value=[{id:1,tabTittle:"Caterer"},{id:2,tabTittle:"Notes"},{id:3,tabTittle:"Tasks"}],await x(),await T()});const T=async(e="")=>{console.log("status",e);var t="";t="caterers/statuses?status="+e,console.log("param",t);try{var a=await U["a"].profile("get",t);console.log("listCatererStatus",a),a.result&&0!=a.result.length?g.value=a.result:g.value=[]}catch(c){g.value=[]}},B=async(e="")=>{T(e)},I=async(e="")=>{console.log("emit event",e),k.value=!1,""!=e&&(y.value=!0,e.apiStatus?v.value["success"]=!0:v.value["success"]=!1,e.message?v.value["msg"]=e.message:v.value["msg"]=e.result,n.value=!0,d.value=1,await x(),n.value=!1,setTimeout(async()=>{y.value=!1},2e3))},_=async(e="")=>{k.value=!0,V.value=!1,N.value=[{id:0,label:"Caterer Name",required:!0,disable:!1,param:"caterer_name",type:"text",value:"",errorMsg:"Caterer Name is required"},{id:1,label:"Address 1",required:!0,disable:!1,param:"address",type:"textarea",value:"",errorMsg:"Address is required"},{id:2,label:"Address 2",required:!1,disable:!1,param:"address2",type:"textarea",value:"",errorMsg:"address2 is required"},{id:3,label:"Phone",required:!0,disable:!1,param:"phone",type:"text",value:"",inputtype:"number",errorMsg:"Phone is required"},{id:4,label:"Email",required:!1,disable:!1,param:"email",type:"text",value:"",errorMsg:"Email is required"},{id:5,label:"Zipcode",required:!0,disable:!1,param:"zipcode",type:"text",value:"",paramvalue:"zipcode",inputtype:"number",maxLength:5,errorMsg:"Zipcode is required",lengthError:"Zipcode must be 5 Digit."},{id:6,label:"City",required:!0,disable:!0,param:"city",type:"text",value:"",errorMsg:"City is required"},{id:7,label:"State",required:!0,disable:!0,param:"state",type:"text",value:"",errorMsg:"State is required"},{id:8,label:"Contact Name",required:!1,disable:!1,param:"contact_name",type:"text",value:"",errorMsg:"City is required"}]};return{imgError:a,catererList:t,activeTab:o,tabHeading:r,tabChange:w,reLoadeHeading:s,loader:n,tabCode:l,currentPage:d,totalPages:i,meetingId:b,tabTittle:u,tabListName:m,categoryIdNotes:O,categoryIdTask:j,catererStatus:g,listStatus:B,showdelete:p,submitted:f,caterId:h,toasterInfo:v,isToaster:y,tabInfo:C,initilizeForm:_,openForm:k,initformData:N,isAddForm:V,cloeForm:I}},methods:{bindData(e){return e||"---"},cloeForm(e){""!=e&&(console.log("cloeForm",e),this.isToaster=!0,e.apiStatus?(this.toasterInfo["success"]=!0,e.message?this.toasterInfo["msg"]=e.message:this.toasterInfo["msg"]=e.result):e.data.apiStatus?(this.toasterInfo["success"]=!0,e.data.message?this.toasterInfo["msg"]=e.data.message:this.toasterInfo["msg"]=e.data.result):(this.toasterInfo["success"]=!1,this.toasterInfo["msg"]=e.error.message),setTimeout(async()=>{this.isToaster=!1},2e3))},errorImg(e){e["errorImg"]=!0,this.imgError+=1},deleteCater(e,t){5!=t&&1!=t&&(this.showdelete=!0,this.caterId=e,console.log("id",e))},async cater(){this.submitted=!0;var e="/caterers/"+this.caterId+"?meeting="+this.meetingId,t=await U["a"].commonEndpoint("delete",e);this.cloeForm(t),this.submitted=!1,this.showdelete=!1,console.log("Deleteres",t)},async openAddForm(){console.log("Add form"),this.tabInfo={title:"ADD NEW CATERER",endPoint:"/caterers",listPageEndPoint:"/caterers",listPageAddEndPoint:"/engagements/"+this.meetingId+"/caterers",listPageMethod:"get",listPageAddMethod:"post",method:"post",meeting:this.meetingId,addParam:"caterer_id",from:"caterer"},this.initilizeForm()},async changeCaterStatus(e,t){var a;console.log("changeCaterStatus",e),console.log("event",t),e["statusChangeLoader"]=!0,a=e.location.id?"/engagements/"+this.meetingId+"/cater/"+e.caterer.id+"/statuses?status="+t+"&location_id="+e.location.id:"/engagements/"+this.meetingId+"/cater/"+e.caterer.id+"/statuses?status="+t;var c=await U["a"].commonEndpoint("put",a);await this.cloeForm(c),e["statusChangeLoader"]=!1,console.log("res",c)},async checkIsdisabled(e){console.log("Caterer status id",e),this.catererStatus.forEach(t=>{0!=t.id||1!=e&&5!=e?t.disabled=!1:t.disabled=!0}),console.log(this.catererStatus)}}}),X=a("d959"),$=a.n(X);const ee=$()(Q,[["render",R]]);t["default"]=ee},3475:function(e,t,a){e.exports=a.p+"img/deletered.fc05a885.svg"},5209:function(e,t,a){e.exports=a.p+"img/addwhite.b3ea4c7f.svg"},"5ada":function(e,t,a){e.exports=a.p+"img/button-bar-blackloader.f76f6f30.svg"}}]);
//# sourceMappingURL=chunk-6e244579.296506f1.js.map