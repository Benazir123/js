(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-465c715d"],{"3a4ff":function(e,t,a){e.exports=a.p+"img/editblue.c190ef09.svg"},"89dc":function(e,t,a){"use strict";a.r(t);var o=a("7a23"),r=a("5209"),c=a.n(r),s=a("3a4ff"),l=a.n(s);const n=Object(o["createVNode"])("img",{src:c.a,class:"mr-2"},null,-1),d=Object(o["createTextVNode"])("Add Task"),i={key:1,class:"table-responsive englistdata"},u=Object(o["createTextVNode"])("Task"),b=Object(o["createTextVNode"])("Due Date"),m=Object(o["createTextVNode"])("Assigned"),O=Object(o["createTextVNode"])("Completed date"),j=Object(o["createTextVNode"])("Status"),p=Object(o["createTextVNode"])("Action"),g={class:"flex items-center"},v=Object(o["createVNode"])("img",{src:l.a},null,-1),f={class:"prescriber addtaskform"};function k(e,t,a,r,c,s){const l=Object(o["resolveComponent"])("v-title"),k=Object(o["resolveComponent"])("v-smallbutton"),y=Object(o["resolveComponent"])("VTh"),h=Object(o["resolveComponent"])("VTable"),V=Object(o["resolveComponent"])("v-pagination"),C=Object(o["resolveComponent"])("v-eng-loader"),w=Object(o["resolveComponent"])("add-form"),_=Object(o["resolveComponent"])("v-no-data"),N=Object(o["resolveComponent"])("v-toaster"),F=Object(o["resolveComponent"])("v-card-box");return Object(o["openBlock"])(),Object(o["createBlock"])(F,null,{default:Object(o["withCtx"])(()=>[e.isPrimaryTab?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,menu:"Task",class:"mb-4"})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(k,{onClick:t[1]||(t[1]=t=>e.openForm()),class:"absolute -mt-11 right-3  bg-blue px-3 rounded-radius6 text-white flex text-fs14 items-center"},{default:Object(o["withCtx"])(()=>[n,d]),_:1}),e.task&&0!=e.task.length&&!e.loader?(Object(o["openBlock"])(),Object(o["createBlock"])("div",i,[Object(o["createVNode"])(h,{class:"w-full",data:e.task,hideSortIcons:!0},{head:Object(o["withCtx"])(()=>[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])(y,{sortKey:"task"},{default:Object(o["withCtx"])(()=>[u]),_:1}),Object(o["createVNode"])(y,{sortKey:"duedate"},{default:Object(o["withCtx"])(()=>[b]),_:1}),Object(o["createVNode"])(y,{sortKey:"assigned"},{default:Object(o["withCtx"])(()=>[m]),_:1}),Object(o["createVNode"])(y,{sortKey:"completeddate"},{default:Object(o["withCtx"])(()=>[O]),_:1}),Object(o["createVNode"])(y,{sortKey:"status"},{default:Object(o["withCtx"])(()=>[j]),_:1}),Object(o["createVNode"])(y,{sortKey:"action"},{default:Object(o["withCtx"])(()=>[p]),_:1})])]),body:Object(o["withCtx"])(({rows:t})=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t,t=>(Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:t.id},[Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.bindData(t.task_description)),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.dateFormat(t.due_date)),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.bindData(t.to_assinee.full_name)),1),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.dateFormat(t.completed_date)),1),Object(o["createVNode"])("td",null,[t.status?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,class:"\n                bg-accpectbtn\n                text-accepttxt\n                p-1\n                px-2\n                rounded-radius6\n                cursor-default\n              "},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.status.name),1)]),_:2},1024)):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",g,[Object(o["createVNode"])("p",{onClick:a=>e.editForm(t),class:"\n           \n             \n              p-0\n              mr-2\n              rounded-radius6\n              cursor-pointer\n            "},[v],8,["onClick"])])])]))),128))]),_:1},8,["data"])])):Object(o["createCommentVNode"])("",!0),e.task&&0!=e.task.length&&!e.loader?(Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:2,modelValue:e.currentPage,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.currentPage=t),t[3]||(t[3]=t=>{e.currentPage,e.listTask(e.currentPage)})],pages:e.totalPages,"range-size":1,"active-color":"#DCEDFF",hideFirstButton:!1,hideLastButton:!1},null,8,["modelValue","pages"])):Object(o["createCommentVNode"])("",!0),e.loader?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:3})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",f,[e.openAddForm?(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:e.taskFromId,"is-open":e.openAddForm,info:e.tabInfo,"form-data":e.formData,onCloseForm:t[4]||(t[4]=t=>e.closeForm(t))},null,8,["is-open","info","form-data"])):Object(o["createCommentVNode"])("",!0)]),0!=e.task.length||e.loader?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(_,{key:4})),e.isToaster?(Object(o["openBlock"])(),Object(o["createBlock"])(N,{key:5,"toaster-info":e.toasterInfo},null,8,["toaster-info"])):Object(o["createCommentVNode"])("",!0)]),_:1})}var y=a("35de"),h=a("2967"),V=a("3c11"),C=a("c1df"),w=a.n(C),_=a("0613");const N=Object(o["defineAsyncComponent"])(()=>Promise.all([a.e("chunk-5824e692"),a.e("chunk-015d3e5c")]).then(a.bind(null,"2d3e")));var F=Object(o["defineComponent"])({name:"Task",inheritAttrs:!1,components:{VPagination:h["a"],"add-form":N},props:{meetingId:{default:""},tabCode:{default:""},categoryId:{default:""},categoryList:{default:[]},isPrimary:{default:!1}},setup(e){const t=Object(o["ref"])([]),a=Object(o["ref"])(1),r=Object(o["ref"])(!1),c=Object(o["ref"])(1),s=Object(o["ref"])(0),l=Object(o["ref"])(e.meetingId),n=Object(o["ref"])(e.tabCode),d=Object(o["ref"])(""),i=Object(o["ref"])([]),u=Object(o["ref"])(!1),b=Object(o["ref"])([]),m=Object(o["ref"])({}),O=Object(o["ref"])(e.categoryList),j=Object(o["ref"])(w()(new Date).format("YYYY-MM-DD")),p=Object(o["ref"])(w()(new Date).format("YYYY-MM-DD")),g=Object(o["ref"])([]),v=Object(o["ref"])(e.isPrimary),f=Object(o["ref"])([]),k=Object(o["ref"])({}),h=Object(o["ref"])(!1),C=Object(o["ref"])(1),N=async(e="")=>{try{var a="",o=_["a"].state.catId;o&&(o="&category_id="+o),c.value&&(a="?page="+c.value+"&limit=10"+o);var r=l.value+"/"+n.value+a,d=await y["a"].engTabList(r);d.is_success?(t.value=d.result,s.value=d.total_count?d.total_count:0):t.value=[],console.log("Result",d)}catch(i){t.value=[]}},F=async()=>{r.value=!0,console.log("assigneeres",f.value),f.value&&0==f.value.length&&(f.value=await y["a"].assigneeList()),f.value.is_success&&(g.value=V["a"].commonFormatForDropdown(f.value.result,"full_name")),r.value=!1,console.log("assigneeList",g.value)},D=async(e="")=>{i.value=[{id:0,label:"Name the task",disable:!1,param:"name",type:"text",value:e?e.task_description:"",required:!0,errorMsg:"Task name is required"},{id:1,label:"Select the task scope",disable:!1,param:"category_id",type:"dropdown",value:e?e.category.id:d.value,dropdownvalue:b.value,required:!0,errorMsg:"Task Scope is required"},{id:2,label:"Assign a start date",disable:!1,hidden:!!e,param:"start_date",type:"datepicker",value:j,required:!1,errorMsg:"Start date is required"},{id:3,label:"Assign a due date",disable:!1,param:"due_date",type:"datepicker",required:!1,value:e&&e.due_date?w()(new Date(e.due_date)).format("YYYY-MM-DD"):p.value,errorMsg:"End date is required"},{id:4,label:"Completed date",disable:!1,hidden:!e,param:"completed_date",type:"datepicker",value:e&&e.completed_date?w()(new Date(e.completed_date)).format("YYYY-MM-DD"):"",required:!1,errorMsg:"Start date is required"},{id:5,label:"Assign to",disable:!1,param:"toAssinee",type:"dropdown",required:!0,value:e?e.to_assinee.id:"",dropdownvalue:g.value,errorMsg:"Assignee is required"}],u.value=!0},x=async()=>{r.value=!0;try{if(O&&0==O.value.length){var e=await y["a"].categoryList();e.is_success&&0!=e.result.length?(O.value=e.result,O.value=O.value.filter(e=>"task"==e.category_type),0!=O.value.length&&T()):O.value=[]}}catch(t){O.value=[]}r.value=!1},T=async()=>{b.value=V["a"].commonFormatForDropdown(O.value,"category_title","category_id")};Object(o["onBeforeMount"])(async()=>{await F(),await x(),r.value=!0,await N(),r.value=!1,O.value=O.value.filter(e=>"task"==e.category_type),0!=O.value.length&&(b.value=V["a"].commonFormatForDropdown(O.value,"category_title","category_id"))});const B=async(e="")=>{u.value=!1,""!=e&&(h.value=!0,e.apiStatus?k.value["success"]=!0:k.value["success"]=!1,k.value["msg"]=e.result,r.value=!0,await N(),r.value=!1,setTimeout(async()=>{h.value=!1},2e3)),console.log("taskFromId",C)};return{imgError:a,task:t,loader:r,currentPage:c,totalPages:s,meetingId:l,tabCode:n,categoryId:d,formData:i,openAddForm:u,initilizeForm:D,tabInfo:m,catList:O,closeForm:B,startDate:j,endDate:p,listAssignee:F,assigneeValue:g,listCategory:x,isPrimaryTab:v,assigneeList:f,toasterInfo:k,isToaster:h,listTask:N,taskFromId:C}},methods:{bindData(e){return e||"---"},errorImg(e){e["errorImg"]=!0,this.imgError+=1},async openForm(){console.log("Add form"),this.taskFromId+=1,this.tabInfo={title:"Add Task",endPoint:"/tasks",method:"post",meeting:this.meetingId,from:"task"},this.initilizeForm()},async editForm(e){console.log("edit form",e),this.taskFromId+=1,this.tabInfo={title:"Edit Tasks",endPoint:"/tasks/"+e.id,method:"put",meeting:this.meetingId,from:"edittask"},this.initilizeForm(e)},dateFormat(e){return e?V["a"].dateFormatWithOutTime(e):"---"}}}),D=a("d959"),x=a.n(D);const T=x()(F,[["render",k]]);t["default"]=T}}]);
//# sourceMappingURL=chunk-465c715d.68222407.js.map