(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36ae249a","chunk-2d0d313f"],{"4ea1":function(e,t,a){"use strict";a.r(t);var o=a("7a23"),c=a("5209"),s=a.n(c),n=a("0251"),r=a.n(n),l=a("5ada"),i=a.n(l);const d={class:"flex flex-wrap"},b={class:"w-full"},u={class:"relative"},m={class:"relative flex flex-col min-w-0 break-words"},p={class:""},g={class:"tab-content tab-space mt-8"},O=Object(o["createVNode"])("img",{src:s.a,class:"mr-2"},null,-1),j=Object(o["createTextVNode"])("Add Speaker"),k={key:1,class:"table-responsive englistdata"},f=Object(o["createTextVNode"])("Speaker"),v=Object(o["createTextVNode"])("Invited by"),h=Object(o["createTextVNode"])("Request Status"),y=Object(o["createTextVNode"])("Status"),N={class:"flex items-center"},C={class:"flex-shrink-0 w-8 h-8"},V={class:"ml-3 flex items-center"},w={class:"whitespace-no-wrap"},B={key:0,class:"group relative ml-3 w-4 h-4"},I=Object(o["createVNode"])("img",{src:r.a,alt:""},null,-1),S=Object(o["createVNode"])("b",{class:"\n                                    absolute\n                                    top-0\n                                    left-full\n                                    bg-secgrey\n                                    text-white\n                                    p-1\n                                    px-3\n                                    rounded-radius4\n                                    -mt-1\n                                    ml-2\n                                    hidden\n                                    group-hover:block\n                                  "},"National Speaker",-1),x={class:"w-72"},T={class:"mr-8"},_={class:"my-1 selectgreenbtn selecthide relative"},F={key:1,src:i.a,class:"ml-2 w-6 absolute top-1.5 right-2"},A={class:"prescriber"};function L(e,t,a,c,s,n){const r=Object(o["resolveComponent"])("v-smallbutton"),l=Object(o["resolveComponent"])("VTh"),i=Object(o["resolveComponent"])("VTable"),L=Object(o["resolveComponent"])("v-pagination"),P=Object(o["resolveComponent"])("v-no-data"),E=Object(o["resolveComponent"])("v-eng-loader"),D=Object(o["resolveComponent"])("notes-page"),q=Object(o["resolveComponent"])("task-page"),K=Object(o["resolveComponent"])("v-card-box"),M=Object(o["resolveComponent"])("add-form"),R=Object(o["resolveComponent"])("v-toaster");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(K,null,{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])("div",d,[Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",u,[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])("tab-heading"),{key:e.reLoadeHeading,"active-tab":e.activeTab,"tab-list":e.tabListName,"tab-code":e.tabTittle,onTabChange:t[1]||(t[1]=t=>e.tabChange(t))},null,8,["active-tab","tab-list","tab-code"]))]),Object(o["createVNode"])("div",m,[Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",g,[Object(o["createVNode"])("div",{class:{hidden:1!==e.activeTab,block:1===e.activeTab}},[1==e.activeTab&&e.addSpeakerEnable?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0,onClick:t[2]||(t[2]=t=>e.openAddForm()),class:"\n                    bg-blue\n                    px-3\n                    rounded-radius6\n                    text-white\n                    flex\n                    text-fs14\n                    items-center\n                    absolute\n                    -top-11\n                    right-3\n                  "},{default:Object(o["withCtx"])(()=>[O,j]),_:1})):Object(o["createCommentVNode"])("",!0),0==e.spkList.length||e.loader?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",k,[Object(o["createVNode"])(i,{class:"w-full min-w-full divide-y divide-gray-200 bg-white",data:e.spkList,hideSortIcons:!0},{head:Object(o["withCtx"])(()=>[Object(o["createVNode"])("tr",null,[Object(o["createVNode"])(l,{sortKey:"spkname"},{default:Object(o["withCtx"])(()=>[f]),_:1}),Object(o["createVNode"])(l,{sortKey:"invited"},{default:Object(o["withCtx"])(()=>[v]),_:1}),Object(o["createVNode"])(l,{sortKey:"spkrequeststatus"},{default:Object(o["withCtx"])(()=>[h]),_:1}),Object(o["createVNode"])(l,{sortKey:"spkstatus"},{default:Object(o["withCtx"])(()=>[y]),_:1})])]),body:Object(o["withCtx"])(({rows:t})=>[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t,t=>(Object(o["openBlock"])(),Object(o["createBlock"])("tr",{key:t.id},[Object(o["createVNode"])("td",null,[Object(o["createVNode"])("div",N,[Object(o["createVNode"])("div",C,[(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])("v-profile"),{"small-profile":!0,"side-menu":!0,key:e.imgError,onErrorImg:a=>e.errorImg(t),"user-info":{letter_name:t.short_name,full_name:t.fullName,errorImg:!!t.errorImg&&t.errorImg,img:t.photo,id:""}},null,8,["onErrorImg","user-info"]))]),Object(o["createVNode"])("div",V,[Object(o["createVNode"])("p",w,Object(o["toDisplayString"])(e.bindData(t.full_name)),1),1==t.nationalSpeaker?(Object(o["openBlock"])(),Object(o["createBlock"])("span",B,[I,S])):Object(o["createCommentVNode"])("",!0)])])]),Object(o["createVNode"])("td",null,Object(o["toDisplayString"])(e.bindData(t.invitee_by)),1),Object(o["createVNode"])("td",null,[t.requestStatus.name?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:0,style:{color:t.requestStatus.text_color,background:t.requestStatus.bg_color},class:"\n                              bg-skyblue\n                              text-bluetxt\n                              p-1\n                              px-3\n                              rounded-radius6\n                              cursor-default\n                            "},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.requestStatus.name),1)]),_:2},1032,["style"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("td",x,[Object(o["createVNode"])("div",T,[Object(o["createVNode"])("div",_,[t.status.name?Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("select",{key:0,id:t.status.id,onClick:a=>e.checkIsdisabled(t.status.id),onChange:a=>e.changeSpkStatus(t),disabled:3==t.status.id||2==t.status.id||4==t.status.id||11==t.status.id||9==t.status.id&&("Awaiting Speaker Reply"!=e.meetingStatus||"Speaker Declined"!=e.meetingStatus),"onUpdate:modelValue":e=>t.status.id=e,style:{color:t.status.text_color,background:t.status.bg_color},class:"\n                                  border border-graymenu\n                                  outline-none\n                                  focus:border-graymenu\n                                  focus:ring-0\n                                  focus:ring-indigo-200\n                                  focus:ring-opacity-0\n                                  shadow-none\n                                  text-sm\n                                  py-2\n                                  block\n                                  w-full\n                                  leading-normal\n                                  text-dashselect text-fs14\n                                  rounded-radius5\n                                  cursor-pointer\n                                "},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.speakerStatus,e=>(Object(o["openBlock"])(),Object(o["createBlock"])("option",{class:"bg-accpectbtn text-accepttxt",value:e.status_id,key:e.status_id,selected:t.status.id==e.status_id,disabled:e.disabled},Object(o["toDisplayString"])(e.status),9,["value","selected","disabled"]))),128))],44,["id","onClick","onChange","disabled","onUpdate:modelValue"])),[[o["vModelSelect"],t.status.id]]):Object(o["createCommentVNode"])("",!0),t.statusChangeLoader?(Object(o["openBlock"])(),Object(o["createBlock"])("img",F)):Object(o["createCommentVNode"])("",!0)])])])]))),128))]),_:1},8,["data"])])),e.spkList&&0!=e.spkList.length&&!e.loader?(Object(o["openBlock"])(),Object(o["createBlock"])(L,{key:2,modelValue:e.currentPage,"onUpdate:modelValue":[t[3]||(t[3]=t=>e.currentPage=t),t[4]||(t[4]=t=>{e.currentPage,e.listSpeaker(e.currentPage)})],pages:e.totalPages,"range-size":1,"active-color":"#DCEDFF",hideFirstButton:!1,hideLastButton:!1},null,8,["modelValue","pages"])):Object(o["createCommentVNode"])("",!0),0!=e.spkList.length||e.loader?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(P,{key:3})),e.loader?(Object(o["openBlock"])(),Object(o["createBlock"])(E,{key:4})):Object(o["createCommentVNode"])("",!0)],2),Object(o["createVNode"])("div",{class:["speakernotes",{hidden:2!==e.activeTab,block:2===e.activeTab}]},[2==e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(D,{key:0,"meeting-id":e.meetingId,"tab-code":"notes","category-id":e.categoryIdNotes},null,8,["meeting-id","category-id"])):Object(o["createCommentVNode"])("",!0)],2),Object(o["createVNode"])("div",{class:["speakernotes",{hidden:3!==e.activeTab,block:3===e.activeTab}]},[3==e.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(q,{key:0,"meeting-id":e.meetingId,"tab-code":"tasks"},null,8,["meeting-id"])):Object(o["createCommentVNode"])("",!0)],2)])])])])])]),_:1}),Object(o["createVNode"])("div",A,[e.openForm?(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:0,"is-open":e.openForm,info:e.tabInfo,"is-addForm":e.isAddForm,"is-addButton":e.showAddIcon,onCloseForm:t[5]||(t[5]=t=>e.cloeForm(t))},null,8,["is-open","info","is-addForm","is-addButton"])):Object(o["createCommentVNode"])("",!0)]),e.isToaster?(Object(o["openBlock"])(),Object(o["createBlock"])(R,{key:0,"toaster-info":e.toasterInfo},null,8,["toaster-info"])):Object(o["createCommentVNode"])("",!0)],64)}var P=a("35de"),E=a("2967");const D=Object(o["defineAsyncComponent"])(()=>a.e("chunk-2efe8a9a").then(a.bind(null,"c812"))),q=Object(o["defineAsyncComponent"])(()=>a.e("chunk-465c715d").then(a.bind(null,"89dc"))),K=Object(o["defineAsyncComponent"])(()=>a.e("chunk-2d0b8e46").then(a.bind(null,"312d"))),M=Object(o["defineAsyncComponent"])(()=>Promise.all([a.e("chunk-5824e692"),a.e("chunk-2d0b6852")]).then(a.bind(null,"2d3e")));var R=Object(o["defineComponent"])({name:"Speaker",inheritAttrs:!1,components:{"notes-page":D,"task-page":q,"tab-heading":K,VPagination:E["a"],"add-form":M},props:{meetingId:{default:""},tabCode:{default:""},tabTittle:{default:""},categoryIdNotes:{default:""},meetingStatus:{default:""},addSpeakerEnable:{type:Boolean,default:!1},engInfo:{default:""}},data(){return{openInnerTab:1,openspkTab:1,isOpendrawer:!1,infoPopup:!1,infoIcon:!0}},setup(e){const t=Object(o["ref"])([]),a=Object(o["ref"])([]),c=Object(o["ref"])(1),s=Object(o["ref"])(1),n=Object(o["ref"])(1),r=Object(o["ref"])(1),l=Object(o["ref"])(!1),i=Object(o["ref"])(e.tabCode),d=Object(o["ref"])(1),b=Object(o["ref"])(0),u=Object(o["ref"])(e.meetingId),m=Object(o["ref"])(e.tabTittle),p=Object(o["ref"])([]),g=Object(o["ref"])(e.categoryIdNotes),O=Object(o["ref"])([]),j=Object(o["ref"])(e.meetingStatus),k=Object(o["ref"])(!1),f=Object(o["ref"])(!1),v=Object(o["ref"])(!1),h=Object(o["ref"])({}),y=Object(o["ref"])(e.engInfo),N=Object(o["ref"])(!1),C=Object(o["ref"])({}),V=Object(o["ref"])(!1),w=Object(o["ref"])(!1),B=async(e="")=>{console.log("page",e),l.value=!0;try{var t="";e&&(t="?page="+e+"&limit=10");var o=u.value+"/"+i.value+t,c=await P["a"].engTabList(o);c.is_success?(b.value=c.total_count?c.total_count:0,a.value=c.result):a.value=[],console.log("dmRes",c)}catch(s){a.value=[]}l.value=!1},I=async e=>{console.log("status",e);var t="";t=""!=e?"/speakers/statuses?status="+e:"/speakers/statuses",console.log("param",t);var a=await P["a"].getStatus(t);console.log("listSpeakerStatus",a),a.is_success&&(O.value=a.result)},S=async e=>{console.log("tabChange",e),r.value+=1,s.value=e,1==s.value&&(d.value=1,await B())},x=async e=>{var t=document.getElementById(e);if(console.log("dropdownId",t),t.click(),1==e||0==e){k.value=!0;try{await I(e)}catch(a){}k.value=!1}};Object(o["onBeforeMount"])(async()=>{p.value=[{id:1,tabTittle:"Speaker"},{id:2,tabTittle:"Notes"},{id:3,tabTittle:"Tasks"}],console.log("engInfo",e.engInfo),await B(),await I("")});const T=async(e="")=>{f.value=!0,v.value=!1},_=async(e="")=>{console.log("emit event",e),f.value=!1,""!=e&&(N.value=!0,e.apiStatus?C.value["success"]=!0:C.value["success"]=!1,e.message?C.value["msg"]=e.message:C.value["msg"]=e.result,l.value=!0,d.value=1,await B(1),l.value=!1,setTimeout(async()=>{N.value=!1},2e3))};return{speakerusers:t,imgError:c,spkList:a,activeTab:s,tabHeading:n,tabChange:S,reLoadeHeading:r,loader:l,tabCode:i,currentPage:d,totalPages:b,meetingId:u,tabTittle:m,tabListName:p,categoryIdNotes:g,speakerStatus:O,listSpeakerStatus:I,listStatus:x,meetingStatus:j,hideStatus:k,initilizeForm:T,openForm:f,isAddForm:v,tabInfo:h,engInfo:y,isToaster:N,cloeForm:_,toasterInfo:C,showAddIcon:V,listSpeaker:B,statusChangeLoader:w}},methods:{bindData(e){return e||"---"},speakertoggleTabs:function(e){this.openspkTab=e},errorImg(e){e["errorImg"]=!0,this.imgError+=1},async checkIsdisabled(e){console.log("spk status id",e),1==e&&(this.speakerStatus.forEach(e=>{3==e.status_id&&(console.log("value.status_id",e.status_id),e.disabled=!0),4==e.status_id&&(console.log("value.status_id",e.status_id),e.disabled=!1)}),console.log(this.speakerStatus))},async changeSpkStatus(e){e["statusChangeLoader"]=!0;var t="/engagements/"+this.meetingId+"/speakers/"+e.id+"/statuses?status="+e.status.id,a=await P["a"].commonEndpoint("put",t);await this.cloeForm(a),e["statusChangeLoader"]=!1,await this.listSpeaker(),this.$emit("status-update"),console.log("res",a)},async openAddForm(){console.log("Add form"),this.tabInfo={title:"ADD NEW SPEAKER",listPageEndPoint:"/speakers",listPageAddEndPoint:"/engagements/"+this.meetingId+"/speakers",listPageMethod:"get",listpageparam:"&engagementType="+this.engInfo.engagement_type.id+"&topic="+this.engInfo.topic.id+"&product="+this.engInfo.product.id+"&meeting_id="+this.meetingId+"&start_time="+this.engInfo.start_time+"&eoId="+this.engInfo.engagement_owner.user.id,listPageAddMethod:"post",method:"post",meeting:this.meetingId,addParam:"speaker_id",from:"speaker"},this.initilizeForm()}}}),z=a("d959"),H=a.n(z);const U=H()(R,[["render",L]]);t["default"]=U},5209:function(e,t,a){e.exports=a.p+"img/addwhite.b3ea4c7f.svg"},"5ada":function(e,t,a){e.exports=a.p+"img/button-bar-blackloader.f76f6f30.svg"}}]);
//# sourceMappingURL=chunk-36ae249a.f8923249.js.map